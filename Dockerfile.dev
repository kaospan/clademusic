# Development Dockerfile
FROM oven/bun:1.1.44-alpine

WORKDIR /app

# Copy package files and scripts
COPY package.json bun.lockb ./
COPY scripts ./scripts

# Install dependencies
RUN --mount=type=cache,target=/root/.bun/install/cache \
    bun install --ignore-scripts && \
    bun run scripts/abort-if-not-bun.cjs || true

# Copy source code
COPY . .

EXPOSE 8080

CMD ["bun", "run", "dev"]
