const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-Bw3E_9zw.js","assets/Footer-jkwd0XXm.js","assets/waves-CvJCdTu-.js","assets/log-in-C6TR4CDf.js","assets/menu-DehI0BEq.js","assets/sparkles-Bl_5_k-S.js","assets/arrow-right-BYwpfRgJ.js","assets/twitter-CMIN-06N.js","assets/mail-9b_HvU1m.js","assets/eye-CVnTi2Tk.js","assets/card-DTAa70qs.js","assets/music-2-BJGqPeIv.js","assets/zap-BRVwjNmZ.js","assets/trending-up-CKr7BITu.js","assets/chart-column-sVvDIme6.js","assets/users-jom_JE02.js","assets/BottomNav-B47ebx-2.js","assets/search-CcslleNd.js","assets/user-ydZmJJHv.js","assets/FeedPage--phu7K-Y.js","assets/TrackCard-CldsnIaH.js","assets/ChordBadge-0HP1iFLo.js","assets/rotate-ccw-CAgapbIM.js","assets/TrackComments-BgejQtGn.js","assets/textarea-CA6QBIZV.js","assets/badge-COT2fdH4.js","assets/index-insKhdv_.js","assets/chevron-right-HO4hPaXV.js","assets/check-B_QD3Q0O.js","assets/send-BHGhoC_h.js","assets/index-BMGu8GwO.js","assets/formatDistanceToNow-3UBXKcFR.js","assets/en-US-wfBU2YNu.js","assets/heart-DDxNR4_B.js","assets/trash-2-Cdc8jS9G.js","assets/switch-VqDPODq7.js","assets/index-BGLO-ADJ.js","assets/useFollowing-CLPCqFED.js","assets/label-CBO8vuWl.js","assets/map-pin-DH4w7Yfl.js","assets/radio-NED_3F_M.js","assets/share-2-BQ3aI5xb.js","assets/timeFormat-1gw3rh39.js","assets/ProfileCircle-DA1l7Mwq.js","assets/bookmark-DoiftbvZ.js","assets/useTracks-C7Hqpq7Y.js","assets/seedTracks-B6rAh97_.js","assets/spotifySearchService-BJ6p-wC3.js","assets/ResponsiveLayout-gMdzgpXJ.js","assets/useLastFm-OmYdK9Q6.js","assets/circle-alert-Cw-l6-HP.js","assets/LoginPage-mL9h_KNs.js","assets/input-BYrmd-B3.js","assets/arrow-left-qZeOO4s-.js","assets/types-BUw2RYXW.js","assets/SignUpPage-AVSnWLdJ.js","assets/SearchPage-LzZsgymc.js","assets/navigation-PB9wrqL7.js","assets/clock-Bgqq_K22.js","assets/external-link-Dnlv0qJR.js","assets/ComparePage-BkEAysDS.js","assets/TrackLineageView-8_zb_pYy.js","assets/select-CsQJNHVo.js","assets/ProfilePage-0nRqAjjE.js","assets/PageLayout-B73smZS3.js","assets/animations-RRyVLRXQ.js","assets/tabs-CLGfwdDZ.js","assets/shield-6cteiqfN.js","assets/link-BmDAxcKe.js","assets/disc-3-nKaae1Zd.js","assets/ConnectionsPage-B8lTaFxF.js","assets/FollowingPage-Dpxa__dQ.js","assets/SpotifyCallbackPage-BIdgjRss.js","assets/circle-check-Bu4mkKQx.js","assets/PricingPage-DhVIUYy-.js","assets/BillingPage-CL8ojiq2.js","assets/AlbumPage-4A9H3TrQ.js","assets/NearbyListenersPanel-CvMLUauj.js","assets/arrow-up-CJgWbVfi.js","assets/mic-vocal-CX0PxCmF.js","assets/file-text-ClcmgeV3.js","assets/ArtistPage-B9i92bRC.js","assets/TrackDetailPage-D2tD5ucd.js","assets/PlaylistsPage-Ba2SSMZz.js","assets/usePlaylists-BtkCwZ8J.js","assets/lock-ClvFwe6t.js","assets/plus-C_i2hJ3k.js","assets/PlaylistDetailPage-D9dSBMCr.js","assets/ForumHomePage-Do8cnlKQ.js","assets/AdminDashboard-DuFY8m5B.js","assets/triangle-alert-Dwwo9k2O.js","assets/AdminPerformanceDashboard-D8U6Vtjs.js","assets/TermsOfServicePage-03W1RlTK.js","assets/Footer-CdZyI3-n.js","assets/PrivacyPolicyPage-Dahv3irB.js","assets/MusicTasteSurvey-CYNobEHO.js"])))=>i.map(i=>d[i]);
var NC=Object.defineProperty;var Hy=e=>{throw TypeError(e)};var DC=(e,t,n)=>t in e?NC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tf=(e,t,n)=>DC(e,typeof t!="symbol"?t+"":t,n),nf=(e,t,n)=>t.has(e)||Hy("Cannot "+n);var P=(e,t,n)=>(nf(e,t,"read from private field"),n?n.call(e):t.get(e)),te=(e,t,n)=>t.has(e)?Hy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(nf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),de=(e,t,n)=>(nf(e,t,"access private method"),n);var ou=(e,t,n,r)=>({set _(i){Y(e,t,i,n)},get _(){return P(e,t,r)}});function MC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var BB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nx={exports:{}},ld={},rx={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),LC=Symbol.for("react.portal"),$C=Symbol.for("react.fragment"),FC=Symbol.for("react.strict_mode"),UC=Symbol.for("react.profiler"),VC=Symbol.for("react.provider"),BC=Symbol.for("react.context"),zC=Symbol.for("react.forward_ref"),WC=Symbol.for("react.suspense"),HC=Symbol.for("react.memo"),KC=Symbol.for("react.lazy"),Ky=Symbol.iterator;function qC(e){return e===null||typeof e!="object"?null:(e=Ky&&e[Ky]||e["@@iterator"],typeof e=="function"?e:null)}var sx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ix=Object.assign,ox={};function qo(e,t,n){this.props=e,this.context=t,this.refs=ox,this.updater=n||sx}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ax(){}ax.prototype=qo.prototype;function Cm(e,t,n){this.props=e,this.context=t,this.refs=ox,this.updater=n||sx}var Pm=Cm.prototype=new ax;Pm.constructor=Cm;ix(Pm,qo.prototype);Pm.isPureReactComponent=!0;var qy=Array.isArray,lx=Object.prototype.hasOwnProperty,Rm={current:null},ux={key:!0,ref:!0,__self:!0,__source:!0};function cx(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)lx.call(t,r)&&!ux.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Dl,type:e,key:o,ref:a,props:i,_owner:Rm.current}}function GC(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Am(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function YC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gy=/\/+/g;function rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YC(""+e.key):t.toString(36)}function Wu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Dl:case LC:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+rf(a,0):r,qy(i)?(n="",e!=null&&(n=e.replace(Gy,"$&/")+"/"),Wu(i,t,n,"",function(c){return c})):i!=null&&(Am(i)&&(i=GC(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gy,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",qy(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+rf(o,l);a+=Wu(o,t,n,u,i)}else if(u=qC(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+rf(o,l++),a+=Wu(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function au(e,t,n){if(e==null)return e;var r=[],i=0;return Wu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function QC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},Hu={transition:null},XC={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:Rm};function dx(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!Am(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=qo;fe.Fragment=$C;fe.Profiler=UC;fe.PureComponent=Cm;fe.StrictMode=FC;fe.Suspense=WC;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XC;fe.act=dx;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ix({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Rm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)lx.call(t,u)&&!ux.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Dl,type:e.type,key:i,ref:o,props:r,_owner:a}};fe.createContext=function(e){return e={$$typeof:BC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VC,_context:e},e.Consumer=e};fe.createElement=cx;fe.createFactory=function(e){var t=cx.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:zC,render:e}};fe.isValidElement=Am;fe.lazy=function(e){return{$$typeof:KC,_payload:{_status:-1,_result:e},_init:QC}};fe.memo=function(e,t){return{$$typeof:HC,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Hu.transition;Hu.transition={};try{e()}finally{Hu.transition=t}};fe.unstable_act=dx;fe.useCallback=function(e,t){return At.current.useCallback(e,t)};fe.useContext=function(e){return At.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return At.current.useDeferredValue(e)};fe.useEffect=function(e,t){return At.current.useEffect(e,t)};fe.useId=function(){return At.current.useId()};fe.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return At.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};fe.useRef=function(e){return At.current.useRef(e)};fe.useState=function(e){return At.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return At.current.useTransition()};fe.version="18.3.1";rx.exports=fe;var m=rx.exports;const W=tx(m),Om=MC({__proto__:null,default:W},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=m,ZC=Symbol.for("react.element"),eP=Symbol.for("react.fragment"),tP=Object.prototype.hasOwnProperty,nP=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rP={key:!0,ref:!0,__self:!0,__source:!0};function fx(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)tP.call(t,r)&&!rP.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ZC,type:e,key:o,ref:a,props:i,_owner:nP.current}}ld.Fragment=eP;ld.jsx=fx;ld.jsxs=fx;nx.exports=ld;var S=nx.exports,hx={exports:{}},Jt={},px={exports:{}},mx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var B=I.length;I.push(L);e:for(;0<B;){var ne=B-1>>>1,ee=I[ne];if(0<i(ee,L))I[ne]=L,I[B]=ee,B=ne;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],B=I.pop();if(B!==L){I[0]=B;e:for(var ne=0,ee=I.length,ue=ee>>>1;ne<ue;){var le=2*(ne+1)-1,Re=I[le],R=le+1,N=I[R];if(0>i(Re,B))R<ee&&0>i(N,Re)?(I[ne]=N,I[R]=B,ne=R):(I[ne]=Re,I[le]=B,ne=le);else if(R<ee&&0>i(N,B))I[ne]=N,I[R]=B,ne=R;else break e}}return L}function i(I,L){var B=I.sortIndex-L.sortIndex;return B!==0?B:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,w=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=I)r(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function _(I){if(g=!1,b(I),!w)if(n(u)!==null)w=!0,U(E);else{var L=n(c);L!==null&&H(_,L.startTime-I)}}function E(I,L){w=!1,g&&(g=!1,y(T),T=-1),p=!0;var B=h;try{for(b(L),f=n(u);f!==null&&(!(f.expirationTime>L)||I&&!D());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var ee=ne(f.expirationTime<=L);L=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(u)&&r(u),b(L)}else r(u);f=n(u)}if(f!==null)var ue=!0;else{var le=n(c);le!==null&&H(_,le.startTime-L),ue=!1}return ue}finally{f=null,h=B,p=!1}}var k=!1,C=null,T=-1,O=5,A=-1;function D(){return!(e.unstable_now()-A<O)}function M(){if(C!==null){var I=e.unstable_now();A=I;var L=!0;try{L=C(!0,I)}finally{L?K():(k=!1,C=null)}}else k=!1}var K;if(typeof v=="function")K=function(){v(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=M,K=function(){G.postMessage(null)}}else K=function(){x(M,0)};function U(I){C=I,k||(k=!0,K())}function H(I,L){T=x(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,U(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return L()}finally{h=B}},e.unstable_scheduleCallback=function(I,L,B){var ne=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,I){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,I={id:d++,callback:L,priorityLevel:I,startTime:B,expirationTime:ee,sortIndex:-1},B>ne?(I.sortIndex=B,t(c,I),n(u)===null&&I===n(c)&&(g?(y(T),T=-1):g=!0,H(_,B-ne))):(I.sortIndex=ee,t(u,I),w||p||(w=!0,U(E))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var L=h;return function(){var B=h;h=L;try{return I.apply(this,arguments)}finally{h=B}}}})(mx);px.exports=mx;var sP=px.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=m,Qt=sP;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gx=new Set,Qa={};function Ri(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(Qa[e]=t,e=0;e<t.length;e++)gx.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,oP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yy={},Qy={};function aP(e){return Th.call(Qy,e)?!0:Th.call(Yy,e)?!1:oP.test(e)?Qy[e]=!0:(Yy[e]=!0,!1)}function lP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uP(e,t,n,r){if(t===null||typeof t>"u"||lP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Im=/[\-:]([a-z])/g;function jm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Im,jm);pt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Im,jm);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Im,jm);pt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nm(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uP(t,n,i,r)&&(n=null),r||i===null?aP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),wx=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=Xy&&e[Xy]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,sf;function Sa(e){if(sf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sf=t&&t[1]||""}return`
`+sf+e}var of=!1;function af(e,t){if(!e||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{of=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sa(e):""}function cP(e){switch(e.tag){case 5:return Sa(e.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return e=af(e.type,!1),e;case 11:return e=af(e.type.render,!1),e;case 1:return e=af(e.type,!0),e;default:return""}}function Rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Gi:return"Portal";case kh:return"Profiler";case Dm:return"StrictMode";case Ch:return"Suspense";case Ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vx:return(e.displayName||"Context")+".Consumer";case yx:return(e._context.displayName||"Context")+".Provider";case Mm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lm:return t=e.displayName||null,t!==null?t:Rh(e.type)||"Memo";case Hr:t=e._payload,e=e._init;try{return Rh(e(t))}catch{}}return null}function dP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(t);case 8:return t===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fP(e){var t=bx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=fP(e))}function xx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ah(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ss(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sx(e,t){t=t.checked,t!=null&&Nm(e,"checked",t,!1)}function Oh(e,t){Sx(e,t);var n=Ss(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ih(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ih(e,t.type,Ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ih(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _a=Array.isArray;function fo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ss(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ev(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(_a(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ss(n)}}function _x(e,t){var n=Ss(t.value),r=Ss(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ex(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,Tx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hP=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(e){hP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oa[t]=Oa[e]})});function kx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oa.hasOwnProperty(e)&&Oa[e]?(""+t).trim():t+"px"}function Cx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pP=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(pP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Mh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=null;function $m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $h=null,ho=null,po=null;function nv(e){if(e=$l(e)){if(typeof $h!="function")throw Error(V(280));var t=e.stateNode;t&&(t=hd(t),$h(e.stateNode,e.type,t))}}function Px(e){ho?po?po.push(e):po=[e]:ho=e}function Rx(){if(ho){var e=ho,t=po;if(po=ho=null,nv(e),t)for(e=0;e<t.length;e++)nv(t[e])}}function Ax(e,t){return e(t)}function Ox(){}var lf=!1;function Ix(e,t,n){if(lf)return e(t,n);lf=!0;try{return Ax(e,t,n)}finally{lf=!1,(ho!==null||po!==null)&&(Ox(),Rx())}}function Ja(e,t){var n=e.stateNode;if(n===null)return null;var r=hd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Fh=!1;if(kr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Fh=!1}function mP(e,t,n,r,i,o,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ia=!1,pc=null,mc=!1,Uh=null,gP={onError:function(e){Ia=!0,pc=e}};function yP(e,t,n,r,i,o,a,l,u){Ia=!1,pc=null,mP.apply(gP,arguments)}function vP(e,t,n,r,i,o,a,l,u){if(yP.apply(this,arguments),Ia){if(Ia){var c=pc;Ia=!1,pc=null}else throw Error(V(198));mc||(mc=!0,Uh=c)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rv(e){if(Ai(e)!==e)throw Error(V(188))}function wP(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rv(i),e;if(o===r)return rv(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Nx(e){return e=wP(e),e!==null?Dx(e):null}function Dx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dx(e);if(t!==null)return t;e=e.sibling}return null}var Mx=Qt.unstable_scheduleCallback,sv=Qt.unstable_cancelCallback,bP=Qt.unstable_shouldYield,xP=Qt.unstable_requestPaint,Ke=Qt.unstable_now,SP=Qt.unstable_getCurrentPriorityLevel,Fm=Qt.unstable_ImmediatePriority,Lx=Qt.unstable_UserBlockingPriority,gc=Qt.unstable_NormalPriority,_P=Qt.unstable_LowPriority,$x=Qt.unstable_IdlePriority,ud=null,er=null;function EP(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(ud,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:CP,TP=Math.log,kP=Math.LN2;function CP(e){return e>>>=0,e===0?32:31-(TP(e)/kP|0)|0}var du=64,fu=4194304;function Ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Ea(l):(o&=a,o!==0&&(r=Ea(o)))}else a=n&~i,a!==0?r=Ea(a):o!==0&&(r=Ea(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),i=1<<n,r|=e[n],t&=~i;return r}function PP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Nn(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=PP(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Vh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fx(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function uf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function AP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Um(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _e=0;function Ux(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,Vm,Bx,zx,Wx,Bh=!1,hu=[],fs=null,hs=null,ps=null,Za=new Map,el=new Map,Yr=[],OP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(t.pointerId)}}function la(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=$l(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IP(e,t,n,r,i){switch(t){case"focusin":return fs=la(fs,e,t,n,r,i),!0;case"dragenter":return hs=la(hs,e,t,n,r,i),!0;case"mouseover":return ps=la(ps,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Za.set(o,la(Za.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,el.set(o,la(el.get(o)||null,e,t,n,r,i)),!0}return!1}function Hx(e){var t=Js(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=jx(n),t!==null){e.blockedOn=t,Wx(e.priority,function(){Bx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lh=r,n.target.dispatchEvent(r),Lh=null}else return t=$l(n),t!==null&&Vm(t),e.blockedOn=n,!1;t.shift()}return!0}function ov(e,t,n){Ku(e)&&n.delete(t)}function jP(){Bh=!1,fs!==null&&Ku(fs)&&(fs=null),hs!==null&&Ku(hs)&&(hs=null),ps!==null&&Ku(ps)&&(ps=null),Za.forEach(ov),el.forEach(ov)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,jP)))}function tl(e){function t(i){return ua(i,e)}if(0<hu.length){ua(hu[0],e);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fs!==null&&ua(fs,e),hs!==null&&ua(hs,e),ps!==null&&ua(ps,e),Za.forEach(t),el.forEach(t),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)Hx(n),n.blockedOn===null&&Yr.shift()}var mo=Nr.ReactCurrentBatchConfig,vc=!0;function NP(e,t,n,r){var i=_e,o=mo.transition;mo.transition=null;try{_e=1,Bm(e,t,n,r)}finally{_e=i,mo.transition=o}}function DP(e,t,n,r){var i=_e,o=mo.transition;mo.transition=null;try{_e=4,Bm(e,t,n,r)}finally{_e=i,mo.transition=o}}function Bm(e,t,n,r){if(vc){var i=zh(e,t,n,r);if(i===null)wf(e,t,r,wc,n),iv(e,r);else if(IP(i,e,t,n,r))r.stopPropagation();else if(iv(e,r),t&4&&-1<OP.indexOf(e)){for(;i!==null;){var o=$l(i);if(o!==null&&Vx(o),o=zh(e,t,n,r),o===null&&wf(e,t,r,wc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wf(e,t,r,null,n)}}var wc=null;function zh(e,t,n,r){if(wc=null,e=$m(r),e=Js(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wc=e,null}function Kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SP()){case Fm:return 1;case Lx:return 4;case gc:case _P:return 16;case $x:return 536870912;default:return 16}default:return 16}}var ls=null,zm=null,qu=null;function qx(){if(qu)return qu;var e,t=zm,n=t.length,r,i="value"in ls?ls.value:ls.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return qu=i.slice(e,1<r?1-r:void 0)}function Gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function av(){return!1}function Zt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pu:av,this.isPropagationStopped=av,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=Zt(Go),Ll=Ue({},Go,{view:0,detail:0}),MP=Zt(Ll),cf,df,ca,cd=Ue({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&e.type==="mousemove"?(cf=e.screenX-ca.screenX,df=e.screenY-ca.screenY):df=cf=0,ca=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:df}}),lv=Zt(cd),LP=Ue({},cd,{dataTransfer:0}),$P=Zt(LP),FP=Ue({},Ll,{relatedTarget:0}),ff=Zt(FP),UP=Ue({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),VP=Zt(UP),BP=Ue({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zP=Zt(BP),WP=Ue({},Go,{data:0}),uv=Zt(WP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qP[e])?!!t[e]:!1}function Hm(){return GP}var YP=Ue({},Ll,{key:function(e){if(e.key){var t=HP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(e){return e.type==="keypress"?Gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QP=Zt(YP),XP=Ue({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=Zt(XP),JP=Ue({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),ZP=Zt(JP),eR=Ue({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),tR=Zt(eR),nR=Ue({},cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rR=Zt(nR),sR=[9,13,27,32],Km=kr&&"CompositionEvent"in window,ja=null;kr&&"documentMode"in document&&(ja=document.documentMode);var iR=kr&&"TextEvent"in window&&!ja,Gx=kr&&(!Km||ja&&8<ja&&11>=ja),dv=" ",fv=!1;function Yx(e,t){switch(e){case"keyup":return sR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function oR(e,t){switch(e){case"compositionend":return Qx(t);case"keypress":return t.which!==32?null:(fv=!0,dv);case"textInput":return e=t.data,e===dv&&fv?null:e;default:return null}}function aR(e,t){if(Qi)return e==="compositionend"||!Km&&Yx(e,t)?(e=qx(),qu=zm=ls=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gx&&t.locale!=="ko"?null:t.data;default:return null}}var lR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lR[e.type]:t==="textarea"}function Xx(e,t,n,r){Px(r),t=bc(t,"onChange"),0<t.length&&(n=new Wm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Na=null,nl=null;function uR(e){lS(e,0)}function dd(e){var t=Zi(e);if(xx(t))return e}function cR(e,t){if(e==="change")return t}var Jx=!1;if(kr){var hf;if(kr){var pf="oninput"in document;if(!pf){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),pf=typeof pv.oninput=="function"}hf=pf}else hf=!1;Jx=hf&&(!document.documentMode||9<document.documentMode)}function mv(){Na&&(Na.detachEvent("onpropertychange",Zx),nl=Na=null)}function Zx(e){if(e.propertyName==="value"&&dd(nl)){var t=[];Xx(t,nl,e,$m(e)),Ix(uR,t)}}function dR(e,t,n){e==="focusin"?(mv(),Na=t,nl=n,Na.attachEvent("onpropertychange",Zx)):e==="focusout"&&mv()}function fR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dd(nl)}function hR(e,t){if(e==="click")return dd(t)}function pR(e,t){if(e==="input"||e==="change")return dd(t)}function mR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:mR;function rl(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function gv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yv(e,t){var n=gv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gv(n)}}function eS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tS(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gR(e){var t=tS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eS(n.ownerDocument.documentElement,n)){if(r!==null&&qm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=yv(n,o);var a=yv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yR=kr&&"documentMode"in document&&11>=document.documentMode,Xi=null,Wh=null,Da=null,Hh=!1;function vv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Xi==null||Xi!==hc(r)||(r=Xi,"selectionStart"in r&&qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&rl(Da,r)||(Da=r,r=bc(Wh,"onSelect"),0<r.length&&(t=new Wm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xi)))}function mu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ji={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},mf={},nS={};kr&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function fd(e){if(mf[e])return mf[e];if(!Ji[e])return e;var t=Ji[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nS)return mf[e]=t[n];return e}var rS=fd("animationend"),sS=fd("animationiteration"),iS=fd("animationstart"),oS=fd("transitionend"),aS=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(e,t){aS.set(e,t),Ri(t,[e])}for(var gf=0;gf<wv.length;gf++){var yf=wv[gf],vR=yf.toLowerCase(),wR=yf[0].toUpperCase()+yf.slice(1);Os(vR,"on"+wR)}Os(rS,"onAnimationEnd");Os(sS,"onAnimationIteration");Os(iS,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(oS,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function bv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vP(r,t,void 0,e),e.currentTarget=null}function lS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;bv(i,l,c),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;bv(i,l,c),o=u}}}if(mc)throw e=Uh,mc=!1,Uh=null,e}function Oe(e,t){var n=t[Qh];n===void 0&&(n=t[Qh]=new Set);var r=e+"__bubble";n.has(r)||(uS(t,e,2,!1),n.add(r))}function vf(e,t,n){var r=0;t&&(r|=4),uS(n,e,r,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function sl(e){if(!e[gu]){e[gu]=!0,gx.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||vf(n,!1,e),vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,vf("selectionchange",!1,t))}}function uS(e,t,n,r){switch(Kx(t)){case 1:var i=NP;break;case 4:i=DP;break;default:i=Bm}n=i.bind(null,t,n,e),i=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function wf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Js(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Ix(function(){var c=o,d=$m(n),f=[];e:{var h=aS.get(e);if(h!==void 0){var p=Wm,w=e;switch(e){case"keypress":if(Gu(n)===0)break e;case"keydown":case"keyup":p=QP;break;case"focusin":w="focus",p=ff;break;case"focusout":w="blur",p=ff;break;case"beforeblur":case"afterblur":p=ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZP;break;case rS:case sS:case iS:p=VP;break;case oS:p=tR;break;case"scroll":p=MP;break;case"wheel":p=rR;break;case"copy":case"cut":case"paste":p=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cv}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Ja(v,y),_!=null&&g.push(il(v,_,b)))),x)break;v=v.return}0<g.length&&(h=new p(h,w,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Lh&&(w=n.relatedTarget||n.fromElement)&&(Js(w)||w[Cr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?Js(w):null,w!==null&&(x=Ai(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=lv,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=cv,_="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?h:Zi(p),b=w==null?h:Zi(w),h=new g(_,v+"leave",p,n,d),h.target=x,h.relatedTarget=b,_=null,Js(d)===c&&(g=new g(y,v+"enter",w,n,d),g.target=b,g.relatedTarget=x,_=g),x=_,p&&w)t:{for(g=p,y=w,v=0,b=g;b;b=Ni(b))v++;for(b=0,_=y;_;_=Ni(_))b++;for(;0<v-b;)g=Ni(g),v--;for(;0<b-v;)y=Ni(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ni(g),y=Ni(y)}g=null}else g=null;p!==null&&xv(f,h,p,g,!1),w!==null&&x!==null&&xv(f,x,w,g,!0)}}e:{if(h=c?Zi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=cR;else if(hv(h))if(Jx)E=pR;else{E=fR;var k=dR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=hR);if(E&&(E=E(e,c))){Xx(f,E,n,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Ih(h,"number",h.value)}switch(k=c?Zi(c):window,e){case"focusin":(hv(k)||k.contentEditable==="true")&&(Xi=k,Wh=c,Da=null);break;case"focusout":Da=Wh=Xi=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,vv(f,n,d);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":vv(f,n,d)}var C;if(Km)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qi?Yx(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Gx&&n.locale!=="ko"&&(Qi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qi&&(C=qx()):(ls=d,zm="value"in ls?ls.value:ls.textContent,Qi=!0)),k=bc(c,T),0<k.length&&(T=new uv(T,e,null,n,d),f.push({event:T,listeners:k}),C?T.data=C:(C=Qx(n),C!==null&&(T.data=C)))),(C=iR?oR(e,n):aR(e,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(d=new uv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}lS(f,t)})}function il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ja(e,n),o!=null&&r.unshift(il(e,o,i)),o=Ja(e,t),o!=null&&r.push(il(e,o,i))),e=e.return}return r}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ja(n,o),u!=null&&a.unshift(il(n,u,l))):i||(u=Ja(n,o),u!=null&&a.push(il(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var xR=/\r\n?/g,SR=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(xR,`
`).replace(SR,"")}function yu(e,t,n){if(t=Sv(t),Sv(e)!==t&&n)throw Error(V(425))}function xc(){}var Kh=null,qh=null;function Gh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(e){return _v.resolve(null).then(e).catch(TR)}:Yh;function TR(e){setTimeout(function(){throw e})}function bf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),tl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Yo,ol="__reactProps$"+Yo,Cr="__reactContainer$"+Yo,Qh="__reactEvents$"+Yo,kR="__reactListeners$"+Yo,CR="__reactHandles$"+Yo;function Js(e){var t=e[Jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cr]||n[Jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ev(e);e!==null;){if(n=e[Jn])return n;e=Ev(e)}return t}e=n,n=e.parentNode}return null}function $l(e){return e=e[Jn]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function hd(e){return e[ol]||null}var Xh=[],eo=-1;function Is(e){return{current:e}}function Ie(e){0>eo||(e.current=Xh[eo],Xh[eo]=null,eo--)}function Ce(e,t){eo++,Xh[eo]=e.current,e.current=t}var _s={},bt=Is(_s),Ft=Is(!1),yi=_s;function Mo(e,t){var n=e.type.contextTypes;if(!n)return _s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function Sc(){Ie(Ft),Ie(bt)}function Tv(e,t,n){if(bt.current!==_s)throw Error(V(168));Ce(bt,t),Ce(Ft,n)}function cS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,dP(e)||"Unknown",i));return Ue({},n,r)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,yi=bt.current,Ce(bt,e),Ce(Ft,Ft.current),!0}function kv(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=cS(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,Ie(Ft),Ie(bt),Ce(bt,e)):Ie(Ft),Ce(Ft,n)}var wr=null,pd=!1,xf=!1;function dS(e){wr===null?wr=[e]:wr.push(e)}function PR(e){pd=!0,dS(e)}function js(){if(!xf&&wr!==null){xf=!0;var e=0,t=_e;try{var n=wr;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,pd=!1}catch(i){throw wr!==null&&(wr=wr.slice(e+1)),Mx(Fm,js),i}finally{_e=t,xf=!1}}return null}var to=[],no=0,Ec=null,Tc=0,ln=[],un=0,vi=null,Sr=1,_r="";function Ks(e,t){to[no++]=Tc,to[no++]=Ec,Ec=e,Tc=t}function fS(e,t,n){ln[un++]=Sr,ln[un++]=_r,ln[un++]=vi,vi=e;var r=Sr;e=_r;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var o=32-Nn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Sr=1<<32-Nn(t)+i|n<<i|r,_r=o+e}else Sr=1<<o|n<<i|r,_r=e}function Gm(e){e.return!==null&&(Ks(e,1),fS(e,1,0))}function Ym(e){for(;e===Ec;)Ec=to[--no],to[no]=null,Tc=to[--no],to[no]=null;for(;e===vi;)vi=ln[--un],ln[un]=null,_r=ln[--un],ln[un]=null,Sr=ln[--un],ln[un]=null}var Gt=null,qt=null,Ne=!1,jn=null;function hS(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,qt=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vi!==null?{id:Sr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,qt=null,!0):!1;default:return!1}}function Jh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zh(e){if(Ne){var t=qt;if(t){var n=t;if(!Cv(e,t)){if(Jh(e))throw Error(V(418));t=ms(n.nextSibling);var r=Gt;t&&Cv(e,t)?hS(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Gt=e)}}else{if(Jh(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ne=!1,Gt=e}}}function Pv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function vu(e){if(e!==Gt)return!1;if(!Ne)return Pv(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gh(e.type,e.memoizedProps)),t&&(t=qt)){if(Jh(e))throw pS(),Error(V(418));for(;t;)hS(e,t),t=ms(t.nextSibling)}if(Pv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=ms(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Gt?ms(e.stateNode.nextSibling):null;return!0}function pS(){for(var e=qt;e;)e=ms(e.nextSibling)}function Lo(){qt=Gt=null,Ne=!1}function Qm(e){jn===null?jn=[e]:jn.push(e)}var RR=Nr.ReactCurrentBatchConfig;function da(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function mS(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ws(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,_){return v===null||v.tag!==6?(v=Pf(b,y.mode,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function u(y,v,b,_){var E=b.type;return E===Yi?d(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hr&&Rv(E)===v.type)?(_=i(v,b.props),_.ref=da(y,v,b),_.return=y,_):(_=tc(b.type,b.key,b.props,null,y.mode,_),_.ref=da(y,v,b),_.return=y,_)}function c(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Rf(b,y.mode,_),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function d(y,v,b,_,E){return v===null||v.tag!==7?(v=pi(b,y.mode,_,E),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pf(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:return b=tc(v.type,v.key,v.props,null,y.mode,b),b.ref=da(y,null,v),b.return=y,b;case Gi:return v=Rf(v,y.mode,b),v.return=y,v;case Hr:var _=v._init;return f(y,_(v._payload),b)}if(_a(v)||oa(v))return v=pi(v,y.mode,b,null),v.return=y,v;wu(y,v)}return null}function h(y,v,b,_){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lu:return b.key===E?u(y,v,b,_):null;case Gi:return b.key===E?c(y,v,b,_):null;case Hr:return E=b._init,h(y,v,E(b._payload),_)}if(_a(b)||oa(b))return E!==null?null:d(y,v,b,_,null);wu(y,b)}return null}function p(y,v,b,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(v,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lu:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,E);case Gi:return y=y.get(_.key===null?b:_.key)||null,c(v,y,_,E);case Hr:var k=_._init;return p(y,v,b,k(_._payload),E)}if(_a(_)||oa(_))return y=y.get(b)||null,d(v,y,_,E,null);wu(v,_)}return null}function w(y,v,b,_){for(var E=null,k=null,C=v,T=v=0,O=null;C!==null&&T<b.length;T++){C.index>T?(O=C,C=null):O=C.sibling;var A=h(y,C,b[T],_);if(A===null){C===null&&(C=O);break}e&&C&&A.alternate===null&&t(y,C),v=o(A,v,T),k===null?E=A:k.sibling=A,k=A,C=O}if(T===b.length)return n(y,C),Ne&&Ks(y,T),E;if(C===null){for(;T<b.length;T++)C=f(y,b[T],_),C!==null&&(v=o(C,v,T),k===null?E=C:k.sibling=C,k=C);return Ne&&Ks(y,T),E}for(C=r(y,C);T<b.length;T++)O=p(C,y,T,b[T],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?T:O.key),v=o(O,v,T),k===null?E=O:k.sibling=O,k=O);return e&&C.forEach(function(D){return t(y,D)}),Ne&&Ks(y,T),E}function g(y,v,b,_){var E=oa(b);if(typeof E!="function")throw Error(V(150));if(b=E.call(b),b==null)throw Error(V(151));for(var k=E=null,C=v,T=v=0,O=null,A=b.next();C!==null&&!A.done;T++,A=b.next()){C.index>T?(O=C,C=null):O=C.sibling;var D=h(y,C,A.value,_);if(D===null){C===null&&(C=O);break}e&&C&&D.alternate===null&&t(y,C),v=o(D,v,T),k===null?E=D:k.sibling=D,k=D,C=O}if(A.done)return n(y,C),Ne&&Ks(y,T),E;if(C===null){for(;!A.done;T++,A=b.next())A=f(y,A.value,_),A!==null&&(v=o(A,v,T),k===null?E=A:k.sibling=A,k=A);return Ne&&Ks(y,T),E}for(C=r(y,C);!A.done;T++,A=b.next())A=p(C,y,T,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),v=o(A,v,T),k===null?E=A:k.sibling=A,k=A);return e&&C.forEach(function(M){return t(y,M)}),Ne&&Ks(y,T),E}function x(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Yi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lu:e:{for(var E=b.key,k=v;k!==null;){if(k.key===E){if(E=b.type,E===Yi){if(k.tag===7){n(y,k.sibling),v=i(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hr&&Rv(E)===k.type){n(y,k.sibling),v=i(k,b.props),v.ref=da(y,k,b),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Yi?(v=pi(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=tc(b.type,b.key,b.props,null,y.mode,_),_.ref=da(y,v,b),_.return=y,y=_)}return a(y);case Gi:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Rf(b,y.mode,_),v.return=y,y=v}return a(y);case Hr:return k=b._init,x(y,v,k(b._payload),_)}if(_a(b))return w(y,v,b,_);if(oa(b))return g(y,v,b,_);wu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=Pf(b,y.mode,_),v.return=y,y=v),a(y)):n(y,v)}return x}var $o=mS(!0),gS=mS(!1),kc=Is(null),Cc=null,ro=null,Xm=null;function Jm(){Xm=ro=Cc=null}function Zm(e){var t=kc.current;Ie(kc),e._currentValue=t}function ep(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function go(e,t){Cc=e,Xm=ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(Xm!==e)if(e={context:e,memoizedValue:t,next:null},ro===null){if(Cc===null)throw Error(V(308));ro=e,Cc.dependencies={lanes:0,firstContext:e}}else ro=ro.next=e;return t}var Zs=null;function eg(e){Zs===null?Zs=[e]:Zs.push(e)}function yS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,eg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pr(e,r)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kr=!1;function tg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pr(e,n)}return i=r.interleaved,i===null?(t.next=t,eg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pr(e,n)}function Yu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Um(e,n)}}function Av(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pc(e,t,n,r){var i=e.updateQueue;Kr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,d=c=u=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(h=t,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=Ue({},f,h);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);bi|=a,e.lanes=a,e.memoizedState=f}}function Ov(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Fl={},tr=Is(Fl),al=Is(Fl),ll=Is(Fl);function ei(e){if(e===Fl)throw Error(V(174));return e}function ng(e,t){switch(Ce(ll,t),Ce(al,e),Ce(tr,Fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nh(t,e)}Ie(tr),Ce(tr,t)}function Fo(){Ie(tr),Ie(al),Ie(ll)}function wS(e){ei(ll.current);var t=ei(tr.current),n=Nh(t,e.type);t!==n&&(Ce(al,e),Ce(tr,n))}function rg(e){al.current===e&&(Ie(tr),Ie(al))}var $e=Is(0);function Rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sf=[];function sg(){for(var e=0;e<Sf.length;e++)Sf[e]._workInProgressVersionPrimary=null;Sf.length=0}var Qu=Nr.ReactCurrentDispatcher,_f=Nr.ReactCurrentBatchConfig,wi=0,Fe=null,et=null,it=null,Ac=!1,Ma=!1,ul=0,AR=0;function gt(){throw Error(V(321))}function ig(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function og(e,t,n,r,i,o){if(wi=o,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qu.current=e===null||e.memoizedState===null?NR:DR,e=n(r,i),Ma){o=0;do{if(Ma=!1,ul=0,25<=o)throw Error(V(301));o+=1,it=et=null,t.updateQueue=null,Qu.current=MR,e=n(r,i)}while(Ma)}if(Qu.current=Oc,t=et!==null&&et.next!==null,wi=0,it=et=Fe=null,Ac=!1,t)throw Error(V(300));return e}function ag(){var e=ul!==0;return ul=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=e:it=it.next=e,it}function mn(){if(et===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=it===null?Fe.memoizedState:it.next;if(t!==null)it=t,et=e;else{if(e===null)throw Error(V(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Fe.memoizedState=it=e:it=it.next=e}return it}function cl(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=mn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((wi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=r):u=u.next=f,Fe.lanes|=d,bi|=d}c=c.next}while(c!==null&&c!==o);u===null?a=r:u.next=l,Mn(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Fe.lanes|=o,bi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tf(e){var t=mn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Mn(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bS(){}function xS(e,t){var n=Fe,r=mn(),i=t(),o=!Mn(r.memoizedState,i);if(o&&(r.memoizedState=i,$t=!0),r=r.queue,lg(ES.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,dl(9,_S.bind(null,n,r,i,t),void 0,null),at===null)throw Error(V(349));wi&30||SS(n,t,i)}return i}function SS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _S(e,t,n,r){t.value=n,t.getSnapshot=r,TS(t)&&kS(e)}function ES(e,t,n){return n(function(){TS(t)&&kS(e)})}function TS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function kS(e){var t=Pr(e,1);t!==null&&Dn(t,e,1,-1)}function Iv(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=jR.bind(null,Fe,e),[t.memoizedState,e]}function dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CS(){return mn().memoizedState}function Xu(e,t,n,r){var i=Gn();Fe.flags|=e,i.memoizedState=dl(1|t,n,void 0,r===void 0?null:r)}function md(e,t,n,r){var i=mn();r=r===void 0?null:r;var o=void 0;if(et!==null){var a=et.memoizedState;if(o=a.destroy,r!==null&&ig(r,a.deps)){i.memoizedState=dl(t,n,o,r);return}}Fe.flags|=e,i.memoizedState=dl(1|t,n,o,r)}function jv(e,t){return Xu(8390656,8,e,t)}function lg(e,t){return md(2048,8,e,t)}function PS(e,t){return md(4,2,e,t)}function RS(e,t){return md(4,4,e,t)}function AS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OS(e,t,n){return n=n!=null?n.concat([e]):null,md(4,4,AS.bind(null,t,e),n)}function ug(){}function IS(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ig(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jS(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ig(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function NS(e,t,n){return wi&21?(Mn(n,t)||(n=Fx(),Fe.lanes|=n,bi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function OR(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=_f.transition;_f.transition={};try{e(!1),t()}finally{_e=n,_f.transition=r}}function DS(){return mn().memoizedState}function IR(e,t,n){var r=vs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MS(e))LS(t,n);else if(n=yS(e,t,n,r),n!==null){var i=Rt();Dn(n,e,r,i),$S(n,t,r)}}function jR(e,t,n){var r=vs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MS(e))LS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Mn(l,a)){var u=t.interleaved;u===null?(i.next=i,eg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=yS(e,t,i,r),n!==null&&(i=Rt(),Dn(n,e,r,i),$S(n,t,r))}}function MS(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function LS(e,t){Ma=Ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $S(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Um(e,n)}}var Oc={readContext:pn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},NR={readContext:pn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:jv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xu(4194308,4,AS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xu(4,2,e,t)},useMemo:function(e,t){var n=Gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=IR.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:Iv,useDebugValue:ug,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=Iv(!1),t=e[0];return e=OR.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,i=Gn();if(Ne){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),at===null)throw Error(V(349));wi&30||SS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jv(ES.bind(null,r,o,e),[e]),r.flags|=2048,dl(9,_S.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Gn(),t=at.identifierPrefix;if(Ne){var n=_r,r=Sr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DR={readContext:pn,useCallback:IS,useContext:pn,useEffect:lg,useImperativeHandle:OS,useInsertionEffect:PS,useLayoutEffect:RS,useMemo:jS,useReducer:Ef,useRef:CS,useState:function(){return Ef(cl)},useDebugValue:ug,useDeferredValue:function(e){var t=mn();return NS(t,et.memoizedState,e)},useTransition:function(){var e=Ef(cl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:bS,useSyncExternalStore:xS,useId:DS,unstable_isNewReconciler:!1},MR={readContext:pn,useCallback:IS,useContext:pn,useEffect:lg,useImperativeHandle:OS,useInsertionEffect:PS,useLayoutEffect:RS,useMemo:jS,useReducer:Tf,useRef:CS,useState:function(){return Tf(cl)},useDebugValue:ug,useDeferredValue:function(e){var t=mn();return et===null?t.memoizedState=e:NS(t,et.memoizedState,e)},useTransition:function(){var e=Tf(cl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:bS,useSyncExternalStore:xS,useId:DS,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gd={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=vs(e),o=Er(r,i);o.payload=t,n!=null&&(o.callback=n),t=gs(e,o,i),t!==null&&(Dn(t,e,i,r),Yu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=vs(e),o=Er(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=gs(e,o,i),t!==null&&(Dn(t,e,i,r),Yu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=vs(e),i=Er(n,r);i.tag=2,t!=null&&(i.callback=t),t=gs(e,i,r),t!==null&&(Dn(t,e,r,n),Yu(t,e,r))}};function Nv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!rl(n,r)||!rl(i,o):!0}function FS(e,t,n){var r=!1,i=_s,o=t.contextType;return typeof o=="object"&&o!==null?o=pn(o):(i=Ut(t)?yi:bt.current,r=t.contextTypes,o=(r=r!=null)?Mo(e,i):_s),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Dv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gd.enqueueReplaceState(t,t.state,null)}function np(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},tg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pn(o):(o=Ut(t)?yi:bt.current,i.context=Mo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gd.enqueueReplaceState(i,i.state,null),Pc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var n="",r=t;do n+=cP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function kf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var LR=typeof WeakMap=="function"?WeakMap:Map;function US(e,t,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jc||(jc=!0,hp=r),rp(e,t)},n}function VS(e,t,n){n=Er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rp(e,t),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new LR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=XR.bind(null,e,t,n),t.then(e,e))}function Lv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $v(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Er(-1,1),t.tag=2,gs(n,t,1))),n.lanes|=1),e)}var $R=Nr.ReactCurrentOwner,$t=!1;function Tt(e,t,n,r){t.child=e===null?gS(t,null,n,r):$o(t,e.child,n,r)}function Fv(e,t,n,r,i){n=n.render;var o=t.ref;return go(t,i),r=og(e,t,n,r,o,i),n=ag(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Ne&&n&&Gm(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Uv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!yg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,BS(e,t,o,r,i)):(e=tc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(a,r)&&e.ref===t.ref)return Rr(e,t,i)}return t.flags|=1,e=ws(o,r),e.ref=t.ref,e.return=t,t.child=e}function BS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(rl(o,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Rr(e,t,i)}return sp(e,t,n,r,i)}function zS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(io,zt),zt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(io,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(io,zt),zt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ce(io,zt),zt|=r;return Tt(e,t,i,n),t.child}function WS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sp(e,t,n,r,i){var o=Ut(n)?yi:bt.current;return o=Mo(t,o),go(t,i),n=og(e,t,n,r,o,i),r=ag(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Ne&&r&&Gm(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Vv(e,t,n,r,i){if(Ut(n)){var o=!0;_c(t)}else o=!1;if(go(t,i),t.stateNode===null)Ju(e,t),FS(t,n,r),np(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=Ut(n)?yi:bt.current,c=Mo(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Dv(t,a,r,c),Kr=!1;var h=t.memoizedState;a.state=h,Pc(t,r,a,i),u=t.memoizedState,l!==r||h!==u||Ft.current||Kr?(typeof d=="function"&&(tp(t,n,d,r),u=t.memoizedState),(l=Kr||Nv(t,n,l,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,vS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Cn(t.type,l),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=Ut(n)?yi:bt.current,u=Mo(t,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Dv(t,a,r,u),Kr=!1,h=t.memoizedState,a.state=h,Pc(t,r,a,i);var w=t.memoizedState;l!==f||h!==w||Ft.current||Kr?(typeof p=="function"&&(tp(t,n,p,r),w=t.memoizedState),(c=Kr||Nv(t,n,c,r,h,w,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ip(e,t,n,r,o,i)}function ip(e,t,n,r,i,o){WS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&kv(t,n,!1),Rr(e,t,o);r=t.stateNode,$R.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,l,o)):Tt(e,t,l,o),t.memoizedState=r.state,i&&kv(t,n,!0),t.child}function HS(e){var t=e.stateNode;t.pendingContext?Tv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tv(e,t.context,!1),ng(e,t.containerInfo)}function Bv(e,t,n,r,i){return Lo(),Qm(i),t.flags|=256,Tt(e,t,n,r),t.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function KS(e,t,n){var r=t.pendingProps,i=$e.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce($e,i&1),e===null)return Zh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wd(a,r,0,null),e=pi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ap(n),t.memoizedState=op,e):cg(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FR(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ws(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ws(l,o):(o=pi(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ap(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=op,r}return o=e.child,e=o.sibling,r=ws(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cg(e,t){return t=wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,n,r){return r!==null&&Qm(r),$o(t,e.child,null,n),e=cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FR(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=kf(Error(V(422))),bu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=wd({mode:"visible",children:r.children},i,0,null),o=pi(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&$o(t,e.child,null,a),t.child.memoizedState=ap(a),t.memoizedState=op,o);if(!(t.mode&1))return bu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(V(419)),r=kf(o,r,void 0),bu(e,t,a,r)}if(l=(a&e.childLanes)!==0,$t||l){if(r=at,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pr(e,i),Dn(r,e,i,-1))}return gg(),r=kf(Error(V(421))),bu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=JR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=ms(i.nextSibling),Gt=t,Ne=!0,jn=null,e!==null&&(ln[un++]=Sr,ln[un++]=_r,ln[un++]=vi,Sr=e.id,_r=e.overflow,vi=t),t=cg(t,r.children),t.flags|=4096,t)}function zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ep(e.return,t,n)}function Cf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce($e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cf(t,!0,n,null,o);break;case"together":Cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=ws(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ws(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UR(e,t,n){switch(t.tag){case 3:HS(t),Lo();break;case 5:wS(t);break;case 1:Ut(t.type)&&_c(t);break;case 4:ng(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(kc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?KS(e,t,n):(Ce($e,$e.current&1),e=Rr(e,t,n),e!==null?e.sibling:null);Ce($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,zS(e,t,n)}return Rr(e,t,n)}var GS,lp,YS,QS;GS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};YS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ei(tr.current);var o=null;switch(n){case"input":i=Ah(e,i),r=Ah(e,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=jh(e,i),r=jh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xc)}Dh(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};QS=function(e,t,n,r){n!==r&&(t.flags|=4)};function fa(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VR(e,t,n){var r=t.pendingProps;switch(Ym(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ut(t.type)&&Sc(),yt(t),null;case 3:return r=t.stateNode,Fo(),Ie(Ft),Ie(bt),sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(gp(jn),jn=null))),lp(e,t),yt(t),null;case 5:rg(t);var i=ei(ll.current);if(n=t.type,e!==null&&t.stateNode!=null)YS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return yt(t),null}if(e=ei(tr.current),vu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jn]=t,r[ol]=o,e=(t.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<Ta.length;i++)Oe(Ta[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Jy(r,o),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",r);break;case"textarea":ev(r,o),Oe("invalid",r)}Dh(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&yu(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&yu(r.textContent,l,e),i=["children",""+l]):Qa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":uu(r),Zy(r,o,!0);break;case"textarea":uu(r),tv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ex(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Jn]=t,e[ol]=r,GS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Mh(n,r),n){case"dialog":Oe("cancel",e),Oe("close",e),i=r;break;case"iframe":case"object":case"embed":Oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ta.length;i++)Oe(Ta[i],e);i=r;break;case"source":Oe("error",e),i=r;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),i=r;break;case"details":Oe("toggle",e),i=r;break;case"input":Jy(e,r),i=Ah(e,r),Oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Oe("invalid",e);break;case"textarea":ev(e,r),i=jh(e,r),Oe("invalid",e);break;default:i=r}Dh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Cx(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tx(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xa(e,u):typeof u=="number"&&Xa(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qa.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Oe("scroll",e):u!=null&&Nm(e,o,u,a))}switch(n){case"input":uu(e),Zy(e,r,!1);break;case"textarea":uu(e),tv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ss(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fo(e,!!r.multiple,o,!1):r.defaultValue!=null&&fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)QS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=ei(ll.current),ei(tr.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jn]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:yu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=t,t.stateNode=r}return yt(t),null;case 13:if(Ie($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&qt!==null&&t.mode&1&&!(t.flags&128))pS(),Lo(),t.flags|=98560,o=!1;else if(o=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Jn]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),o=!1}else jn!==null&&(gp(jn),jn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?nt===0&&(nt=3):gg())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Fo(),lp(e,t),e===null&&sl(t.stateNode.containerInfo),yt(t),null;case 10:return Zm(t.type._context),yt(t),null;case 17:return Ut(t.type)&&Sc(),yt(t),null;case 19:if(Ie($e),o=t.memoizedState,o===null)return yt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)fa(o,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Rc(e),a!==null){for(t.flags|=128,fa(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce($e,$e.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ke()>Vo&&(t.flags|=128,r=!0,fa(o,!1),t.lanes=4194304)}else{if(!r)if(e=Rc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ne)return yt(t),null}else 2*Ke()-o.renderingStartTime>Vo&&n!==1073741824&&(t.flags|=128,r=!0,fa(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=$e.current,Ce($e,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return mg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function BR(e,t){switch(Ym(t),t.tag){case 1:return Ut(t.type)&&Sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),Ie(Ft),Ie(bt),sg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rg(t),null;case 13:if(Ie($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie($e),null;case 4:return Fo(),null;case 10:return Zm(t.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var xu=!1,wt=!1,zR=typeof WeakSet=="function"?WeakSet:Set,X=null;function so(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function up(e,t,n){try{n()}catch(r){ze(e,t,r)}}var Wv=!1;function WR(e,t){if(Kh=vc,e=tS(),qm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=a),h===o&&++d===r&&(u=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:e,selectionRange:n},vc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,x=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Cn(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){ze(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return w=Wv,Wv=!1,w}function La(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&up(t,n,o)}i=i.next}while(i!==r)}}function yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XS(e){var t=e.alternate;t!==null&&(e.alternate=null,XS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[ol],delete t[Qh],delete t[kR],delete t[CR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JS(e){return e.tag===5||e.tag===3||e.tag===4}function Hv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xc));else if(r!==4&&(e=e.child,e!==null))for(dp(e,t,n),e=e.sibling;e!==null;)dp(e,t,n),e=e.sibling}function fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fp(e,t,n),e=e.sibling;e!==null;)fp(e,t,n),e=e.sibling}var ct=null,On=!1;function Fr(e,t,n){for(n=n.child;n!==null;)ZS(e,t,n),n=n.sibling}function ZS(e,t,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:wt||so(n,t);case 6:var r=ct,i=On;ct=null,Fr(e,t,n),ct=r,On=i,ct!==null&&(On?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(On?(e=ct,n=n.stateNode,e.nodeType===8?bf(e.parentNode,n):e.nodeType===1&&bf(e,n),tl(e)):bf(ct,n.stateNode));break;case 4:r=ct,i=On,ct=n.stateNode.containerInfo,On=!0,Fr(e,t,n),ct=r,On=i;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&up(n,t,a),i=i.next}while(i!==r)}Fr(e,t,n);break;case 1:if(!wt&&(so(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,Fr(e,t,n),wt=r):Fr(e,t,n);break;default:Fr(e,t,n)}}function Kv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zR),t.forEach(function(r){var i=ZR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,On=!1;break e;case 3:ct=l.stateNode.containerInfo,On=!0;break e;case 4:ct=l.stateNode.containerInfo,On=!0;break e}l=l.return}if(ct===null)throw Error(V(160));ZS(o,a,i),ct=null,On=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ze(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e1(t,e),t=t.sibling}function e1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),qn(e),r&4){try{La(3,e,e.return),yd(3,e)}catch(g){ze(e,e.return,g)}try{La(5,e,e.return)}catch(g){ze(e,e.return,g)}}break;case 1:Sn(t,e),qn(e),r&512&&n!==null&&so(n,n.return);break;case 5:if(Sn(t,e),qn(e),r&512&&n!==null&&so(n,n.return),e.flags&32){var i=e.stateNode;try{Xa(i,"")}catch(g){ze(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Sx(i,o),Mh(l,a);var c=Mh(l,o);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Cx(i,f):d==="dangerouslySetInnerHTML"?Tx(i,f):d==="children"?Xa(i,f):Nm(i,d,f,c)}switch(l){case"input":Oh(i,o);break;case"textarea":_x(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fo(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?fo(i,!!o.multiple,o.defaultValue,!0):fo(i,!!o.multiple,o.multiple?[]:"",!1))}i[ol]=o}catch(g){ze(e,e.return,g)}}break;case 6:if(Sn(t,e),qn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ze(e,e.return,g)}}break;case 3:if(Sn(t,e),qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(t.containerInfo)}catch(g){ze(e,e.return,g)}break;case 4:Sn(t,e),qn(e);break;case 13:Sn(t,e),qn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hg=Ke())),r&4&&Kv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(c=wt)||d,Sn(t,e),wt=c):Sn(t,e),qn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:La(4,h,h.return);break;case 1:so(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){ze(r,n,g)}}break;case 5:so(h,h.return);break;case 22:if(h.memoizedState!==null){Gv(f);continue}}p!==null?(p.return=h,X=p):Gv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=kx("display",a))}catch(g){ze(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){ze(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sn(t,e),qn(e),r&4&&Kv(e);break;case 21:break;default:Sn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JS(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var o=Hv(e);fp(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Hv(e);dp(e,l,a);break;default:throw Error(V(161))}}catch(u){ze(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HR(e,t,n){X=e,t1(e)}function t1(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||xu;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||wt;l=xu;var c=wt;if(xu=a,(wt=u)&&!c)for(X=i;X!==null;)a=X,u=a.child,a.tag===22&&a.memoizedState!==null?Yv(i):u!==null?(u.return=a,X=u):Yv(i);for(;o!==null;)X=o,t1(o),o=o.sibling;X=i,xu=l,wt=c}qv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):qv(e)}}function qv(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||yd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ov(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ov(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}wt||t.flags&512&&cp(t)}catch(h){ze(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Gv(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Yv(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yd(4,t)}catch(u){ze(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){ze(t,i,u)}}var o=t.return;try{cp(t)}catch(u){ze(t,o,u)}break;case 5:var a=t.return;try{cp(t)}catch(u){ze(t,a,u)}}}catch(u){ze(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var KR=Math.ceil,Ic=Nr.ReactCurrentDispatcher,dg=Nr.ReactCurrentOwner,fn=Nr.ReactCurrentBatchConfig,me=0,at=null,Xe=null,ht=0,zt=0,io=Is(0),nt=0,fl=null,bi=0,vd=0,fg=0,$a=null,Lt=null,hg=0,Vo=1/0,yr=null,jc=!1,hp=null,ys=null,Su=!1,us=null,Nc=0,Fa=0,pp=null,Zu=-1,ec=0;function Rt(){return me&6?Ke():Zu!==-1?Zu:Zu=Ke()}function vs(e){return e.mode&1?me&2&&ht!==0?ht&-ht:RR.transition!==null?(ec===0&&(ec=Fx()),ec):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Kx(e.type)),e):1}function Dn(e,t,n,r){if(50<Fa)throw Fa=0,pp=null,Error(V(185));Ml(e,n,r),(!(me&2)||e!==at)&&(e===at&&(!(me&2)&&(vd|=n),nt===4&&Qr(e,ht)),Vt(e,r),n===1&&me===0&&!(t.mode&1)&&(Vo=Ke()+500,pd&&js()))}function Vt(e,t){var n=e.callbackNode;RP(e,t);var r=yc(e,e===at?ht:0);if(r===0)n!==null&&sv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sv(n),t===1)e.tag===0?PR(Qv.bind(null,e)):dS(Qv.bind(null,e)),ER(function(){!(me&6)&&js()}),n=null;else{switch(Ux(r)){case 1:n=Fm;break;case 4:n=Lx;break;case 16:n=gc;break;case 536870912:n=$x;break;default:n=gc}n=u1(n,n1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n1(e,t){if(Zu=-1,ec=0,me&6)throw Error(V(327));var n=e.callbackNode;if(yo()&&e.callbackNode!==n)return null;var r=yc(e,e===at?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dc(e,r);else{t=r;var i=me;me|=2;var o=s1();(at!==e||ht!==t)&&(yr=null,Vo=Ke()+500,hi(e,t));do try{YR();break}catch(l){r1(e,l)}while(!0);Jm(),Ic.current=o,me=i,Xe!==null?t=0:(at=null,ht=0,t=nt)}if(t!==0){if(t===2&&(i=Vh(e),i!==0&&(r=i,t=mp(e,i))),t===1)throw n=fl,hi(e,0),Qr(e,r),Vt(e,Ke()),n;if(t===6)Qr(e,r);else{if(i=e.current.alternate,!(r&30)&&!qR(i)&&(t=Dc(e,r),t===2&&(o=Vh(e),o!==0&&(r=o,t=mp(e,o))),t===1))throw n=fl,hi(e,0),Qr(e,r),Vt(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:qs(e,Lt,yr);break;case 3:if(Qr(e,r),(r&130023424)===r&&(t=hg+500-Ke(),10<t)){if(yc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yh(qs.bind(null,e,Lt,yr),t);break}qs(e,Lt,yr);break;case 4:if(Qr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Nn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){e.timeoutHandle=Yh(qs.bind(null,e,Lt,yr),r);break}qs(e,Lt,yr);break;case 5:qs(e,Lt,yr);break;default:throw Error(V(329))}}}return Vt(e,Ke()),e.callbackNode===n?n1.bind(null,e):null}function mp(e,t){var n=$a;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=Dc(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&gp(t)),e}function gp(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function qR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~fg,t&=~vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function Qv(e){if(me&6)throw Error(V(327));yo();var t=yc(e,0);if(!(t&1))return Vt(e,Ke()),null;var n=Dc(e,t);if(e.tag!==0&&n===2){var r=Vh(e);r!==0&&(t=r,n=mp(e,r))}if(n===1)throw n=fl,hi(e,0),Qr(e,t),Vt(e,Ke()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qs(e,Lt,yr),Vt(e,Ke()),null}function pg(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Vo=Ke()+500,pd&&js())}}function xi(e){us!==null&&us.tag===0&&!(me&6)&&yo();var t=me;me|=1;var n=fn.transition,r=_e;try{if(fn.transition=null,_e=1,e)return e()}finally{_e=r,fn.transition=n,me=t,!(me&6)&&js()}}function mg(){zt=io.current,Ie(io)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_R(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sc();break;case 3:Fo(),Ie(Ft),Ie(bt),sg();break;case 5:rg(r);break;case 4:Fo();break;case 13:Ie($e);break;case 19:Ie($e);break;case 10:Zm(r.type._context);break;case 22:case 23:mg()}n=n.return}if(at=e,Xe=e=ws(e.current,null),ht=zt=t,nt=0,fl=null,fg=vd=bi=0,Lt=$a=null,Zs!==null){for(t=0;t<Zs.length;t++)if(n=Zs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Zs=null}return e}function r1(e,t){do{var n=Xe;try{if(Jm(),Qu.current=Oc,Ac){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ac=!1}if(wi=0,it=et=Fe=null,Ma=!1,ul=0,dg.current=null,n===null||n.return===null){nt=1,fl=t,Xe=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=ht,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Lv(a);if(p!==null){p.flags&=-257,$v(p,a,l,o,t),p.mode&1&&Mv(o,c,t),t=p,u=c;var w=t.updateQueue;if(w===null){var g=new Set;g.add(u),t.updateQueue=g}else w.add(u);break e}else{if(!(t&1)){Mv(o,c,t),gg();break e}u=Error(V(426))}}else if(Ne&&l.mode&1){var x=Lv(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$v(x,a,l,o,t),Qm(Uo(u,l));break e}}o=u=Uo(u,l),nt!==4&&(nt=2),$a===null?$a=[o]:$a.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=US(o,u,t);Av(o,y);break e;case 1:l=u;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ys===null||!ys.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=VS(o,l,t);Av(o,_);break e}}o=o.return}while(o!==null)}o1(n)}catch(E){t=E,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function s1(){var e=Ic.current;return Ic.current=Oc,e===null?Oc:e}function gg(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(bi&268435455)&&!(vd&268435455)||Qr(at,ht)}function Dc(e,t){var n=me;me|=2;var r=s1();(at!==e||ht!==t)&&(yr=null,hi(e,t));do try{GR();break}catch(i){r1(e,i)}while(!0);if(Jm(),me=n,Ic.current=r,Xe!==null)throw Error(V(261));return at=null,ht=0,nt}function GR(){for(;Xe!==null;)i1(Xe)}function YR(){for(;Xe!==null&&!bP();)i1(Xe)}function i1(e){var t=l1(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?o1(e):Xe=t,dg.current=null}function o1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BR(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Xe=null;return}}else if(n=VR(n,t,zt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);nt===0&&(nt=5)}function qs(e,t,n){var r=_e,i=fn.transition;try{fn.transition=null,_e=1,QR(e,t,n,r)}finally{fn.transition=i,_e=r}return null}function QR(e,t,n,r){do yo();while(us!==null);if(me&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(AP(e,o),e===at&&(Xe=at=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,u1(gc,function(){return yo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var a=_e;_e=1;var l=me;me|=4,dg.current=null,WR(e,n),e1(n,e),gR(qh),vc=!!Kh,qh=Kh=null,e.current=n,HR(n),xP(),me=l,_e=a,fn.transition=o}else e.current=n;if(Su&&(Su=!1,us=e,Nc=i),o=e.pendingLanes,o===0&&(ys=null),EP(n.stateNode),Vt(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,e=hp,hp=null,e;return Nc&1&&e.tag!==0&&yo(),o=e.pendingLanes,o&1?e===pp?Fa++:(Fa=0,pp=e):Fa=0,js(),null}function yo(){if(us!==null){var e=Ux(Nc),t=fn.transition,n=_e;try{if(fn.transition=null,_e=16>e?16:e,us===null)var r=!1;else{if(e=us,us=null,Nc=0,me&6)throw Error(V(331));var i=me;for(me|=4,X=e.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:La(8,d,o)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(XS(d),d===c){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:La(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,X=y;break e}X=o.return}}var v=e.current;for(X=v;X!==null;){a=X;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,X=b;else e:for(a=v;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yd(9,l)}}catch(E){ze(l,l.return,E)}if(l===a){X=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,X=_;break e}X=l.return}}if(me=i,js(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(ud,e)}catch{}r=!0}return r}finally{_e=n,fn.transition=t}}return!1}function Xv(e,t,n){t=Uo(n,t),t=US(e,t,1),e=gs(e,t,1),t=Rt(),e!==null&&(Ml(e,1,t),Vt(e,t))}function ze(e,t,n){if(e.tag===3)Xv(e,e,n);else for(;t!==null;){if(t.tag===3){Xv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){e=Uo(n,e),e=VS(t,e,1),t=gs(t,e,1),e=Rt(),t!==null&&(Ml(t,1,e),Vt(t,e));break}}t=t.return}}function XR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(ht&n)===n&&(nt===4||nt===3&&(ht&130023424)===ht&&500>Ke()-hg?hi(e,0):fg|=n),Vt(e,t)}function a1(e,t){t===0&&(e.mode&1?(t=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):t=1);var n=Rt();e=Pr(e,t),e!==null&&(Ml(e,t,n),Vt(e,n))}function JR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a1(e,n)}function ZR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),a1(e,n)}var l1;l1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,UR(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Ne&&t.flags&1048576&&fS(t,Tc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ju(e,t),e=t.pendingProps;var i=Mo(t,bt.current);go(t,n),i=og(null,t,r,e,i,n);var o=ag();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,_c(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tg(t),i.updater=gd,t.stateNode=i,i._reactInternals=t,np(t,r,e,n),t=ip(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&Gm(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tA(r),e=Cn(r,e),i){case 0:t=sp(null,t,r,e,n);break e;case 1:t=Vv(null,t,r,e,n);break e;case 11:t=Fv(null,t,r,e,n);break e;case 14:t=Uv(null,t,r,Cn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),sp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Vv(e,t,r,i,n);case 3:e:{if(HS(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vS(e,t),Pc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Uo(Error(V(423)),t),t=Bv(e,t,r,n,i);break e}else if(r!==i){i=Uo(Error(V(424)),t),t=Bv(e,t,r,n,i);break e}else for(qt=ms(t.stateNode.containerInfo.firstChild),Gt=t,Ne=!0,jn=null,n=gS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===i){t=Rr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return wS(t),e===null&&Zh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Gh(r,i)?a=null:o!==null&&Gh(r,o)&&(t.flags|=32),WS(e,t),Tt(e,t,a,n),t.child;case 6:return e===null&&Zh(t),null;case 13:return KS(e,t,n);case 4:return ng(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$o(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Fv(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ce(kc,r._currentValue),r._currentValue=a,o!==null)if(Mn(o.value,a)){if(o.children===i.children&&!Ft.current){t=Rr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Er(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ep(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ep(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,go(t,n),i=pn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=Cn(r,t.pendingProps),i=Cn(r.type,i),Uv(e,t,r,i,n);case 15:return BS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Ju(e,t),t.tag=1,Ut(r)?(e=!0,_c(t)):e=!1,go(t,n),FS(t,r,i),np(t,r,i,n),ip(null,t,r,!0,e,n);case 19:return qS(e,t,n);case 22:return zS(e,t,n)}throw Error(V(156,t.tag))};function u1(e,t){return Mx(e,t)}function eA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new eA(e,t,n,r)}function yg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tA(e){if(typeof e=="function")return yg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mm)return 11;if(e===Lm)return 14}return 2}function ws(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")yg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Yi:return pi(n.children,i,o,t);case Dm:a=8,i|=8;break;case kh:return e=cn(12,n,t,i|2),e.elementType=kh,e.lanes=o,e;case Ch:return e=cn(13,n,t,i),e.elementType=Ch,e.lanes=o,e;case Ph:return e=cn(19,n,t,i),e.elementType=Ph,e.lanes=o,e;case wx:return wd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yx:a=10;break e;case vx:a=9;break e;case Mm:a=11;break e;case Lm:a=14;break e;case Hr:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=cn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function pi(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function wd(e,t,n,r){return e=cn(22,e,r,t),e.elementType=wx,e.lanes=n,e.stateNode={isHidden:!1},e}function Pf(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Rf(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vg(e,t,n,r,i,o,a,l,u){return e=new nA(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(o),e}function rA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c1(e){if(!e)return _s;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ut(n))return cS(e,n,t)}return t}function d1(e,t,n,r,i,o,a,l,u){return e=vg(n,r,!0,e,i,o,a,l,u),e.context=c1(null),n=e.current,r=Rt(),i=vs(n),o=Er(r,i),o.callback=t??null,gs(n,o,i),e.current.lanes=i,Ml(e,i,r),Vt(e,r),e}function bd(e,t,n,r){var i=t.current,o=Rt(),a=vs(i);return n=c1(n),t.context===null?t.context=n:t.pendingContext=n,t=Er(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gs(i,t,a),e!==null&&(Dn(e,i,a,o),Yu(e,i,a)),a}function Mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wg(e,t){Jv(e,t),(e=e.alternate)&&Jv(e,t)}function sA(){return null}var f1=typeof reportError=="function"?reportError:function(e){console.error(e)};function bg(e){this._internalRoot=e}xd.prototype.render=bg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));bd(e,t,null,null)};xd.prototype.unmount=bg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){bd(null,e,null,null)}),t[Cr]=null}};function xd(e){this._internalRoot=e}xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=zx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yr.length&&t!==0&&t<Yr[n].priority;n++);Yr.splice(n,0,e),n===0&&Hx(e)}};function xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function iA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Mc(a);o.call(c)}}var a=d1(t,r,e,0,null,!1,!1,"",Zv);return e._reactRootContainer=a,e[Cr]=a.current,sl(e.nodeType===8?e.parentNode:e),xi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Mc(u);l.call(c)}}var u=vg(e,0,!1,null,null,!1,!1,"",Zv);return e._reactRootContainer=u,e[Cr]=u.current,sl(e.nodeType===8?e.parentNode:e),xi(function(){bd(t,u,n,r)}),u}function _d(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Mc(a);l.call(u)}}bd(t,a,e,i)}else a=iA(n,t,e,i,r);return Mc(a)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ea(t.pendingLanes);n!==0&&(Um(t,n|1),Vt(t,Ke()),!(me&6)&&(Vo=Ke()+500,js()))}break;case 13:xi(function(){var r=Pr(e,1);if(r!==null){var i=Rt();Dn(r,e,1,i)}}),wg(e,1)}};Vm=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var n=Rt();Dn(t,e,134217728,n)}wg(e,134217728)}};Bx=function(e){if(e.tag===13){var t=vs(e),n=Pr(e,t);if(n!==null){var r=Rt();Dn(n,e,t,r)}wg(e,t)}};zx=function(){return _e};Wx=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};$h=function(e,t,n){switch(t){case"input":if(Oh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hd(r);if(!i)throw Error(V(90));xx(r),Oh(r,i)}}}break;case"textarea":_x(e,n);break;case"select":t=n.value,t!=null&&fo(e,!!n.multiple,t,!1)}};Ax=pg;Ox=xi;var oA={usingClientEntryPoint:!1,Events:[$l,Zi,hd,Px,Rx,pg]},ha={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nx(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{ud=_u.inject(aA),er=_u}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(t))throw Error(V(200));return rA(e,t,null,n)};Jt.createRoot=function(e,t){if(!xg(e))throw Error(V(299));var n=!1,r="",i=f1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vg(e,1,!1,null,null,n,!1,r,i),e[Cr]=t.current,sl(e.nodeType===8?e.parentNode:e),new bg(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Nx(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return xi(e)};Jt.hydrate=function(e,t,n){if(!Sd(t))throw Error(V(200));return _d(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!xg(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=f1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=d1(t,null,e,1,n??null,i,!1,o,a),e[Cr]=t.current,sl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xd(t)};Jt.render=function(e,t,n){if(!Sd(t))throw Error(V(200));return _d(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!Sd(e))throw Error(V(40));return e._reactRootContainer?(xi(function(){_d(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};Jt.unstable_batchedUpdates=pg;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sd(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return _d(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function h1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h1)}catch(e){console.error(e)}}h1(),hx.exports=Jt;var Ul=hx.exports;const p1=tx(Ul);var m1,e0=Ul;m1=e0.createRoot,e0.hydrateRoot;const lA="modulepreload",uA=function(e){return"/clademusic/"+e},t0={},je=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=uA(u),u in t0)return;t0[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":lA,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},cA=1,dA=1e6;let Af=0;function fA(){return Af=(Af+1)%Number.MAX_SAFE_INTEGER,Af.toString()}const Of=new Map,n0=e=>{if(Of.has(e))return;const t=setTimeout(()=>{Of.delete(e),Ua({type:"REMOVE_TOAST",toastId:e})},dA);Of.set(e,t)},hA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?n0(n):e.toasts.forEach(r=>{n0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},nc=[];let rc={toasts:[]};function Ua(e){rc=hA(rc,e),nc.forEach(t=>{t(rc)})}function Sg({...e}){const t=fA(),n=i=>Ua({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ua({type:"DISMISS_TOAST",toastId:t});return Ua({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function pA(){const[e,t]=m.useState(rc);return m.useEffect(()=>(nc.push(t),()=>{const n=nc.indexOf(t);n>-1&&nc.splice(n,1)}),[e]),{...e,toast:Sg,dismiss:n=>Ua({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function r0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function g1(...e){return t=>{let n=!1;const r=e.map(i=>{const o=r0(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():r0(e[i],null)}}}}function qe(...e){return m.useCallback(g1(...e),e)}function mA(e,t){const n=m.createContext(t),r=o=>{const{children:a,...l}=o,u=m.useMemo(()=>l,Object.values(l));return S.jsx(n.Provider,{value:u,children:a})};r.displayName=e+"Provider";function i(o){const a=m.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Oi(e,t=[]){let n=[];function r(o,a){const l=m.createContext(a),u=n.length;n=[...n,a];const c=f=>{var y;const{scope:h,children:p,...w}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[u])||l,x=m.useMemo(()=>w,Object.values(w));return S.jsx(g.Provider,{value:x,children:p})};c.displayName=o+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[u])||l,w=m.useContext(p);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(a=>m.createContext(a));return function(l){const u=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[r,gA(i,...t)]}function gA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(o)[`__scope${c}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function hl(e){const t=vA(e),n=m.forwardRef((r,i)=>{const{children:o,...a}=r,l=m.Children.toArray(o),u=l.find(bA);if(u){const c=u.props.children,d=l.map(f=>f===u?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return S.jsx(t,{...a,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return S.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var yA=hl("Slot");function vA(e){const t=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const a=SA(i),l=xA(o,i.props);return i.type!==m.Fragment&&(l.ref=r?g1(r,a):a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y1=Symbol("radix.slottable");function wA(e){const t=({children:n})=>S.jsx(S.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=y1,t}function bA(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y1}function xA(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const u=o(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function SA(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _A(e){const t=e+"CollectionProvider",[n,r]=Oi(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:y}=g,v=W.useRef(null),b=W.useRef(new Map).current;return S.jsx(i,{scope:x,itemMap:b,collectionRef:v,children:y})};a.displayName=t;const l=e+"CollectionSlot",u=hl(l),c=W.forwardRef((g,x)=>{const{scope:y,children:v}=g,b=o(l,y),_=qe(x,b.collectionRef);return S.jsx(u,{ref:_,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=hl(d),p=W.forwardRef((g,x)=>{const{scope:y,children:v,...b}=g,_=W.useRef(null),E=qe(x,_),k=o(d,y);return W.useEffect(()=>(k.itemMap.set(_,{ref:_,...b}),()=>void k.itemMap.delete(_))),S.jsx(h,{[f]:"",ref:E,children:v})});p.displayName=d;function w(g){const x=o(e+"CollectionConsumer",g);return W.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((k,C)=>b.indexOf(k.ref.current)-b.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},w,r]}var EA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=EA.reduce((e,t)=>{const n=hl(`Primitive.${t}`),r=m.forwardRef((i,o)=>{const{asChild:a,...l}=i,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(u,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function v1(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}function ot(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function TA(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kA="DismissableLayer",yp="dismissableLayer.update",CA="dismissableLayer.pointerDownOutside",PA="dismissableLayer.focusOutside",s0,w1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ed=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...u}=e,c=m.useContext(w1),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=qe(t,C=>f(C)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=d?g.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,E=AA(C=>{const T=C.target,O=[...c.branches].some(A=>A.contains(T));!_||O||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},h),k=OA(C=>{const T=C.target;[...c.branches].some(A=>A.contains(T))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},h);return TA(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(s0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),i0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=s0)}},[d,h,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),i0())},[d,c]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(yp,C),()=>document.removeEventListener(yp,C)},[]),S.jsx(Ee.div,{...u,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,E.onPointerDownCapture)})});Ed.displayName=kA;var RA="DismissableLayerBranch",b1=m.forwardRef((e,t)=>{const n=m.useContext(w1),r=m.useRef(null),i=qe(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),S.jsx(Ee.div,{...e,ref:i})});b1.displayName=RA;function AA(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let u=function(){x1(CA,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OA(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&x1(PA,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i0(){const e=new CustomEvent(yp);document.dispatchEvent(e)}function x1(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?v1(i,o):i.dispatchEvent(o)}var IA=Ed,jA=b1,Xt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},NA="Portal",_g=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,o]=m.useState(!1);Xt(()=>o(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?p1.createPortal(S.jsx(Ee.div,{...r,ref:t}),a):null});_g.displayName=NA;function DA(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var or=e=>{const{present:t,children:n}=e,r=MA(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=qe(r.ref,LA(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};or.displayName="Presence";function MA(e){const[t,n]=m.useState(),r=m.useRef(null),i=m.useRef(e),o=m.useRef("none"),a=e?"mounted":"unmounted",[l,u]=DA(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Eu(r.current);o.current=l==="mounted"?c:"none"},[l]),Xt(()=>{const c=r.current,d=i.current;if(d!==e){const h=o.current,p=Eu(c);e?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Xt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Eu(r.current).includes(p.animationName);if(p.target===t&&g&&(u("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(o.current=Eu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Eu(e){return(e==null?void 0:e.animationName)||"none"}function LA(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $A=Om[" useInsertionEffect ".trim().toString()]||Xt;function S1({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=FA({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:i;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const c=m.useCallback(d=>{var f;if(l){const h=UA(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else o(d)},[l,e,o,a]);return[u,c]}function FA({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),i=m.useRef(n),o=m.useRef(t);return $A(()=>{o.current=t},[t]),m.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function UA(e){return typeof e=="function"}var VA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BA="VisuallyHidden",Td=m.forwardRef((e,t)=>S.jsx(Ee.span,{...e,ref:t,style:{...VA,...e.style}}));Td.displayName=BA;var zA=Td,Eg="ToastProvider",[Tg,WA,HA]=_A("Toast"),[_1,zB]=Oi("Toast",[HA]),[KA,kd]=_1(Eg),E1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[l,u]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Eg}\`. Expected non-empty \`string\`.`),S.jsx(Tg.Provider,{scope:t,children:S.jsx(KA,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};E1.displayName=Eg;var T1="ToastViewport",qA=["F8"],vp="toast.viewportPause",wp="toast.viewportResume",k1=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=qA,label:i="Notifications ({hotkey})",...o}=e,a=kd(T1,n),l=WA(n),u=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=qe(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;m.useEffect(()=>{const x=y=>{var b;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=u.current,y=f.current;if(w&&x&&y){const v=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(vp);y.dispatchEvent(k),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(wp);y.dispatchEvent(k),a.isClosePausedRef.current=!1}},_=k=>{!x.contains(k.relatedTarget)&&b()},E=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",v),x.addEventListener("focusout",_),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[w,a.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const v=l().map(b=>{const _=b.ref.current,E=[_,...oO(_)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const x=f.current;if(x){const y=v=>{var E,k,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,O=v.shiftKey;if(v.target===x&&O){(E=c.current)==null||E.focus();return}const M=g({tabbingDirection:O?"backwards":"forwards"}),K=M.findIndex(F=>F===T);If(M.slice(K+1))?v.preventDefault():O?(k=c.current)==null||k.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,g]),S.jsxs(jA,{ref:u,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&S.jsx(bp,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});If(x)}}),S.jsx(Tg.Slot,{scope:n,children:S.jsx(Ee.ol,{tabIndex:-1,...o,ref:h})}),w&&S.jsx(bp,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});If(x)}})]})});k1.displayName=T1;var C1="ToastFocusProxy",bp=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=kd(C1,n);return S.jsx(Td,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var c;const l=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&r()}})});bp.displayName=C1;var Vl="Toast",GA="toast.swipeStart",YA="toast.swipeMove",QA="toast.swipeCancel",XA="toast.swipeEnd",P1=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e,[l,u]=S1({prop:r,defaultProp:i??!0,onChange:o,caller:Vl});return S.jsx(or,{present:n||l,children:S.jsx(eO,{open:l,...a,ref:t,onClose:()=>u(!1),onPause:ot(e.onPause),onResume:ot(e.onResume),onSwipeStart:ve(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});P1.displayName=Vl;var[JA,ZA]=_1(Vl,{onClose(){}}),eO=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,g=kd(Vl,n),[x,y]=m.useState(null),v=qe(t,F=>y(F)),b=m.useRef(null),_=m.useRef(null),E=i||g.duration,k=m.useRef(0),C=m.useRef(E),T=m.useRef(0),{onToastAdd:O,onToastRemove:A}=g,D=ot(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),a()}),M=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),k.current=new Date().getTime(),T.current=window.setTimeout(D,F))},[D]);m.useEffect(()=>{const F=g.viewport;if(F){const G=()=>{M(C.current),c==null||c()},U=()=>{const H=new Date().getTime()-k.current;C.current=C.current-H,window.clearTimeout(T.current),u==null||u()};return F.addEventListener(vp,U),F.addEventListener(wp,G),()=>{F.removeEventListener(vp,U),F.removeEventListener(wp,G)}}},[g.viewport,E,u,c,M]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&M(E)},[o,E,g.isClosePausedRef,M]),m.useEffect(()=>(O(),()=>A()),[O,A]);const K=m.useMemo(()=>x?D1(x):null,[x]);return g.viewport?S.jsxs(S.Fragment,{children:[K&&S.jsx(tO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),S.jsx(JA,{scope:n,onClose:D,children:Ul.createPortal(S.jsx(Tg.ItemSlot,{scope:n,children:S.jsx(IA,{asChild:!0,onEscapeKeyDown:ve(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ve(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:ve(e.onPointerMove,F=>{if(!b.current)return;const G=F.clientX-b.current.x,U=F.clientY-b.current.y,H=!!_.current,I=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=I?L(0,G):0,ne=I?0:L(0,U),ee=F.pointerType==="touch"?10:2,ue={x:B,y:ne},le={originalEvent:F,delta:ue};H?(_.current=ue,Tu(YA,f,le,{discrete:!1})):o0(ue,g.swipeDirection,ee)?(_.current=ue,Tu(GA,d,le,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(G)>ee||Math.abs(U)>ee)&&(b.current=null)}),onPointerUp:ve(e.onPointerUp,F=>{const G=_.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),_.current=null,b.current=null,G){const H=F.currentTarget,I={originalEvent:F,delta:G};o0(G,g.swipeDirection,g.swipeThreshold)?Tu(XA,p,I,{discrete:!0}):Tu(QA,h,I,{discrete:!0}),H.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tO=e=>{const{__scopeToast:t,children:n,...r}=e,i=kd(Vl,t),[o,a]=m.useState(!1),[l,u]=m.useState(!1);return sO(()=>a(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:S.jsx(_g,{asChild:!0,children:S.jsx(Td,{...r,children:o&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},nO="ToastTitle",R1=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(Ee.div,{...r,ref:t})});R1.displayName=nO;var rO="ToastDescription",A1=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(Ee.div,{...r,ref:t})});A1.displayName=rO;var O1="ToastAction",I1=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?S.jsx(N1,{altText:n,asChild:!0,children:S.jsx(kg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${O1}\`. Expected non-empty \`string\`.`),null)});I1.displayName=O1;var j1="ToastClose",kg=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=ZA(j1,n);return S.jsx(N1,{asChild:!0,children:S.jsx(Ee.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,i.onClose)})})});kg.displayName=j1;var N1=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return S.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function D1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),iO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...D1(r))}}),t}function Tu(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?v1(i,o):i.dispatchEvent(o)}var o0=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function sO(e=()=>{}){const t=ot(e);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function iO(e){return e.nodeType===e.ELEMENT_NODE}function oO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function If(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var aO=E1,M1=k1,L1=P1,$1=R1,F1=A1,U1=I1,V1=kg;function B1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=B1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function z1(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=B1(e))&&(r&&(r+=" "),r+=t);return r}const a0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l0=z1,Cg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return l0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=a0(d)||a0(f);return i[c][h]}),l=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[g,x]=w;return Array.isArray(x)?x.includes({...o,...l}[g]):{...o,...l}[g]===x})?[...c,f,h]:c},[]);return l0(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},u)=>m.createElement("svg",{ref:u,...uO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:W1("lucide",i),...l},[...a.map(([c,d])=>m.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const n=m.forwardRef(({className:r,...i},o)=>m.createElement(cO,{ref:o,iconNode:t,className:W1(`lucide-${lO(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=mt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=mt("ListMusic",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=mt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=mt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=mt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=mt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=mt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=mt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=mt("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=mt("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=mt("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=mt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=mt("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pg="-",EO=e=>{const t=kO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Pg);return l[0]===""&&l.length!==1&&l.shift(),K1(l,t)||TO(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},K1=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?K1(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Pg);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},u0=/^\[(.+)\]$/,TO=e=>{if(u0.test(e)){const t=u0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},kO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return PO(Object.entries(e.classGroups),n).forEach(([o,a])=>{xp(a,r,o,t)}),r},xp=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:c0(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(CO(i)){xp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{xp(a,c0(t,o),n,r)})})},c0=(e,t)=>{let n=e;return t.split(Pg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CO=e=>e.isThemeGetter,PO=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[n,i]}):e,RO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},q1="!",AO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=l=>{const u=[];let c=0,d=0,f;for(let x=0;x<l.length;x++){let y=l[x];if(c===0){if(y===i&&(r||l.slice(x,x+o)===t)){u.push(l.slice(d,x)),d=x+o;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const h=u.length===0?l:l.substring(d),p=h.startsWith(q1),w=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},OO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},IO=e=>({cache:RO(e.cacheSize),parseClassName:AO(e),...EO(e)}),jO=/\s+/,NO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(jO);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let w=!!p,g=r(w?h.substring(0,p):h);if(!g){if(!w){l=c+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=c+(l.length>0?" "+l:l);continue}w=!1}const x=OO(d).join(":"),y=f?x+q1:x,v=y+g;if(o.includes(v))continue;o.push(v);const b=i(g,w);for(let _=0;_<b.length;++_){const E=b[_];o.push(y+E)}l=c+(l.length>0?" "+l:l)}return l};function DO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=G1(t))&&(r&&(r+=" "),r+=n);return r}const G1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=G1(e[r]))&&(n&&(n+=" "),n+=t);return n};function MO(e,...t){let n,r,i,o=a;function a(u){const c=t.reduce((d,f)=>f(d),e());return n=IO(c),r=n.cache.get,i=n.cache.set,o=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=NO(u,n);return i(u,d),d}return function(){return o(DO.apply(null,arguments))}}const Ae=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Y1=/^\[(?:([a-z-]+):)?(.+)\]$/i,LO=/^\d+\/\d+$/,$O=new Set(["px","full","screen"]),FO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=e=>vo(e)||$O.has(e)||LO.test(e),Ur=e=>Qo(e,"length",XO),vo=e=>!!e&&!Number.isNaN(Number(e)),jf=e=>Qo(e,"number",vo),pa=e=>!!e&&Number.isInteger(Number(e)),WO=e=>e.endsWith("%")&&vo(e.slice(0,-1)),ce=e=>Y1.test(e),Vr=e=>FO.test(e),HO=new Set(["length","size","percentage"]),KO=e=>Qo(e,HO,Q1),qO=e=>Qo(e,"position",Q1),GO=new Set(["image","url"]),YO=e=>Qo(e,GO,ZO),QO=e=>Qo(e,"",JO),ma=()=>!0,Qo=(e,t,n)=>{const r=Y1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},XO=e=>UO.test(e)&&!VO.test(e),Q1=()=>!1,JO=e=>BO.test(e),ZO=e=>zO.test(e),eI=()=>{const e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),i=Ae("borderColor"),o=Ae("borderRadius"),a=Ae("borderSpacing"),l=Ae("borderWidth"),u=Ae("contrast"),c=Ae("grayscale"),d=Ae("hueRotate"),f=Ae("invert"),h=Ae("gap"),p=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),g=Ae("inset"),x=Ae("margin"),y=Ae("opacity"),v=Ae("padding"),b=Ae("saturate"),_=Ae("scale"),E=Ae("sepia"),k=Ae("skew"),C=Ae("space"),T=Ae("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,t],M=()=>[ce,t],K=()=>["",mr,Ur],F=()=>["auto",vo,ce],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ce],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[vo,ce];return{cacheSize:500,separator:":",theme:{colors:[ma],spacing:[mr,Ur],blur:["none","",Vr,ce],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Vr,ce],borderSpacing:M(),borderWidth:K(),contrast:ne(),grayscale:L(),hueRotate:ne(),invert:L(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[WO,Ur],inset:D(),margin:D(),opacity:ne(),padding:M(),saturate:ne(),scale:ne(),sepia:L(),skew:ne(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Vr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pa,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",pa,ce]}],"grid-cols":[{"grid-cols":[ma]}],"col-start-end":[{col:["auto",{span:["full",pa,ce]},ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ma]}],"row-start-end":[{row:["auto",{span:[pa,ce]},ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Vr]},Vr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vr,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jf]}],"font-family":[{font:[ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",vo,jf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,Ur]}],"underline-offset":[{"underline-offset":["auto",mr,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),qO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[mr,ce]}],"outline-w":[{outline:[mr,Ur]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[mr,Ur]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vr,QO]}],"shadow-color":[{shadow:[ma]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Vr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[pa,ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mr,Ur,jf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tI=MO(eI);function be(...e){return tI(z1(e))}const nI=aO,X1=m.forwardRef(({className:e,...t},n)=>S.jsx(M1,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));X1.displayName=M1.displayName;const rI=Cg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J1=m.forwardRef(({className:e,variant:t,...n},r)=>S.jsx(L1,{ref:r,className:be(rI({variant:t}),e),...n}));J1.displayName=L1.displayName;const sI=m.forwardRef(({className:e,...t},n)=>S.jsx(U1,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sI.displayName=U1.displayName;const Z1=m.forwardRef(({className:e,...t},n)=>S.jsx(V1,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:S.jsx(mi,{className:"h-4 w-4"})}));Z1.displayName=V1.displayName;const e_=m.forwardRef(({className:e,...t},n)=>S.jsx($1,{ref:n,className:be("text-sm font-semibold",e),...t}));e_.displayName=$1.displayName;const t_=m.forwardRef(({className:e,...t},n)=>S.jsx(F1,{ref:n,className:be("text-sm opacity-90",e),...t}));t_.displayName=F1.displayName;function iI(){const{toasts:e}=pA();return S.jsxs(nI,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return S.jsxs(J1,{...o,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(e_,{children:n}),r&&S.jsx(t_,{children:r})]}),i,S.jsx(Z1,{})]},t)}),S.jsx(X1,{})]})}var d0=["light","dark"],oI="(prefers-color-scheme: dark)",aI=m.createContext(void 0),lI={setTheme:e=>{},themes:[]},uI=()=>{var e;return(e=m.useContext(aI))!=null?e:lI};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:l,nonce:u})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?d0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,g=!1,x=!0)=>{let y=a?a[w]:w,v=g?w+"|| ''":`'${y}'`,b="";return i&&x&&!g&&d0.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${oI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${c?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var cI=e=>{switch(e){case"success":return hI;case"info":return mI;case"warning":return pI;case"error":return gI;default:return null}},dI=Array(12).fill(0),fI=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},dI.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hI=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pI=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mI=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gI=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yI=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vI=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Sp=1,wI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sp++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,o,a=r.then(async u=>{if(o=["resolve",u],W.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(xI(u)&&!u.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:n,type:"error",message:c,description:d})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(u):t.success,d=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(u):t.error,d=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=t.finally)==null||u.call(t)}),l=()=>new Promise((u,c)=>a.then(()=>o[0]==="reject"?c(o[1]):u(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Sp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mt=new wI,bI=(e,t)=>{let n=(t==null?void 0:t.id)||Sp++;return Mt.addToast({title:e,...t,id:n}),n},xI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SI=bI,_I=()=>Mt.toasts,EI=()=>Mt.getActiveToasts(),WB=Object.assign(SI,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:_I,getToasts:EI});function TI(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}TI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ku(e){return e.label!==void 0}var kI=3,CI="32px",PI="16px",f0=4e3,RI=356,AI=14,OI=20,II=200;function _n(...e){return e.filter(Boolean).join(" ")}function jI(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var NI=e=>{var t,n,r,i,o,a,l,u,c,d,f;let{invert:h,toast:p,unstyled:w,interacting:g,setHeights:x,visibleToasts:y,heights:v,index:b,toasts:_,expanded:E,removeToast:k,defaultRichColors:C,closeButton:T,style:O,cancelButtonStyle:A,actionButtonStyle:D,className:M="",descriptionClassName:K="",duration:F,position:G,gap:U,loadingIcon:H,expandByDefault:I,classNames:L,icons:B,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ee}=e,[ue,le]=W.useState(null),[Re,R]=W.useState(null),[N,z]=W.useState(!1),[q,Q]=W.useState(!1),[ge,oe]=W.useState(!1),[ye,Te]=W.useState(!1),[yn,tn]=W.useState(!1),[$s,Vn]=W.useState(0),[vn,Jl]=W.useState(0),Bn=W.useRef(p.duration||F||f0),Fs=W.useRef(null),nn=W.useRef(null),Us=b===0,Vs=b+1<=y,rt=p.type,wn=p.dismissible!==!1,Ii=p.className||"",Zl=p.descriptionClassName||"",It=W.useMemo(()=>v.findIndex(re=>re.toastId===p.id)||0,[v,p.id]),Qd=W.useMemo(()=>{var re;return(re=p.closeButton)!=null?re:T},[p.closeButton,T]),He=W.useMemo(()=>p.duration||F||f0,[p.duration,F]),ur=W.useRef(0),Lr=W.useRef(0),zn=W.useRef(0),bn=W.useRef(null),[cr,Bs]=G.split("-"),dr=W.useMemo(()=>v.reduce((re,pe,we)=>we>=It?re:re+pe.height,0),[v,It]),eu=vI(),tu=p.invert||h,ji=rt==="loading";Lr.current=W.useMemo(()=>It*U+dr,[It,dr]),W.useEffect(()=>{Bn.current=He},[He]),W.useEffect(()=>{z(!0)},[]),W.useEffect(()=>{let re=nn.current;if(re){let pe=re.getBoundingClientRect().height;return Jl(pe),x(we=>[{toastId:p.id,height:pe,position:p.position},...we]),()=>x(we=>we.filter(xt=>xt.toastId!==p.id))}},[x,p.id]),W.useLayoutEffect(()=>{if(!N)return;let re=nn.current,pe=re.style.height;re.style.height="auto";let we=re.getBoundingClientRect().height;re.style.height=pe,Jl(we),x(xt=>xt.find(jt=>jt.toastId===p.id)?xt.map(jt=>jt.toastId===p.id?{...jt,height:we}:jt):[{toastId:p.id,height:we,position:p.position},...xt])},[N,p.title,p.description,x,p.id]);let xn=W.useCallback(()=>{Q(!0),Vn(Lr.current),x(re=>re.filter(pe=>pe.toastId!==p.id)),setTimeout(()=>{k(p)},II)},[p,k,x,Lr]);W.useEffect(()=>{if(p.promise&&rt==="loading"||p.duration===1/0||p.type==="loading")return;let re;return E||g||ee&&eu?(()=>{if(zn.current<ur.current){let pe=new Date().getTime()-ur.current;Bn.current=Bn.current-pe}zn.current=new Date().getTime()})():Bn.current!==1/0&&(ur.current=new Date().getTime(),re=setTimeout(()=>{var pe;(pe=p.onAutoClose)==null||pe.call(p,p),xn()},Bn.current)),()=>clearTimeout(re)},[E,g,p,rt,ee,eu,xn]),W.useEffect(()=>{p.delete&&xn()},[xn,p.delete]);function nu(){var re,pe,we;return B!=null&&B.loading?W.createElement("div",{className:_n(L==null?void 0:L.loader,(re=p==null?void 0:p.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":rt==="loading"},B.loading):H?W.createElement("div",{className:_n(L==null?void 0:L.loader,(pe=p==null?void 0:p.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":rt==="loading"},H):W.createElement(fI,{className:_n(L==null?void 0:L.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader),visible:rt==="loading"})}return W.createElement("li",{tabIndex:0,ref:nn,className:_n(M,Ii,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[rt],(n=p==null?void 0:p.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":N,"data-promise":!!p.promise,"data-swiped":yn,"data-removed":q,"data-visible":Vs,"data-y-position":cr,"data-x-position":Bs,"data-index":b,"data-front":Us,"data-swiping":ge,"data-dismissible":wn,"data-type":rt,"data-invert":tu,"data-swipe-out":ye,"data-swipe-direction":Re,"data-expanded":!!(E||I&&N),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${q?$s:Lr.current}px`,"--initial-height":I?"auto":`${vn}px`,...O,...p.style},onDragEnd:()=>{oe(!1),le(null),bn.current=null},onPointerDown:re=>{ji||!wn||(Fs.current=new Date,Vn(Lr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(oe(!0),bn.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,pe,we,xt;if(ye||!wn)return;bn.current=null;let jt=Number(((re=nn.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((pe=nn.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fr=new Date().getTime()-((we=Fs.current)==null?void 0:we.getTime()),St=ue==="x"?jt:rn,Wn=Math.abs(St)/fr;if(Math.abs(St)>=OI||Wn>.11){Vn(Lr.current),(xt=p.onDismiss)==null||xt.call(p,p),R(ue==="x"?jt>0?"right":"left":rn>0?"down":"up"),xn(),Te(!0),tn(!1);return}oe(!1),le(null)},onPointerMove:re=>{var pe,we,xt,jt;if(!bn.current||!wn||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let rn=re.clientY-bn.current.y,fr=re.clientX-bn.current.x,St=(we=e.swipeDirections)!=null?we:jI(G);!ue&&(Math.abs(fr)>1||Math.abs(rn)>1)&&le(Math.abs(fr)>Math.abs(rn)?"x":"y");let Wn={x:0,y:0};ue==="y"?(St.includes("top")||St.includes("bottom"))&&(St.includes("top")&&rn<0||St.includes("bottom")&&rn>0)&&(Wn.y=rn):ue==="x"&&(St.includes("left")||St.includes("right"))&&(St.includes("left")&&fr<0||St.includes("right")&&fr>0)&&(Wn.x=fr),(Math.abs(Wn.x)>0||Math.abs(Wn.y)>0)&&tn(!0),(xt=nn.current)==null||xt.style.setProperty("--swipe-amount-x",`${Wn.x}px`),(jt=nn.current)==null||jt.style.setProperty("--swipe-amount-y",`${Wn.y}px`)}},Qd&&!p.jsx?W.createElement("button",{"aria-label":ne,"data-disabled":ji,"data-close-button":!0,onClick:ji||!wn?()=>{}:()=>{var re;xn(),(re=p.onDismiss)==null||re.call(p,p)},className:_n(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(o=B==null?void 0:B.close)!=null?o:yI):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,rt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:_n(L==null?void 0:L.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||nu():null,p.type!=="loading"?p.icon||(B==null?void 0:B[rt])||cI(rt):null):null,W.createElement("div",{"data-content":"",className:_n(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:_n(L==null?void 0:L.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:_n(K,Zl,L==null?void 0:L.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&ku(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:re=>{var pe,we;ku(p.cancel)&&wn&&((we=(pe=p.cancel).onClick)==null||we.call(pe,re),xn())},className:_n(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&ku(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:re=>{var pe,we;ku(p.action)&&((we=(pe=p.action).onClick)==null||we.call(pe,re),!re.defaultPrevented&&xn())},className:_n(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function h0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DI(e,t){let n={};return[e,t].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",l=o?PI:CI;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=l:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(l)}),n}var MI=m.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:w=kI,toastOptions:g,dir:x=h0(),gap:y=AI,loadingIcon:v,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E}=e,[k,C]=W.useState([]),T=W.useMemo(()=>Array.from(new Set([r].concat(k.filter(ee=>ee.position).map(ee=>ee.position)))),[k,r]),[O,A]=W.useState([]),[D,M]=W.useState(!1),[K,F]=W.useState(!1),[G,U]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=W.useRef(null),I=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),B=W.useRef(!1),ne=W.useCallback(ee=>{C(ue=>{var le;return(le=ue.find(Re=>Re.id===ee.id))!=null&&le.delete||Mt.dismiss(ee.id),ue.filter(({id:Re})=>Re!==ee.id)})},[]);return W.useEffect(()=>Mt.subscribe(ee=>{if(ee.dismiss){C(ue=>ue.map(le=>le.id===ee.id?{...le,delete:!0}:le));return}setTimeout(()=>{p1.flushSync(()=>{C(ue=>{let le=ue.findIndex(Re=>Re.id===ee.id);return le!==-1?[...ue.slice(0,le),{...ue[le],...ee},...ue.slice(le+1)]:[ee,...ue]})})})}),[]),W.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:ue})=>{U(ue?"dark":"light")})}catch{ee.addListener(({matches:le})=>{try{U(le?"dark":"light")}catch(Re){console.error(Re)}})}},[d]),W.useEffect(()=>{k.length<=1&&M(!1)},[k]),W.useEffect(()=>{let ee=ue=>{var le,Re;i.every(R=>ue[R]||ue.code===R)&&(M(!0),(le=H.current)==null||le.focus()),ue.code==="Escape"&&(document.activeElement===H.current||(Re=H.current)!=null&&Re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),W.useEffect(()=>{if(H.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[H.current]),W.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ee,ue)=>{var le;let[Re,R]=ee.split("-");return k.length?W.createElement("ol",{key:ee,dir:x==="auto"?h0():x,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Re,"data-lifted":D&&k.length>1&&!o,"data-x-position":R,style:{"--front-toast-height":`${((le=O[0])==null?void 0:le.height)||0}px`,"--width":`${RI}px`,"--gap":`${y}px`,...p,...DI(u,c)},onBlur:N=>{B.current&&!N.currentTarget.contains(N.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=N.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{K||M(!1)},onDragEnd:()=>M(!1),onPointerDown:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},k.filter(N=>!N.position&&ue===0||N.position===ee).map((N,z)=>{var q,Q;return W.createElement(NI,{key:N.id,icons:b,index:z,toast:N,defaultRichColors:f,duration:(q=g==null?void 0:g.duration)!=null?q:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Q=g==null?void 0:g.closeButton)!=null?Q:a,interacting:K,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ne,toasts:k.filter(ge=>ge.position==N.position),heights:O.filter(ge=>ge.position==N.position),setHeights:A,expandByDefault:o,gap:y,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const LI=({...e})=>{const{theme:t="system"}=uI();return S.jsx(MI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $I=Om[" useId ".trim().toString()]||(()=>{}),FI=0;function Nf(e){const[t,n]=m.useState($I());return Xt(()=>{n(r=>r??String(FI++))},[e]),t?`radix-${t}`:""}const UI=["top","right","bottom","left"],Es=Math.min,Wt=Math.max,Lc=Math.round,Cu=Math.floor,Ts=e=>({x:e,y:e}),VI={left:"right",right:"left",bottom:"top",top:"bottom"},BI={start:"end",end:"start"};function _p(e,t,n){return Wt(e,Es(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function Xo(e){return e.split("-")[1]}function Rg(e){return e==="x"?"y":"x"}function Ag(e){return e==="y"?"height":"width"}function ks(e){return["top","bottom"].includes(Or(e))?"y":"x"}function Og(e){return Rg(ks(e))}function zI(e,t,n){n===void 0&&(n=!1);const r=Xo(e),i=Og(e),o=Ag(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=$c(a)),[a,$c(a)]}function WI(e){const t=$c(e);return[Ep(e),t,Ep(t)]}function Ep(e){return e.replace(/start|end/g,t=>BI[t])}function HI(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function KI(e,t,n,r){const i=Xo(e);let o=HI(Or(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Ep)))),o}function $c(e){return e.replace(/left|right|bottom|top/g,t=>VI[t])}function qI(e){return{top:0,right:0,bottom:0,left:0,...e}}function n_(e){return typeof e!="number"?qI(e):{top:e,right:e,bottom:e,left:e}}function Fc(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function p0(e,t,n){let{reference:r,floating:i}=e;const o=ks(t),a=Og(t),l=Ag(a),u=Or(t),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(u){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Xo(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1);break}return p}const GI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=p0(c,r,u),h=r,p={},w=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:b,data:_,reset:E}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=v??d,f=b??f,p={...p,[x]:{...p[x],..._}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:d,y:f}=p0(c,h,u)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function pl(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ar(t,e),w=n_(p),x=l[h?f==="floating"?"reference":"floating":f],y=Fc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),v=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Fc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:u}):v);return{top:(y.top-E.top+w.top)/_.y,bottom:(E.bottom-y.bottom+w.bottom)/_.y,left:(y.left-E.left+w.left)/_.x,right:(E.right-y.right+w.right)/_.x}}const YI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:u}=t,{element:c,padding:d=0}=Ar(e,t)||{};if(c==null)return{};const f=n_(d),h={x:n,y:r},p=Og(i),w=Ag(p),g=await a.getDimensions(c),x=p==="y",y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[p]-h[p]-o.floating[w],E=h[p]-o.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=k?k[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[b]||o.floating[w]);const T=_/2-E/2,O=C/2-g[w]/2-1,A=Es(f[y],O),D=Es(f[v],O),M=A,K=C-g[w]-D,F=C/2-g[w]/2+T,G=_p(M,F,K),U=!u.arrow&&Xo(i)!=null&&F!==G&&o.reference[w]/2-(F<M?A:D)-g[w]/2<0,H=U?F<M?F-M:F-K:0;return{[p]:h[p]+H,data:{[p]:G,centerOffset:F-G-H,...U&&{alignmentOffset:H}},reset:U}}}),QI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=Ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Or(i),v=ks(l),b=Or(l)===l,_=await(u.isRTL==null?void 0:u.isRTL(c.floating)),E=h||(b||!g?[$c(l)]:WI(l)),k=w!=="none";!h&&k&&E.push(...KI(l,g,w,_));const C=[l,...E],T=await pl(t,x),O=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&O.push(T[y]),f){const F=zI(i,a,_);O.push(T[F[0]],T[F[1]])}if(A=[...A,{placement:i,overflows:O}],!O.every(F=>F<=0)){var D,M;const F=(((D=o.flip)==null?void 0:D.index)||0)+1,G=C[F];if(G)return{data:{index:F,overflows:A},reset:{placement:G}};let U=(M=A.filter(H=>H.overflows[0]<=0).sort((H,I)=>H.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(p){case"bestFit":{var K;const H=(K=A.filter(I=>{if(k){const L=ks(I.placement);return L===v||L==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((I,L)=>I[1]-L[1])[0])==null?void 0:K[0];H&&(U=H);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function m0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function g0(e){return UI.some(t=>e[t]>=0)}const XI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ar(e,t);switch(r){case"referenceHidden":{const o=await pl(t,{...i,elementContext:"reference"}),a=m0(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:g0(a)}}}case"escaped":{const o=await pl(t,{...i,altBoundary:!0}),a=m0(o,n.floating);return{data:{escapedOffsets:a,escaped:g0(a)}}}default:return{}}}}};async function JI(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Or(n),l=Xo(n),u=ks(n)==="y",c=["left","top"].includes(a)?-1:1,d=o&&u?-1:1,f=Ar(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),u?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const ZI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=t,u=await JI(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},ej=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...u}=Ar(e,t),c={x:n,y:r},d=await pl(t,u),f=ks(Or(i)),h=Rg(f);let p=c[h],w=c[f];if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+d[x],b=p-d[y];p=_p(v,p,b)}if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=w+d[x],b=w-d[y];w=_p(v,w,b)}const g=l.fn({...t,[h]:p,[f]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:a}}}}}},tj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=Ar(e,t),d={x:n,y:r},f=ks(i),h=Rg(f);let p=d[h],w=d[f];const g=Ar(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const b=h==="y"?"height":"width",_=o.reference[h]-o.floating[b]+x.mainAxis,E=o.reference[h]+o.reference[b]-x.mainAxis;p<_?p=_:p>E&&(p=E)}if(c){var y,v;const b=h==="y"?"width":"height",_=["top","left"].includes(Or(i)),E=o.reference[f]-o.floating[b]+(_&&((y=a.offset)==null?void 0:y[f])||0)+(_?0:x.crossAxis),k=o.reference[f]+o.reference[b]+(_?0:((v=a.offset)==null?void 0:v[f])||0)-(_?x.crossAxis:0);w<E?w=E:w>k&&(w=k)}return{[h]:p,[f]:w}}}},nj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:l}=t,{apply:u=()=>{},...c}=Ar(e,t),d=await pl(t,c),f=Or(i),h=Xo(i),p=ks(i)==="y",{width:w,height:g}=o.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=w-d.left-d.right,_=Es(g-d[x],v),E=Es(w-d[y],b),k=!t.middlewareData.shift;let C=_,T=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),k&&!h){const A=Wt(d.left,0),D=Wt(d.right,0),M=Wt(d.top,0),K=Wt(d.bottom,0);p?T=w-2*(A!==0||D!==0?A+D:Wt(d.left,d.right)):C=g-2*(M!==0||K!==0?M+K:Wt(d.top,d.bottom))}await u({...t,availableWidth:T,availableHeight:C});const O=await a.getDimensions(l.floating);return w!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Cd(){return typeof window<"u"}function Jo(e){return r_(e)?(e.nodeName||"").toLowerCase():"#document"}function Yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ar(e){var t;return(t=(r_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function r_(e){return Cd()?e instanceof Node||e instanceof Yt(e).Node:!1}function Ln(e){return Cd()?e instanceof Element||e instanceof Yt(e).Element:!1}function sr(e){return Cd()?e instanceof HTMLElement||e instanceof Yt(e).HTMLElement:!1}function y0(e){return!Cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yt(e).ShadowRoot}function Bl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function rj(e){return["table","td","th"].includes(Jo(e))}function Pd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ig(e){const t=jg(),n=Ln(e)?$n(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sj(e){let t=Cs(e);for(;sr(t)&&!Bo(t);){if(Ig(t))return t;if(Pd(t))return null;t=Cs(t)}return null}function jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(e){return["html","body","#document"].includes(Jo(e))}function $n(e){return Yt(e).getComputedStyle(e)}function Rd(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cs(e){if(Jo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y0(e)&&e.host||ar(e);return y0(t)?t.host:t}function s_(e){const t=Cs(e);return Bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:sr(t)&&Bl(t)?t:s_(t)}function ml(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=s_(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Yt(i);if(o){const l=Tp(a);return t.concat(a,a.visualViewport||[],Bl(i)?i:[],l&&n?ml(l):[])}return t.concat(i,ml(i,[],n))}function Tp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i_(e){const t=$n(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=sr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=Lc(n)!==o||Lc(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function Ng(e){return Ln(e)?e:e.contextElement}function wo(e){const t=Ng(e);if(!sr(t))return Ts(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=i_(t);let a=(o?Lc(n.width):n.width)/r,l=(o?Lc(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const ij=Ts(0);function o_(e){const t=Yt(e);return!jg()||!t.visualViewport?ij:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yt(e)?!1:t}function Si(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Ng(e);let a=Ts(1);t&&(r?Ln(r)&&(a=wo(r)):a=wo(e));const l=oj(o,n,r)?o_(o):Ts(0);let u=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const h=Yt(o),p=r&&Ln(r)?Yt(r):r;let w=h,g=Tp(w);for(;g&&r&&p!==w;){const x=wo(g),y=g.getBoundingClientRect(),v=$n(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,_=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,f*=x.y,u+=b,c+=_,w=Yt(g),g=Tp(w)}}return Fc({width:d,height:f,x:u,y:c})}function aj(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=ar(r),l=t?Pd(t.floating):!1;if(r===a||l&&o)return n;let u={scrollLeft:0,scrollTop:0},c=Ts(1);const d=Ts(0),f=sr(r);if((f||!f&&!o)&&((Jo(r)!=="body"||Bl(a))&&(u=Rd(r)),sr(r))){const h=Si(r);c=wo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function lj(e){return Array.from(e.getClientRects())}function kp(e,t){const n=Rd(e).scrollLeft;return t?t.left+n:Si(ar(e)).left+n}function uj(e){const t=ar(e),n=Rd(e),r=e.ownerDocument.body,i=Wt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Wt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kp(e);const l=-n.scrollTop;return $n(r).direction==="rtl"&&(a+=Wt(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}function cj(e,t){const n=Yt(e),r=ar(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){o=i.width,a=i.height;const c=jg();(!c||c&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:l,y:u}}function dj(e,t){const n=Si(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=sr(e)?wo(e):Ts(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,u=i*o.x,c=r*o.y;return{width:a,height:l,x:u,y:c}}function v0(e,t,n){let r;if(t==="viewport")r=cj(e,n);else if(t==="document")r=uj(ar(e));else if(Ln(t))r=dj(t,n);else{const i=o_(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Fc(r)}function a_(e,t){const n=Cs(e);return n===t||!Ln(n)||Bo(n)?!1:$n(n).position==="fixed"||a_(n,t)}function fj(e,t){const n=t.get(e);if(n)return n;let r=ml(e,[],!1).filter(l=>Ln(l)&&Jo(l)!=="body"),i=null;const o=$n(e).position==="fixed";let a=o?Cs(e):e;for(;Ln(a)&&!Bo(a);){const l=$n(a),u=Ig(a);!u&&l.position==="fixed"&&(i=null),(o?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bl(a)&&!u&&a_(e,a))?r=r.filter(d=>d!==a):i=l,a=Cs(a)}return t.set(e,r),r}function hj(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Pd(t)?[]:fj(t,this._c):[].concat(n),r],l=a[0],u=a.reduce((c,d)=>{const f=v0(t,d,i);return c.top=Wt(f.top,c.top),c.right=Es(f.right,c.right),c.bottom=Es(f.bottom,c.bottom),c.left=Wt(f.left,c.left),c},v0(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function pj(e){const{width:t,height:n}=i_(e);return{width:t,height:n}}function mj(e,t,n){const r=sr(t),i=ar(t),o=n==="fixed",a=Si(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=Ts(0);if(r||!r&&!o)if((Jo(t)!=="body"||Bl(i))&&(l=Rd(t)),r){const p=Si(t,!0,o,t);u.x=p.x+t.clientLeft,u.y=p.y+t.clientTop}else i&&(u.x=kp(i));let c=0,d=0;if(i&&!r&&!o){const p=i.getBoundingClientRect();d=p.top+l.scrollTop,c=p.left+l.scrollLeft-kp(i,p)}const f=a.left+l.scrollLeft-u.x-c,h=a.top+l.scrollTop-u.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Df(e){return $n(e).position==="static"}function w0(e,t){if(!sr(e)||$n(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ar(e)===n&&(n=n.ownerDocument.body),n}function l_(e,t){const n=Yt(e);if(Pd(e))return n;if(!sr(e)){let i=Cs(e);for(;i&&!Bo(i);){if(Ln(i)&&!Df(i))return i;i=Cs(i)}return n}let r=w0(e,t);for(;r&&rj(r)&&Df(r);)r=w0(r,t);return r&&Bo(r)&&Df(r)&&!Ig(r)?n:r||sj(e)||n}const gj=async function(e){const t=this.getOffsetParent||l_,n=this.getDimensions,r=await n(e.floating);return{reference:mj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yj(e){return $n(e).direction==="rtl"}const vj={convertOffsetParentRelativeRectToViewportRelativeRect:aj,getDocumentElement:ar,getClippingRect:hj,getOffsetParent:l_,getElementRects:gj,getClientRects:lj,getDimensions:pj,getScale:wo,isElement:Ln,isRTL:yj};function wj(e,t){let n=null,r;const i=ar(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const{left:c,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=Cu(d),w=Cu(i.clientWidth-(c+f)),g=Cu(i.clientHeight-(d+h)),x=Cu(c),v={rootMargin:-p+"px "+-w+"px "+-g+"px "+-x+"px",threshold:Wt(0,Es(1,u))||1};let b=!0;function _(E){const k=E[0].intersectionRatio;if(k!==u){if(!b)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(e)}return a(!0),o}function bj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Ng(e),d=i||o?[...c?ml(c):[],...ml(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&l?wj(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),c&&!u&&p.observe(c),p.observe(t));let w,g=u?Si(e):null;u&&x();function x(){const y=Si(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,w=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,u&&cancelAnimationFrame(w)}}const xj=ZI,Sj=ej,_j=QI,Ej=nj,Tj=XI,b0=YI,kj=tj,Cj=(e,t,n)=>{const r=new Map,i={platform:vj,...n},o={...i.platform,_c:r};return GI(e,t,{...i,platform:o})};var ic=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Uc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function u_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function x0(e,t){const n=u_(e);return Math.round(t*n)/n}function Mf(e){const t=m.useRef(e);return ic(()=>{t.current=e}),t}function Pj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);Uc(h,r)||p(r);const[w,g]=m.useState(null),[x,y]=m.useState(null),v=m.useCallback(I=>{I!==k.current&&(k.current=I,g(I))},[]),b=m.useCallback(I=>{I!==C.current&&(C.current=I,y(I))},[]),_=o||w,E=a||x,k=m.useRef(null),C=m.useRef(null),T=m.useRef(d),O=u!=null,A=Mf(u),D=Mf(i),M=Mf(c),K=m.useCallback(()=>{if(!k.current||!C.current)return;const I={placement:t,strategy:n,middleware:h};D.current&&(I.platform=D.current),Cj(k.current,C.current,I).then(L=>{const B={...L,isPositioned:M.current!==!1};F.current&&!Uc(T.current,B)&&(T.current=B,Ul.flushSync(()=>{f(B)}))})},[h,t,n,D,M]);ic(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[c]);const F=m.useRef(!1);ic(()=>(F.current=!0,()=>{F.current=!1}),[]),ic(()=>{if(_&&(k.current=_),E&&(C.current=E),_&&E){if(A.current)return A.current(_,E,K);K()}},[_,E,K,A,O]);const G=m.useMemo(()=>({reference:k,floating:C,setReference:v,setFloating:b}),[v,b]),U=m.useMemo(()=>({reference:_,floating:E}),[_,E]),H=m.useMemo(()=>{const I={position:n,left:0,top:0};if(!U.floating)return I;const L=x0(U.floating,d.x),B=x0(U.floating,d.y);return l?{...I,transform:"translate("+L+"px, "+B+"px)",...u_(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:B}},[n,l,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:K,refs:G,elements:U,floatingStyles:H}),[d,K,G,U,H])}const Rj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?b0({element:r.current,padding:i}).fn(n):{}:r?b0({element:r,padding:i}).fn(n):{}}}},Aj=(e,t)=>({...xj(e),options:[e,t]}),Oj=(e,t)=>({...Sj(e),options:[e,t]}),Ij=(e,t)=>({...kj(e),options:[e,t]}),jj=(e,t)=>({..._j(e),options:[e,t]}),Nj=(e,t)=>({...Ej(e),options:[e,t]}),Dj=(e,t)=>({...Tj(e),options:[e,t]}),Mj=(e,t)=>({...Rj(e),options:[e,t]});var Lj="Arrow",c_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return S.jsx(Ee.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});c_.displayName=Lj;var $j=c_;function Fj(e){const[t,n]=m.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,l;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,l=c.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dg="Popper",[d_,f_]=Oi(Dg),[Uj,h_]=d_(Dg),p_=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return S.jsx(Uj,{scope:t,anchor:r,onAnchorChange:i,children:n})};p_.displayName=Dg;var m_="PopperAnchor",g_=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=h_(m_,n),a=m.useRef(null),l=qe(t,a);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:S.jsx(Ee.div,{...i,ref:l})});g_.displayName=m_;var Mg="PopperContent",[Vj,Bj]=d_(Mg),y_=m.forwardRef((e,t)=>{var N,z,q,Q,ge,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=e,x=h_(Mg,n),[y,v]=m.useState(null),b=qe(t,ye=>v(ye)),[_,E]=m.useState(null),k=Fj(_),C=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,O=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,K={padding:A,boundary:D.filter(Wj),altBoundary:M},{refs:F,floatingStyles:G,placement:U,isPositioned:H,middlewareData:I}=Pj({strategy:"fixed",placement:O,whileElementsMounted:(...ye)=>bj(...ye,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Aj({mainAxis:i+T,alignmentAxis:a}),u&&Oj({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ij():void 0,...K}),u&&jj({...K}),Nj({...K,apply:({elements:ye,rects:Te,availableWidth:yn,availableHeight:tn})=>{const{width:$s,height:Vn}=Te.reference,vn=ye.floating.style;vn.setProperty("--radix-popper-available-width",`${yn}px`),vn.setProperty("--radix-popper-available-height",`${tn}px`),vn.setProperty("--radix-popper-anchor-width",`${$s}px`),vn.setProperty("--radix-popper-anchor-height",`${Vn}px`)}}),_&&Mj({element:_,padding:l}),Hj({arrowWidth:C,arrowHeight:T}),h&&Dj({strategy:"referenceHidden",...K})]}),[L,B]=b_(U),ne=ot(w);Xt(()=>{H&&(ne==null||ne())},[H,ne]);const ee=(N=I.arrow)==null?void 0:N.x,ue=(z=I.arrow)==null?void 0:z.y,le=((q=I.arrow)==null?void 0:q.centerOffset)!==0,[Re,R]=m.useState();return Xt(()=>{y&&R(window.getComputedStyle(y).zIndex)},[y]),S.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Q=I.transformOrigin)==null?void 0:Q.x,(ge=I.transformOrigin)==null?void 0:ge.y].join(" "),...((oe=I.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:S.jsx(Vj,{scope:n,placedSide:L,onArrowChange:E,arrowX:ee,arrowY:ue,shouldHideArrow:le,children:S.jsx(Ee.div,{"data-side":L,"data-align":B,...g,ref:b,style:{...g.style,animation:H?void 0:"none"}})})})});y_.displayName=Mg;var v_="PopperArrow",zj={top:"bottom",right:"left",bottom:"top",left:"right"},w_=m.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=Bj(v_,r),a=zj[o.placedSide];return S.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:S.jsx($j,{...i,ref:n,style:{...i.style,display:"block"}})})});w_.displayName=v_;function Wj(e){return e!==null}var Hj=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:n,rects:r,middlewareData:i}=t,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[c,d]=b_(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+u/2;let w="",g="";return c==="bottom"?(w=a?f:`${h}px`,g=`${-u}px`):c==="top"?(w=a?f:`${h}px`,g=`${r.floating.height+u}px`):c==="right"?(w=`${-u}px`,g=a?f:`${p}px`):c==="left"&&(w=`${r.floating.width+u}px`,g=a?f:`${p}px`),{data:{x:w,y:g}}}});function b_(e){const[t,n="center"]=e.split("-");return[t,n]}var HB=p_,Kj=g_,qj=y_,Gj=w_,[Ad,KB]=Oi("Tooltip",[f_]),Lg=f_(),x_="TooltipProvider",Yj=700,S0="tooltip.open",[Qj,S_]=Ad(x_),__=e=>{const{__scopeTooltip:t,delayDuration:n=Yj,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=m.useRef(!0),l=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),S.jsx(Qj,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(c=>{l.current=c},[]),disableHoverableContent:i,children:o})};__.displayName=x_;var E_="Tooltip",[qB,Od]=Ad(E_),Cp="TooltipTrigger",Xj=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Od(Cp,n),o=S_(Cp,n),a=Lg(n),l=m.useRef(null),u=qe(t,l,i.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),S.jsx(Kj,{asChild:!0,...a,children:S.jsx(Ee.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:ve(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:ve(e.onBlur,i.onClose),onClick:ve(e.onClick,i.onClose)})})});Xj.displayName=Cp;var Jj="TooltipPortal",[GB,Zj]=Ad(Jj,{forceMount:void 0}),zo="TooltipContent",T_=m.forwardRef((e,t)=>{const n=Zj(zo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=Od(zo,e.__scopeTooltip);return S.jsx(or,{present:r||a.open,children:a.disableHoverableContent?S.jsx(k_,{side:i,...o,ref:t}):S.jsx(eN,{side:i,...o,ref:t})})}),eN=m.forwardRef((e,t)=>{const n=Od(zo,e.__scopeTooltip),r=S_(zo,e.__scopeTooltip),i=m.useRef(null),o=qe(t,i),[a,l]=m.useState(null),{trigger:u,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((w,g)=>{const x=w.currentTarget,y={x:w.clientX,y:w.clientY},v=iN(y,x.getBoundingClientRect()),b=oN(y,v),_=aN(g.getBoundingClientRect()),E=uN([...b,..._]);l(E),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(u&&d){const w=x=>p(x,d),g=x=>p(x,u);return u.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[u,d,p,h]),m.useEffect(()=>{if(a){const w=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},v=(u==null?void 0:u.contains(x))||(d==null?void 0:d.contains(x)),b=!lN(y,a);v?h():b&&(h(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[u,d,a,c,h]),S.jsx(k_,{...e,ref:o})}),[tN,nN]=Ad(E_,{isInside:!1}),rN=wA("TooltipContent"),k_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,u=Od(zo,n),c=Lg(n),{onClose:d}=u;return m.useEffect(()=>(document.addEventListener(S0,d),()=>document.removeEventListener(S0,d)),[d]),m.useEffect(()=>{if(u.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),S.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:S.jsxs(qj,{"data-state":u.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(rN,{children:r}),S.jsx(tN,{scope:n,isInside:!0,children:S.jsx(zA,{id:u.contentId,role:"tooltip",children:i||r})})]})})});T_.displayName=zo;var C_="TooltipArrow",sN=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Lg(n);return nN(C_,n).isInside?null:S.jsx(Gj,{...i,...r,ref:t})});sN.displayName=C_;function iN(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oN(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function aN(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function lN(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],u=t[a],c=l.x,d=l.y,f=u.x,h=u.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(i=!i)}return i}function uN(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cN(t)}function cN(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dN=__,P_=T_;const fN=dN,hN=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(P_,{ref:r,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));hN.displayName=P_.displayName;var Zo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_i=typeof window>"u"||"Deno"in globalThis;function kt(){}function pN(e,t){return typeof e=="function"?e(t):e}function Pp(e){return typeof e=="number"&&e>=0&&e!==1/0}function R_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bs(e,t){return typeof e=="function"?e(t):e}function an(e,t){return typeof e=="function"?e(t):e}function _0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==$g(a,t.options))return!1}else if(!gl(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function E0(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ei(t.options.mutationKey)!==Ei(o))return!1}else if(!gl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function $g(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ei)(e)}function Ei(e){return JSON.stringify(e,(t,n)=>Rp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function gl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gl(e[n],t[n])):!1}function A_(e,t){if(e===t)return e;const n=T0(e)&&T0(t);if(n||Rp(e)&&Rp(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,l=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<a;d++){const f=n?d:o[d];(!n&&u.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=A_(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return i===a&&c===i?e:l}return t}function Vc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function T0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rp(e){if(!k0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!k0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function k0(e){return Object.prototype.toString.call(e)==="[object Object]"}function mN(e){return new Promise(t=>{setTimeout(t,e)})}function Ap(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?A_(e,t):t}function gN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function yN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fg=Symbol();function O_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function I_(e,t){return typeof e=="function"?e(...t):!!e}var si,Jr,_o,Hb,vN=(Hb=class extends Zo{constructor(){super();te(this,si);te(this,Jr);te(this,_o);Y(this,_o,t=>{if(!_i&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Jr)||this.setEventListener(P(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Jr))==null||t.call(this),Y(this,Jr,void 0))}setEventListener(t){var n;Y(this,_o,t),(n=P(this,Jr))==null||n.call(this),Y(this,Jr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,si)!==t&&(Y(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,si)=="boolean"?P(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,Jr=new WeakMap,_o=new WeakMap,Hb),Ug=new vN,Eo,Zr,To,Kb,wN=(Kb=class extends Zo{constructor(){super();te(this,Eo,!0);te(this,Zr);te(this,To);Y(this,To,t=>{if(!_i&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Zr)||this.setEventListener(P(this,To))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Zr))==null||t.call(this),Y(this,Zr,void 0))}setEventListener(t){var n;Y(this,To,t),(n=P(this,Zr))==null||n.call(this),Y(this,Zr,t(this.setOnline.bind(this)))}setOnline(t){P(this,Eo)!==t&&(Y(this,Eo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,Eo)}},Eo=new WeakMap,Zr=new WeakMap,To=new WeakMap,Kb),Bc=new wN;function Op(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function bN(e){return Math.min(1e3*2**e,3e4)}function j_(e){return(e??"online")==="online"?Bc.isOnline():!0}var N_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Lf(e){return e instanceof N_}function D_(e){let t=!1,n=0,r=!1,i;const o=Op(),a=g=>{var x;r||(h(new N_(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},u=()=>{t=!1},c=()=>Ug.isFocused()&&(e.networkMode==="always"||Bc.isOnline())&&e.canRun(),d=()=>j_(e.networkMode)&&e.canRun(),f=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),i==null||i(),o.resolve(g))},h=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),i==null||i(),o.reject(g))},p=()=>new Promise(g=>{var x;i=y=>{(r||c())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),w=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var k;if(r)return;const v=e.retry??(_i?0:3),b=e.retryDelay??bN,_=typeof b=="function"?b(n,y):b,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!E){h(y);return}n++,(k=e.onFail)==null||k.call(e,n,y),mN(_).then(()=>c()?void 0:p()).then(()=>{t?h(y):w()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?w():p().then(w),o)}}var xN=e=>setTimeout(e,0);function SN(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=xN;const o=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var tt=SN(),ii,qb,M_=(qb=class{constructor(){te(this,ii)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pp(this.gcTime)&&Y(this,ii,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){P(this,ii)&&(clearTimeout(P(this,ii)),Y(this,ii,void 0))}},ii=new WeakMap,qb),ko,oi,on,ai,vt,Ol,li,Rn,gr,Gb,_N=(Gb=class extends M_{constructor(t){super();te(this,Rn);te(this,ko);te(this,oi);te(this,on);te(this,ai);te(this,vt);te(this,Ol);te(this,li);Y(this,li,!1),Y(this,Ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,ai,t.client),Y(this,on,P(this,ai).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,ko,EN(this.options)),this.state=t.state??P(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,vt))==null?void 0:t.promise}setOptions(t){this.options={...P(this,Ol),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,on).remove(this)}setData(t,n){const r=Ap(this.state.data,t,this.options);return de(this,Rn,gr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){de(this,Rn,gr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=P(this,vt))==null?void 0:r.promise;return(i=P(this,vt))==null||i.cancel(t),n?n.then(kt).catch(kt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,ko))}isActive(){return this.observers.some(t=>an(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,vt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,vt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,on).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,vt)&&(P(this,li)?P(this,vt).cancel({revert:!0}):P(this,vt).cancelRetry()),this.scheduleGc()),P(this,on).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||de(this,Rn,gr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,vt))return P(this,vt).continueRetry(),P(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Y(this,li,!0),r.signal)})},o=()=>{const h=O_(this.options,n),w=(()=>{const g={client:P(this,ai),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return Y(this,li,!1),this.options.persister?this.options.persister(h,w,this):h(w)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,ai),state:this.state,fetchFn:o};return i(h),h})();(c=this.options.behavior)==null||c.onFetch(l,this),Y(this,oi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&de(this,Rn,gr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=h=>{var p,w,g,x;Lf(h)&&h.silent||de(this,Rn,gr).call(this,{type:"error",error:h}),Lf(h)||((w=(p=P(this,on).config).onError)==null||w.call(p,h,this),(x=(g=P(this,on).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return Y(this,vt,D_({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,w,g,x;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){u(y);return}(w=(p=P(this,on).config).onSuccess)==null||w.call(p,h,this),(x=(g=P(this,on).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,p)=>{de(this,Rn,gr).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{de(this,Rn,gr).call(this,{type:"pause"})},onContinue:()=>{de(this,Rn,gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),P(this,vt).start()}},ko=new WeakMap,oi=new WeakMap,on=new WeakMap,ai=new WeakMap,vt=new WeakMap,Ol=new WeakMap,li=new WeakMap,Rn=new WeakSet,gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...L_(r.data,this.options),fetchMeta:t.meta??null};case"success":return Y(this,oi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Lf(i)&&i.revert&&P(this,oi)?{...P(this,oi),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,on).notify({query:this,type:"updated",action:t})})},Gb);function L_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function EN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yn,Yb,TN=(Yb=class extends Zo{constructor(t={}){super();te(this,Yn);this.config=t,Y(this,Yn,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??$g(i,n);let a=this.get(o);return a||(a=new _N({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){P(this,Yn).has(t.queryHash)||(P(this,Yn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,Yn).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,Yn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Yn).get(t)}getAll(){return[...P(this,Yn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>_0(t,r)):n}notify(t){tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yn=new WeakMap,Yb),Qn,_t,ui,Xn,Br,Qb,kN=(Qb=class extends M_{constructor(t){super();te(this,Xn);te(this,Qn);te(this,_t);te(this,ui);this.mutationId=t.mutationId,Y(this,_t,t.mutationCache),Y(this,Qn,[]),this.state=t.state||$_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,Qn).includes(t)||(P(this,Qn).push(t),this.clearGcTimeout(),P(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Qn,P(this,Qn).filter(n=>n!==t)),this.scheduleGc(),P(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():P(this,_t).remove(this))}continue(){var t;return((t=P(this,ui))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,d,f,h,p,w,g,x,y,v,b,_,E,k,C,T;const n=()=>{de(this,Xn,Br).call(this,{type:"continue"})};Y(this,ui,D_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,A)=>{de(this,Xn,Br).call(this,{type:"failed",failureCount:O,error:A})},onPause:()=>{de(this,Xn,Br).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,_t).canRun(this)}));const r=this.state.status==="pending",i=!P(this,ui).canStart();try{if(r)n();else{de(this,Xn,Br).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=P(this,_t).config).onMutate)==null?void 0:a.call(o,t,this));const A=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));A!==this.state.context&&de(this,Xn,Br).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const O=await P(this,ui).start();return await((d=(c=P(this,_t).config).onSuccess)==null?void 0:d.call(c,O,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,O,t,this.state.context)),await((w=(p=P(this,_t).config).onSettled)==null?void 0:w.call(p,O,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,O,null,t,this.state.context)),de(this,Xn,Br).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(y=P(this,_t).config).onError)==null?void 0:v.call(y,O,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,O,t,this.state.context)),await((k=(E=P(this,_t).config).onSettled)==null?void 0:k.call(E,void 0,O,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,O,t,this.state.context)),O}finally{de(this,Xn,Br).call(this,{type:"error",error:O})}}finally{P(this,_t).runNext(this)}}},Qn=new WeakMap,_t=new WeakMap,ui=new WeakMap,Xn=new WeakSet,Br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tt.batch(()=>{P(this,Qn).forEach(r=>{r.onMutationUpdate(t)}),P(this,_t).notify({mutation:this,type:"updated",action:t})})},Qb);function $_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var br,An,Il,Xb,CN=(Xb=class extends Zo{constructor(t={}){super();te(this,br);te(this,An);te(this,Il);this.config=t,Y(this,br,new Set),Y(this,An,new Map),Y(this,Il,0)}build(t,n,r){const i=new kN({mutationCache:this,mutationId:++ou(this,Il)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){P(this,br).add(t);const n=Pu(t);if(typeof n=="string"){const r=P(this,An).get(n);r?r.push(t):P(this,An).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,br).delete(t)){const n=Pu(t);if(typeof n=="string"){const r=P(this,An).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&P(this,An).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Pu(t);if(typeof n=="string"){const r=P(this,An).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Pu(t);if(typeof n=="string"){const i=(r=P(this,An).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tt.batch(()=>{P(this,br).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,br).clear(),P(this,An).clear()})}getAll(){return Array.from(P(this,br))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>E0(n,r))}findAll(t={}){return this.getAll().filter(n=>E0(t,n))}notify(t){tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return tt.batch(()=>Promise.all(t.map(n=>n.continue().catch(kt))))}},br=new WeakMap,An=new WeakMap,Il=new WeakMap,Xb);function Pu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function C0(e){return{onFetch:(t,n)=>{var d,f,h,p,w;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=O_(t.options,t.fetchOptions),v=async(b,_,E)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return x(D),D})(),T=await y(C),{maxPages:O}=t.options,A=E?yN:gN;return{pages:A(b.pages,T,O),pageParams:A(b.pageParams,_,O)}};if(i&&o.length){const b=i==="backward",_=b?PN:P0,E={pages:o,pageParams:a},k=_(r,E);l=await v(E,k,b)}else{const b=e??o.length;do{const _=u===0?a[0]??r.initialPageParam:P0(r,l);if(u>0&&_==null)break;l=await v(l,_),u++}while(u<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function P0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function PN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ve,es,ts,Co,Po,ns,Ro,Ao,Jb,RN=(Jb=class{constructor(e={}){te(this,Ve);te(this,es);te(this,ts);te(this,Co);te(this,Po);te(this,ns);te(this,Ro);te(this,Ao);Y(this,Ve,e.queryCache||new TN),Y(this,es,e.mutationCache||new CN),Y(this,ts,e.defaultOptions||{}),Y(this,Co,new Map),Y(this,Po,new Map),Y(this,ns,0)}mount(){ou(this,ns)._++,P(this,ns)===1&&(Y(this,Ro,Ug.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ve).onFocus())})),Y(this,Ao,Bc.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ve).onOnline())})))}unmount(){var e,t;ou(this,ns)._--,P(this,ns)===0&&((e=P(this,Ro))==null||e.call(this),Y(this,Ro,void 0),(t=P(this,Ao))==null||t.call(this),Y(this,Ao,void 0))}isFetching(e){return P(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,es).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=P(this,Ve).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(bs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return P(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=P(this,Ve).get(r.queryHash),o=i==null?void 0:i.state.data,a=pN(t,o);if(a!==void 0)return P(this,Ve).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return tt.batch(()=>P(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,Ve);tt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,Ve);return tt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=tt.batch(()=>P(this,Ve).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(kt).catch(kt)}invalidateQueries(e,t={}){return tt.batch(()=>(P(this,Ve).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=tt.batch(()=>P(this,Ve).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(kt)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(kt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,Ve).build(this,t);return n.isStaleByTime(bs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kt).catch(kt)}fetchInfiniteQuery(e){return e.behavior=C0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kt).catch(kt)}ensureInfiniteQueryData(e){return e.behavior=C0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bc.isOnline()?P(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,Ve)}getMutationCache(){return P(this,es)}getDefaultOptions(){return P(this,ts)}setDefaultOptions(e){Y(this,ts,e)}setQueryDefaults(e,t){P(this,Co).set(Ei(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,Co).values()],n={};return t.forEach(r=>{gl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){P(this,Po).set(Ei(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Po).values()],n={};return t.forEach(r=>{gl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$g(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,Ve).clear(),P(this,es).clear()}},Ve=new WeakMap,es=new WeakMap,ts=new WeakMap,Co=new WeakMap,Po=new WeakMap,ns=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,Jb),Nt,he,jl,Et,ci,Oo,rs,ss,Nl,Io,jo,di,fi,is,No,xe,ka,Ip,jp,Np,Dp,Mp,Lp,$p,F_,Zb,AN=(Zb=class extends Zo{constructor(t,n){super();te(this,xe);te(this,Nt);te(this,he);te(this,jl);te(this,Et);te(this,ci);te(this,Oo);te(this,rs);te(this,ss);te(this,Nl);te(this,Io);te(this,jo);te(this,di);te(this,fi);te(this,is);te(this,No,new Set);this.options=n,Y(this,Nt,t),Y(this,ss,null),Y(this,rs,Op()),this.options.experimental_prefetchInRender||P(this,rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,he).addObserver(this),R0(P(this,he),this.options)?de(this,xe,ka).call(this):this.updateResult(),de(this,xe,Dp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fp(P(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fp(P(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,de(this,xe,Mp).call(this),de(this,xe,Lp).call(this),P(this,he).removeObserver(this)}setOptions(t){const n=this.options,r=P(this,he);if(this.options=P(this,Nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,P(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");de(this,xe,$p).call(this),P(this,he).setOptions(this.options),n._defaulted&&!Vc(this.options,n)&&P(this,Nt).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,he),observer:this});const i=this.hasListeners();i&&A0(P(this,he),r,this.options,n)&&de(this,xe,ka).call(this),this.updateResult(),i&&(P(this,he)!==r||an(this.options.enabled,P(this,he))!==an(n.enabled,P(this,he))||bs(this.options.staleTime,P(this,he))!==bs(n.staleTime,P(this,he)))&&de(this,xe,Ip).call(this);const o=de(this,xe,jp).call(this);i&&(P(this,he)!==r||an(this.options.enabled,P(this,he))!==an(n.enabled,P(this,he))||o!==P(this,is))&&de(this,xe,Np).call(this,o)}getOptimisticResult(t){const n=P(this,Nt).getQueryCache().build(P(this,Nt),t),r=this.createResult(n,t);return IN(this,r)&&(Y(this,Et,r),Y(this,Oo,this.options),Y(this,ci,P(this,he).state)),r}getCurrentResult(){return P(this,Et)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){P(this,No).add(t)}getCurrentQuery(){return P(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,Nt).defaultQueryOptions(t),r=P(this,Nt).getQueryCache().build(P(this,Nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return de(this,xe,ka).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Et)))}createResult(t,n){var O;const r=P(this,he),i=this.options,o=P(this,Et),a=P(this,ci),l=P(this,Oo),c=t!==r?t.state:P(this,jl),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const A=this.hasListeners(),D=!A&&R0(t,n),M=A&&A0(t,r,n,i);(D||M)&&(f={...f,...L_(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:g,status:x}=f;p=f.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let A;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=o.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((O=P(this,jo))==null?void 0:O.state.data,P(this,jo)):n.placeholderData,A!==void 0&&(x="success",p=Ap(o==null?void 0:o.data,A,n),h=!0)}if(n.select&&p!==void 0&&!y)if(o&&p===(a==null?void 0:a.data)&&n.select===P(this,Nl))p=P(this,Io);else try{Y(this,Nl,n.select),p=n.select(p),p=Ap(o==null?void 0:o.data,p,n),Y(this,Io,p),Y(this,ss,null)}catch(A){Y(this,ss,A)}P(this,ss)&&(w=P(this,ss),p=P(this,Io),g=Date.now(),x="error");const v=f.fetchStatus==="fetching",b=x==="pending",_=x==="error",E=b&&v,k=p!==void 0,T={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:Vg(t,n),refetch:this.refetch,promise:P(this,rs),isEnabled:an(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=K=>{T.status==="error"?K.reject(T.error):T.data!==void 0&&K.resolve(T.data)},D=()=>{const K=Y(this,rs,T.promise=Op());A(K)},M=P(this,rs);switch(M.status){case"pending":t.queryHash===r.queryHash&&A(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&D();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&D();break}}return T}updateResult(){const t=P(this,Et),n=this.createResult(P(this,he),this.options);if(Y(this,ci,P(this,he).state),Y(this,Oo,this.options),P(this,ci).data!==void 0&&Y(this,jo,P(this,he)),Vc(n,t))return;Y(this,Et,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!P(this,No).size)return!0;const a=new Set(o??P(this,No));return this.options.throwOnError&&a.add("error"),Object.keys(P(this,Et)).some(l=>{const u=l;return P(this,Et)[u]!==t[u]&&a.has(u)})};de(this,xe,F_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&de(this,xe,Dp).call(this)}},Nt=new WeakMap,he=new WeakMap,jl=new WeakMap,Et=new WeakMap,ci=new WeakMap,Oo=new WeakMap,rs=new WeakMap,ss=new WeakMap,Nl=new WeakMap,Io=new WeakMap,jo=new WeakMap,di=new WeakMap,fi=new WeakMap,is=new WeakMap,No=new WeakMap,xe=new WeakSet,ka=function(t){de(this,xe,$p).call(this);let n=P(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(kt)),n},Ip=function(){de(this,xe,Mp).call(this);const t=bs(this.options.staleTime,P(this,he));if(_i||P(this,Et).isStale||!Pp(t))return;const r=R_(P(this,Et).dataUpdatedAt,t)+1;Y(this,di,setTimeout(()=>{P(this,Et).isStale||this.updateResult()},r))},jp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,he)):this.options.refetchInterval)??!1},Np=function(t){de(this,xe,Lp).call(this),Y(this,is,t),!(_i||an(this.options.enabled,P(this,he))===!1||!Pp(P(this,is))||P(this,is)===0)&&Y(this,fi,setInterval(()=>{(this.options.refetchIntervalInBackground||Ug.isFocused())&&de(this,xe,ka).call(this)},P(this,is)))},Dp=function(){de(this,xe,Ip).call(this),de(this,xe,Np).call(this,de(this,xe,jp).call(this))},Mp=function(){P(this,di)&&(clearTimeout(P(this,di)),Y(this,di,void 0))},Lp=function(){P(this,fi)&&(clearInterval(P(this,fi)),Y(this,fi,void 0))},$p=function(){const t=P(this,Nt).getQueryCache().build(P(this,Nt),this.options);if(t===P(this,he))return;const n=P(this,he);Y(this,he,t),Y(this,jl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},F_=function(t){tt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,Et))}),P(this,Nt).getQueryCache().notify({query:P(this,he),type:"observerResultsUpdated"})})},Zb);function ON(e,t){return an(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function R0(e,t){return ON(e,t)||e.state.data!==void 0&&Fp(e,t,t.refetchOnMount)}function Fp(e,t,n){if(an(t.enabled,e)!==!1&&bs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Vg(e,t)}return!1}function A0(e,t,n,r){return(e!==t||an(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Vg(e,n)}function Vg(e,t){return an(t.enabled,e)!==!1&&e.isStaleByTime(bs(t.staleTime,e))}function IN(e,t){return!Vc(e.getCurrentResult(),t)}var os,as,Dt,xr,Tr,oc,Up,ex,jN=(ex=class extends Zo{constructor(n,r){super();te(this,Tr);te(this,os);te(this,as);te(this,Dt);te(this,xr);Y(this,os,n),this.setOptions(r),this.bindMethods(),de(this,Tr,oc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=P(this,os).defaultMutationOptions(n),Vc(this.options,r)||P(this,os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,Dt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ei(r.mutationKey)!==Ei(this.options.mutationKey)?this.reset():((i=P(this,Dt))==null?void 0:i.state.status)==="pending"&&P(this,Dt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,Dt))==null||n.removeObserver(this)}onMutationUpdate(n){de(this,Tr,oc).call(this),de(this,Tr,Up).call(this,n)}getCurrentResult(){return P(this,as)}reset(){var n;(n=P(this,Dt))==null||n.removeObserver(this),Y(this,Dt,void 0),de(this,Tr,oc).call(this),de(this,Tr,Up).call(this)}mutate(n,r){var i;return Y(this,xr,r),(i=P(this,Dt))==null||i.removeObserver(this),Y(this,Dt,P(this,os).getMutationCache().build(P(this,os),this.options)),P(this,Dt).addObserver(this),P(this,Dt).execute(n)}},os=new WeakMap,as=new WeakMap,Dt=new WeakMap,xr=new WeakMap,Tr=new WeakSet,oc=function(){var r;const n=((r=P(this,Dt))==null?void 0:r.state)??$_();Y(this,as,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Up=function(n){tt.batch(()=>{var r,i,o,a,l,u,c,d;if(P(this,xr)&&this.hasListeners()){const f=P(this,as).variables,h=P(this,as).context;(n==null?void 0:n.type)==="success"?((i=(r=P(this,xr)).onSuccess)==null||i.call(r,n.data,f,h),(a=(o=P(this,xr)).onSettled)==null||a.call(o,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((u=(l=P(this,xr)).onError)==null||u.call(l,n.error,f,h),(d=(c=P(this,xr)).onSettled)==null||d.call(c,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(P(this,as))})})},ex),U_=m.createContext(void 0),V_=e=>{const t=m.useContext(U_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NN=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(U_.Provider,{value:e,children:t})),B_=m.createContext(!1),DN=()=>m.useContext(B_);B_.Provider;function MN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LN=m.createContext(MN()),$N=()=>m.useContext(LN),FN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},UN=e=>{m.useEffect(()=>{e.clearReset()},[e])},VN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||I_(n,[e.error,r])),BN=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zN=(e,t)=>e.isLoading&&e.isFetching&&!t,WN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,O0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function HN(e,t,n){var f,h,p,w,g;const r=DN(),i=$N(),o=V_(),a=o.defaultQueryOptions(e);(h=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",BN(a),FN(a,i),UN(i);const l=!o.getQueryCache().get(a.queryHash),[u]=m.useState(()=>new t(o,a)),c=u.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(x=>{const y=d?u.subscribe(tt.batchCalls(x)):kt;return u.updateResult(),y},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(a)},[a,u]),WN(a,c))throw O0(a,u,i);if(VN({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((w=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,a,c),a.experimental_prefetchInRender&&!_i&&zN(c,r)){const x=l?O0(a,u,i):(g=o.getQueryCache().get(a.queryHash))==null?void 0:g.promise;x==null||x.catch(kt).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function Fn(e,t){return HN(e,AN)}function z_(e,t){const n=V_(),[r]=m.useState(()=>new jN(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const i=m.useSyncExternalStore(m.useCallback(a=>r.subscribe(tt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=m.useCallback((a,l)=>{r.mutate(a,l).catch(kt)},[r]);if(i.error&&I_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(this,arguments)}var cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cs||(cs={}));const I0="popstate";function KN(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:l}=r.location;return Vp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zc(i)}return GN(t,n,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qN(){return Math.random().toString(36).substr(2,8)}function j0(e,t){return{usr:e.state,key:e.key,idx:t}}function Vp(e,t,n,r){return n===void 0&&(n=null),yl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ea(t):t,{state:n,key:t&&t.key||r||qN()})}function zc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=cs.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(yl({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=cs.Pop;let x=d(),y=x==null?null:x-c;c=x,u&&u({action:l,location:g.location,delta:y})}function h(x,y){l=cs.Push;let v=Vp(g.location,x,y);c=d()+1;let b=j0(v,c),_=g.createHref(v);try{a.pushState(b,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}o&&u&&u({action:l,location:g.location,delta:1})}function p(x,y){l=cs.Replace;let v=Vp(g.location,x,y);c=d();let b=j0(v,c),_=g.createHref(v);a.replaceState(b,"",_),o&&u&&u({action:l,location:g.location,delta:0})}function w(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:zc(x);return v=v.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(I0,f),u=x,()=>{i.removeEventListener(I0,f),u=null}},createHref(x){return t(i,x)},createURL:w,encodeLocation(x){let y=w(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return a.go(x)}};return g}var N0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(N0||(N0={}));function YN(e,t,n){return n===void 0&&(n="/"),QN(e,t,n,!1)}function QN(e,t,n,r){let i=typeof t=="string"?ea(t):t,o=Wo(i.pathname||"/",n);if(o==null)return null;let a=H_(e);XN(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=l2(o);l=o2(a[u],c,r)}return l}function H_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(We(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=xs([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H_(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:s2(c,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of K_(o.path))i(o,a,u)}),t}function K_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=K_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function XN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JN=/^:[\w-]+$/,ZN=3,e2=2,t2=1,n2=10,r2=-2,D0=e=>e==="*";function s2(e,t){let n=e.split("/"),r=n.length;return n.some(D0)&&(r+=r2),t&&(r+=e2),n.filter(i=>!D0(i)).reduce((i,o)=>i+(JN.test(o)?ZN:o===""?t2:n2),r)}function i2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function o2(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Wc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Wc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:xs([o,f.pathname]),pathnameBase:f2(xs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=xs([o,f.pathnameBase]))}return a}function Wc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function a2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),W_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function l2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return W_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function u2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ea(e):e;return{pathname:n?n.startsWith("/")?n:c2(n,t):t,search:h2(r),hash:p2(i)}}function c2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $f(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function q_(e,t){let n=d2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function G_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ea(e):(i=yl({},e),We(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=u2(i,l),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const xs=e=>e.join("/").replace(/\/\/+/g,"/"),f2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y_=["post","put","patch","delete"];new Set(Y_);const g2=["get",...Y_];new Set(g2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}const Id=m.createContext(null),Q_=m.createContext(null),Ns=m.createContext(null),jd=m.createContext(null),Dr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),X_=m.createContext(null);function y2(e,t){let{relative:n}=t===void 0?{}:t;zl()||We(!1);let{basename:r,navigator:i}=m.useContext(Ns),{hash:o,pathname:a,search:l}=Nd(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:xs([r,a])),i.createHref({pathname:u,search:l,hash:o})}function zl(){return m.useContext(jd)!=null}function Ds(){return zl()||We(!1),m.useContext(jd).location}function J_(e){m.useContext(Ns).static||m.useLayoutEffect(e)}function Wl(){let{isDataRoute:e}=m.useContext(Dr);return e?I2():v2()}function v2(){zl()||We(!1);let e=m.useContext(Id),{basename:t,future:n,navigator:r}=m.useContext(Ns),{matches:i}=m.useContext(Dr),{pathname:o}=Ds(),a=JSON.stringify(q_(i,n.v7_relativeSplatPath)),l=m.useRef(!1);return J_(()=>{l.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=G_(c,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}const w2=m.createContext(null);function b2(e){let t=m.useContext(Dr).outlet;return t&&m.createElement(w2.Provider,{value:e},t)}function QB(){let{matches:e}=m.useContext(Dr),t=e[e.length-1];return t?t.params:{}}function Nd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Ns),{matches:i}=m.useContext(Dr),{pathname:o}=Ds(),a=JSON.stringify(q_(i,r.v7_relativeSplatPath));return m.useMemo(()=>G_(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function x2(e,t){return S2(e,t)}function S2(e,t,n,r){zl()||We(!1);let{navigator:i}=m.useContext(Ns),{matches:o}=m.useContext(Dr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Ds(),d;if(t){var f;let x=typeof t=="string"?ea(t):t;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||We(!1),d=x}else d=c;let h=d.pathname||"/",p=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=YN(e,{pathname:p}),g=C2(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:xs([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:xs([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&g?m.createElement(jd.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cs.Pop}},g):g}function _2(){let e=O2(),t=m2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,null)}const E2=m.createElement(_2,null);class T2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Dr.Provider,{value:this.props.routeContext},m.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k2(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(Id);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Dr.Provider,{value:t},r)}function C2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||We(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,w=!1,g=null,x=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||E2,u&&(c<0&&h===0?(w=!0,x=null):c===h&&(w=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),v=()=>{let b;return p?b=g:w?b=x:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(k2,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(T2,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Z_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z_||{}),Hc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hc||{});function P2(e){let t=m.useContext(Id);return t||We(!1),t}function R2(e){let t=m.useContext(Q_);return t||We(!1),t}function A2(e){let t=m.useContext(Dr);return t||We(!1),t}function eE(e){let t=A2(),n=t.matches[t.matches.length-1];return n.route.id||We(!1),n.route.id}function O2(){var e;let t=m.useContext(X_),n=R2(Hc.UseRouteError),r=eE(Hc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function I2(){let{router:e}=P2(Z_.UseNavigateStable),t=eE(Hc.UseNavigateStable),n=m.useRef(!1);return J_(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,vl({fromRouteId:t},o)))},[e,t])}function j2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function N2(e){return b2(e.context)}function Se(e){We(!1)}function D2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=cs.Pop,navigator:o,static:a=!1,future:l}=e;zl()&&We(!1);let u=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:u,navigator:o,static:a,future:vl({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=r,g=m.useMemo(()=>{let x=Wo(d,u);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:w},navigationType:i}},[u,d,f,h,p,w,i]);return g==null?null:m.createElement(Ns.Provider,{value:c},m.createElement(jd.Provider,{children:n,value:g}))}function M2(e){let{children:t,location:n}=e;return x2(Bp(t),n)}new Promise(()=>{});function Bp(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let o=[...t,i];if(r.type===m.Fragment){n.push.apply(n,Bp(r.props.children,o));return}r.type!==Se&&We(!1),!r.props.index||!r.props.children||We(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Bp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(this,arguments)}function tE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function L2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $2(e,t){return e.button===0&&(!t||t==="_self")&&!L2(e)}function zp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function F2(e,t){let n=zp(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const U2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],B2="6";try{window.__reactRouterVersion=B2}catch{}const z2=m.createContext({isTransitioning:!1}),W2="startTransition",M0=Om[W2];function H2(e){let{basename:t,children:n,future:r,window:i}=e,o=m.useRef();o.current==null&&(o.current=KN({window:i,v5Compat:!0}));let a=o.current,[l,u]=m.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&M0?M0(()=>u(f)):u(f)},[u,c]);return m.useLayoutEffect(()=>a.listen(d),[a,d]),m.useEffect(()=>j2(r),[r]),m.createElement(D2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G2=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=tE(t,U2),{basename:p}=m.useContext(Ns),w,g=!1;if(typeof c=="string"&&q2.test(c)&&(w=c,K2))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),E=Wo(_.pathname,p);_.origin===b.origin&&E!=null?c=E+_.search+_.hash:g=!0}catch{}let x=y2(c,{relative:i}),y=Q2(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||y(b)}return m.createElement("a",Kc({},h,{href:w||x,onClick:g||o?r:v,ref:n,target:u}))}),XB=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:u,viewTransition:c,children:d}=t,f=tE(t,V2),h=Nd(u,{relative:f.relative}),p=Ds(),w=m.useContext(Q_),{navigator:g,basename:x}=m.useContext(Ns),y=w!=null&&X2(h)&&c===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&x&&(_=Wo(_,x)||_);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=b===v||!a&&b.startsWith(v)&&b.charAt(E)==="/",C=_!=null&&(_===v||!a&&_.startsWith(v)&&_.charAt(v.length)==="/"),T={isActive:k,isPending:C,isTransitioning:y},O=k?r:void 0,A;typeof o=="function"?A=o(T):A=[o,k?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(T):l;return m.createElement(G2,Kc({},f,{"aria-current":O,className:A,ref:n,style:D,to:u,viewTransition:c}),typeof d=="function"?d(T):d)});var Wp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var L0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L0||(L0={}));function Y2(e){let t=m.useContext(Id);return t||We(!1),t}function Q2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,u=Wl(),c=Ds(),d=Nd(e,{relative:a});return m.useCallback(f=>{if($2(f,n)){f.preventDefault();let h=r!==void 0?r:zc(c)===zc(d);u(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[c,u,d,r,i,n,e,o,a,l])}function JB(e){let t=m.useRef(zp(e)),n=m.useRef(!1),r=Ds(),i=m.useMemo(()=>F2(r.search,n.current?null:t.current),[r.search]),o=Wl(),a=m.useCallback((l,u)=>{const c=zp(typeof l=="function"?l(i):l);n.current=!0,o("?"+c,u)},[o,i]);return[i,a]}function X2(e,t){t===void 0&&(t={});let n=m.useContext(z2);n==null&&We(!1);let{basename:r}=Y2(Wp.useViewTransitionState),i=Nd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Wo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Wo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wc(i.pathname,a)!=null||Wc(i.pathname,o)!=null}function J2(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})}const Z2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Bg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eD extends Bg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $0 extends Bg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F0 extends Bg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hp||(Hp={}));class tD{constructor(t,{headers:n={},customFetch:r,region:i=Hp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Z2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return J2(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:l,method:u,body:c,signal:d,timeout:f}=r;let h={},{region:p}=r;p||(p=this.region);const w=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let g;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(h["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(h["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let x=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const y=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:x}).catch(E=>{throw new eD(E)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new $0(y);if(!y.ok)throw new F0(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield y.json():b==="application/octet-stream"||b==="application/pdf"?_=yield y.blob():b==="text/event-stream"?_=y:b==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof F0||l instanceof $0?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var nD=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},rD=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,l=null,u=null,c=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var p;const y=await o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const g=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&x&&x.length>1&&(u=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,c=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var w;const g=await o.text();try{a=JSON.parse(g),Array.isArray(a)&&o.status===404&&(l=[],a=null,c=200,d="OK")}catch{o.status===404&&g===""?(c=204,d="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&n.shouldThrowOnError)throw new nD(a)}return{error:a,data:l,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let l="";const u=o==null?void 0:o.cause;if(u){var c,d,f,h;const w=(c=u==null?void 0:u.message)!==null&&c!==void 0?c:"",g=(d=u==null?void 0:u.code)!==null&&d!==void 0?d:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"Error"}: ${w}`,g&&(l+=` (${g})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var p;l=(p=o==null?void 0:o.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},sD=class extends rD{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const U0=new RegExp("[,()]");var Hi=class extends sD{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&U0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&U0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},iD=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new Hi({method:i,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);o.searchParams.set("columns",u.join(","))}}return new Hi({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Hi({method:a,url:l,headers:u,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Hi({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Hi({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oD=class nE{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let l;const u=new URL(`${this.url}/rpc/${t}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=r&&Object.values(n).some(d);f?(l="POST",c=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{u.searchParams.append(p,w)})):(l="POST",c=n);const h=new Headers(this.headers);return f?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new Hi({method:l,url:u,headers:h,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class aD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lD="2.91.0",uD=`realtime-js/${lD}`,cD="1.0.0",rE="2.0.0",V0=rE,Kp=1e4,dD=1e3,fD=100;var qr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qr||(qr={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var qp;(function(e){e.websocket="websocket"})(qp||(qp={}));var Qs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qs||(Qs={}));class hD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let w=new DataView(p),g=0;w.setUint8(g++,this.KINDS.userBroadcastPush),w.setUint8(g++,u.length),w.setUint8(g++,l.length),w.setUint8(g++,a.length),w.setUint8(g++,c.length),w.setUint8(g++,f.length),w.setUint8(g++,n),Array.from(u,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>w.setUint8(g++,y.charCodeAt(0))),Array.from(f,y=>w.setUint8(g++,y.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,l,u]=r;return n({join_ref:i,ref:o,topic:a,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const c=r.decode(t.slice(u,u+i));u=u+i;const d=r.decode(t.slice(u,u+o));u=u+o;const f=r.decode(t.slice(u,u+a));u=u+a;const h=t.slice(u,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,w={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(w.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class sE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const B0=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=pD(a,e,t,i),o),{}):{}},pD=(e,t,n,r)=>{const i=t.find(l=>l.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?iE(o,a):Gp(a)},iE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return vD(t,n)}switch(e){case ke.bool:return mD(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return gD(t);case ke.json:case ke.jsonb:return yD(t);case ke.timestamp:return wD(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Gp(t);default:return Gp(t)}},Gp=e=>e,mD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},vD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>iE(t,l))}return e},wD=e=>typeof e=="string"?e.replace(" ","T"):e,oE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ff{constructor(t,n,r={},i=Kp){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var z0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(z0||(z0={}));class Va{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Va.syncState(this.state,i,o,a),this.pendingDiffs.forEach(u=>{this.state=Va.syncDiff(this.state,u,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Va.syncDiff(this.state,i,o,a),l())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),l={},u={};return this.map(o,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=o[c];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),w=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);w.length>0&&(l[c]=w),g.length>0&&(u[c]=g)}else l[c]=d}),this.syncDiff(o,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,u),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var W0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(W0||(W0={}));var Ba;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ba||(Ba={}));var vr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class oo{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ff(this,In.join,this.params,this.timeout),this.rejoinTimer=new sE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Va(this),this.broadcastEndpointURL=oE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ba.PRESENCE]&&this.bindings[Ba.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(vr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(vr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,y=[];for(let v=0;v<x;v++){const b=g[v],{filter:{event:_,schema:E,table:k,filter:C}}=b,T=p&&p[v];if(T&&T.event===_&&oo.isFilterValueEqual(T.schema,E)&&oo.isFilterValueEqual(T.table,k)&&oo.isFilterValueEqual(T.filter,C))y.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(vr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Je.errored,t==null||t(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Je.joined&&t===Ba.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ff(this,In.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ff(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=In;if(r&&[l,u,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var w,g,x;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var w,g,x,y,v,b,_,E;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const k=p.id,C=(w=p.filter)===null||w===void 0?void 0:w.event;return k&&((g=n.ids)===null||g===void 0?void 0:g.includes(k))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=p.filter)===null||y===void 0)&&y.table)||p.filter.table===((v=n.data)===null||v===void 0?void 0:v.table))}else{const k=(_=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:g,table:x,commit_timestamp:y,type:v,errors:b}=w;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&oo.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=B0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=B0(t.columns,t.old_record)),n}}const Uf=()=>{},Ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bD=[1e3,2e3,5e3,1e4],xD=1e4,SD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _D{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kp,this.transport=null,this.heartbeatIntervalMs=Ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uf,this.ref=0,this.reconnectTimer=null,this.vsn=V0,this.logger=Uf,this.conn=null,this.sendBuffer=[],this.serializer=new hD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qp.websocket}`,this.httpEndpoint=oE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return Qs.Connecting;case qr.open:return Qs.Open;case qr.closing:return Qs.Closing;default:return Qs.Closed}}isConnected(){return this.connectionState()===Qs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new oo(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,l=a?`(${a})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qr.open||this.conn.readyState===qr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([SD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:uD};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(In.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,l,u,c,d,f,h,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Kp,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ru.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Uf,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:V0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:w=>bD[w-1]||xD,this.vsn){case cD:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,g)=>g(JSON.stringify(w)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(w,g)=>g(JSON.parse(w));break;case rE:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var wl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ED(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function TD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function kD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const l=ED(e.baseUrl,r,i),u=await TD(e.auth),c=await t(l,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...u,...a},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,w=p==null?void 0:p.error;throw new wl((w==null?void 0:w.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function Au(e){return e.join("")}var CD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Au(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(e.namespace)}`}),!0}catch(t){if(t instanceof wl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof wl&&n.status===409)return;throw n}}};function Di(e){return e.join("")}var PD=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Di(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof wl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},RD=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=kD({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new CD(this.client,t),this.tableOps=new PD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var AD=class extends Dd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yp=class extends Dd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const zg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OD=()=>Response,Qp=e=>{if(Array.isArray(e))return e.map(n=>Qp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qp(r)}),t},ID=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function ND(e,t){if(bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DD(e){var t=ND(e,"string");return bl(t)=="symbol"?t:t+""}function MD(e,t,n){return(t=DD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(n),!0).forEach(function(r){MD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Vf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LD=async(e,t,n)=>{e instanceof await OD()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new AD(Vf(r),i,o))}).catch(r=>{t(new Yp(Vf(r),r))}):t(new Yp(Vf(e),e))},$D=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(ID(r)?(i.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),ie(ie({},i),n))};async function Hl(e,t,n,r,i,o){return new Promise((a,l)=>{e(n,$D(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>LD(u,l,r))})}async function xl(e,t,n,r){return Hl(e,"GET",t,n,r)}async function Pn(e,t,n,r,i){return Hl(e,"POST",t,r,i,n)}async function Xp(e,t,n,r,i){return Hl(e,"PUT",t,r,i,n)}async function FD(e,t,n,r){return Hl(e,"HEAD",t,ie(ie({},n),{},{noResolveJson:!0}),r)}async function Wg(e,t,n,r,i){return Hl(e,"DELETE",t,r,i,n)}var UD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};let aE;aE=Symbol.toStringTag;var VD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aE]="BlobDownloadBuilder",this.promise=null}asStream(){return new UD(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};const BD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zD=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=zg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o;const a=ie(ie({},K0),r);let l=ie(ie({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),u&&o.append("metadata",i.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),u&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(u))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=ie(ie({},l),r.headers));const c=i._removeEmptyFolders(t),d=i._getFinalPath(c),f=await(e=="PUT"?Xp:Pn)(i.fetch,`${i.url}/object/${d}`,o,ie({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),l=new URL(i.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let u;const c=ie({upsert:K0.upsert},r),d=ie(ie({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await Xp(i.fetch,l.toString(),u,{headers:d})).Key},error:null}}catch(u){if(i.shouldThrowOnError)throw u;if(Me(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=ie({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Pn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),l=a.searchParams.get("token");if(!l)throw new Dd("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Pn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Pn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await Pn(r.fetch,`${r.url}/object/sign/${i}`,ie({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Pn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>ie(ie({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>xl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new VD(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Qp(await xl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await FD(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r)&&r instanceof Yp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await Wg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=ie(ie(ie({},BD),t),{},{prefix:e||""});return{data:await Pn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=ie({},e);return{data:await Pn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const lE="2.91.0",uE={"X-Client-Info":`storage-js/${lE}`};var WD=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ie(ie({},uE),t),this.fetch=zg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await xl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await xl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Pn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Xp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Wg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},HD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},uE),t),this.fetch=zg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await xl(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Wg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!jD(e))throw new Dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new RD({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(i,l),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const Hg={"X-Client-Info":`storage-js/${lE}`,"Content-Type":"application/json"};var cE=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Bf=class extends cE{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},KD=class extends cE{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Kg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},q0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GD=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Bf(q0(o),r,a))}).catch(()=>{const o=r+"";t(new Bf(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Bf(i.statusText||`HTTP ${r} error`,r,o))}}else t(new KD(q0(e),e))},YD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(qD(r)?(i.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,ie(ie({},i),n)):i};async function QD(e,t,n,r,i,o){return new Promise((a,l)=>{e(n,YD(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>GD(u,l,r))})}async function Kt(e,t,n,r,i){return QD(e,"POST",t,r,i,n)}var XD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},Hg),t),this.fetch=Kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Kt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Kt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}},JD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},Hg),t),this.fetch=Kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Kt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Kt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Kt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},ZD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},Hg),t),this.fetch=Kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},eM=class extends ZD{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tM(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},tM=class extends XD{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new nM(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},nM=class extends JD{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rM=class extends WD{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new zD(this.url,this.headers,e,this.fetch)}get vectors(){return new eM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HD(this.url+"/iceberg",this.headers,this.fetch)}};function Md(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const dE="2.91.0",Ki=30*1e3,Jp=3,zf=Jp*Ki,sM="http://localhost:9999",iM="supabase.auth.token",oM={"X-Client-Info":`gotrue-js/${dE}`},Zp="X-Supabase-Api-Version",fE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lM=10*60*1e3;class Sl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uM extends Sl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cM(e){return Z(e)&&e.name==="AuthApiError"}class Xs extends Sl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mr extends Sl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Bt extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dM(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Mi extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends Mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Iu extends Mr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fM(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class G0 extends Mr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hM extends Mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class em extends Mr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wf(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class Y0 extends Mr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tm extends Mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q0=` 	
\r=`.split(""),pM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Q0.length;t+=1)e[Q0[t].charCodeAt(0)]=-2;for(let t=0;t<qc.length;t+=1)e[qc[t].charCodeAt(0)]=t;return e})();function X0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qc[r]),t.queuedBits-=6}}function hE(e,t,n){const r=pM[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function J0(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{yM(a,r,n)};for(let a=0;a<e.length;a+=1)hE(e.charCodeAt(a),i,o);return t.join("")}function mM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gM(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mM(r,t)}}function yM(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function bo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)hE(e.charCodeAt(i),n,r);return new Uint8Array(t)}function vM(e){const t=[];return gM(e,n=>t.push(n)),new Uint8Array(t)}function ti(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>X0(i,n,r)),X0(null,n,r),t.join("")}function wM(e){return Math.round(Date.now()/1e3)+e}function bM(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},pE=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function xM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const mE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ws=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lt=async(e,t)=>{await e.removeItem(t)};class Ld{constructor(){this.promise=new Ld.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ld.promiseConstructor=Promise;function Hf(e){const t=e.split(".");if(t.length!==3)throw new tm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!aM.test(t[r]))throw new tm("JWT not in base64url format");return{header:JSON.parse(J0(t[0])),payload:JSON.parse(J0(t[1])),signature:bo(t[2]),raw:{header:t[0],payload:t[1]}}}async function _M(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EM(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function TM(e){return("0"+e.toString(16)).substr(-2)}function kM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,TM).join("")}async function CM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function PM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(e,t,n=!1){const r=kM();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qi(e,`${t}-code-verifier`,i);const o=await PM(r);return[o,r===o?"plain":"s256"]}const RM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AM(e){const t=e.headers.get(Zp);if(!t||!t.match(RM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $i(e){if(!jM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NM(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Z0(e){return JSON.parse(JSON.stringify(e))}const Gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DM=[502,503,504];async function ew(e){var t;if(!SM(e))throw new em(Gs(e),0);if(DM.includes(e.status))throw new em(Gs(e),e.status);let n;try{n=await e.json()}catch(o){throw new Xs(Gs(o),o)}let r;const i=AM(e);if(i&&i.getTime()>=fE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Y0(Gs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Y0(Gs(n),e.status,n.weak_password.reasons);throw new uM(Gs(n),e.status||500,r)}const MM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function se(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Zp]||(o[Zp]=fE["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await LM(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function LM(e,t,n,r,i,o){const a=MM(t,r,i,o);let l;try{l=await e(n,Object.assign({},a))}catch(u){throw console.error(u),new em(Gs(u),0)}if(l.ok||await ew(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await ew(u)}}function Tn(e){var t;let n=null;UM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=wM(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function tw(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $M(e){return{data:e,error:null}}function FM(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=Md(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function nw(e){return e}function UM(e){return e.access_token&&e.refresh_token&&e.expires_in}const qf=["global","local","others"];class VM{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qf[0]){if(qf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Md(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:FM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:nw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){$i(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){$i(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){$i(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){$i(t.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){$i(t.userId),$i(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:nw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Z(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function rw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Fi={debug:!!(globalThis&&pE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BM extends gE{}async function zM(e,t,n){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function HM(e){return parseInt(e,16)}function KM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function qM(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=yE(e.address),w=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${p}

${g}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),u&&(y+=`
Request ID: ${u}`),c){let v=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);v+=`
- ${b}`}y+=v}return`${x}
${y}`}class Ge extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Gc extends Ge{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function GM({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(vE(a)){if(o.rp.id!==a)return new Ge({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YM({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(vE(r)){if(n.rpId!==r)return new Ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class QM{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XM=new QM;function JM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Md(e,["challenge","user","excludeCredentials"]),o=bo(t).buffer,a=Object.assign(Object.assign({},n),{id:bo(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:bo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function ZM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Md(e,["challenge","allowCredentials"]),i=bo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},l),{id:bo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function eL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ti(new Uint8Array(e.response.attestationObject)),clientDataJSON:ti(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ti(new Uint8Array(i.authenticatorData)),clientDataJSON:ti(new Uint8Array(i.clientDataJSON)),signature:ti(new Uint8Array(i.signature)),userHandle:i.userHandle?ti(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function sw(){var e,t;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",t)}:{data:null,error:new Gc("Empty credential response",t)}}catch(t){return{data:null,error:GM({error:t,options:e})}}}async function rL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",t)}:{data:null,error:new Gc("Empty credential response",t)}}catch(t){return{data:null,error:YM({error:t,options:e})}}}const sL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const l=r[o];t(l)?r[o]=Yc(l,a):r[o]=Yc(a)}else r[o]=a}return r}function oL(e,t){return Yc(sL,e,t||{})}function aL(e,t){return Yc(iL,e,t||{})}class lL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const u=i??XM.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=oL(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await nL({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=aL(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await rL(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Xs("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn authentication")};try{if(!sw())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Xs("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn registration")};try{if(!sw())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Xs("Unexpected error in register",a)}}}}WM();const uL={url:sM,storageKey:iM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function iw(e,t,n){return await n()}const Ui={};class _l{get jwks(){var t,n;return(n=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},uL),t);if(this.storageKey=o.storageKey,this.instanceID=(n=_l.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_l.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ut()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new VM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=mE(o.fetch),this.lock=o.lock||iw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zM:this.lock=iw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:pE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=rw(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ut()&&(n=xM(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),fM(o)){const u=(t=o.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?this._returnResult({error:n}):this._returnResult({error:new Xs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:a,error:l}=o;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(o){if(Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Li(this.storage,this.storageKey)),o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Tn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new Ou("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(o){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tw})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tw})}else throw new Ou("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Mi;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,l,u,c,d,f,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:g,wallet:x,statement:y,options:v}=t;let b;if(ut())if(typeof x=="object")b=x;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")b=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),E=await b.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=yE(E[0]);let C=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const O=await b.request({method:"eth_chainId"});C=HM(O)}const T={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:C,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qM(T),w=await b.request({method:"personal_sign",params:[KM(p),k]})}try{const{data:g,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tn});if(x)throw x;if(!g||!g.session||!g.user){const y=new Mi;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Z(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,i,o,a,l,u,c,d,f,h,p;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:x,wallet:y,statement:v,options:b}=t;let _;if(ut())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:x,error:y}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ti(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tn});if(y)throw y;if(!x||!x.session||!x.user){const v=new Mi;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(Z(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Ws(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hM;const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Tn});if(await lt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const l=new Mi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",o.session)},0)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tn}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new Mi;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Li(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ou("You must provide either an email or phone number.")}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Li(this.storage,this.storageKey));const c=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:$M});return!((o=c.data)===null||o===void 0)&&o.url&&ut()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Bt;const{error:i}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:l}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Ou("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<zf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ws(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Kf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=NM(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Xr})})}catch(n){if(Z(n))return dM(n)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Bt;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Li(this.storage,this.storageKey));const{data:c,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Xr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Hf(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Bt;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ut())throw new Iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new G0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Iu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new G0("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!o||!l||!a||!c)throw new Iu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;u&&(h=parseInt(u));const p=h-d;p*1e3<=Ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(Z(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(cM(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=bM(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Li(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,l,u,c,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Z(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:l,token:u,access_token:c,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await lt(this.storage,`${this.storageKey}-code-verifier`),Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await EM(async i=>(i>0&&await _M(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Wf(o)&&Date.now()+a-r<Ki})}catch(r){if(this._debug(n,"error",r),Z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ut()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ws(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await qi(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Kf()}else if(i&&!i.user&&!i.user){const a=await Ws(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await lt(this.storage,this.storageKey+"-user"),await qi(this.storage,this.storageKey,i)):i.user=Kf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${zf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Wf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ld;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Bt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(i,"error",o),Z(o)){const a={data:null,error:o};return Wf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Z0(i);await qi(this.storage,this.storageKey,o)}else{const i=Z0(n);await qi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ki);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ki}ms, refresh threshold is ${Jp} ticks`),i<=Jp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Li(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?eL(t.webauthn.credential_response):tL(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Hf(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Bt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Bt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(t){if(Z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+lM>i)return r;const{data:o,error:a}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});r=p.session.access_token}const{header:i,payload:o,signature:a,raw:{header:l,payload:u}}=Hf(r);n!=null&&n.allowExpired||OM(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:i,signature:a},error:null}}const d=IM(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,vM(`${l}.${u}`)))throw new tm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}}_l.nextInstanceID={};const cL=_l,dL="2.91.0";let Ca="";typeof Deno<"u"?Ca="deno":typeof document<"u"?Ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ca="react-native":Ca="node";const fL={"X-Client-Info":`supabase-js-${Ca}/${dL}`},hL={headers:fL},pL={schema:"public"},mL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gL={};function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function yL(e,t){if(El(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vL(e){var t=yL(e,"string");return El(t)=="symbol"?t:t+""}function wL(e,t,n){return(t=vL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(r){wL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const bL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xL=()=>Headers,SL=(e,t,n)=>{const r=bL(n),i=xL();return async(o,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(o,Be(Be({},a),{},{headers:c}))}};function _L(e){return e.endsWith("/")?e:e+"/"}function EL(e,t){var n,r;const{db:i,auth:o,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Be(Be({},u),i),auth:Be(Be({},c),o),realtime:Be(Be({},d),a),storage:{},global:Be(Be(Be({},f),l),{},{headers:Be(Be({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function TL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_L(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var kL=class extends cL{constructor(e){super(e)}},CL=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=TL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:pL,realtime:gL,auth:Be(Be({},mL),{},{storageKey:a}),global:hL},u=EL(n??{},l);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=SL(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new oD(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new rM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new tD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kL({url:this.authUrl.href,headers:Be(Be({},h),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _D(this.realtimeUrl.href,Be(Be({},e),{},{params:Be(Be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PL=(e,t,n)=>new CL(e,t,n);function RL(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}RL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AL="https://fteefcvikpowcewuqqez.supabase.co",OL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ0ZWVmY3Zpa3Bvd2Nld3VxcWV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MTg5NTcsImV4cCI6MjA4Mzk5NDk1N30.A2L-67I8T_nRkzs2q0rF8M92Hz5Y_BLdVjsVQ0wTZzM",Gf=typeof import.meta<"u"&&!1||typeof process<"u"&&!1,Qe=PL(AL,OL,{auth:{storage:Gf?void 0:localStorage,persistSession:!Gf,autoRefreshToken:!Gf}}),wE=m.createContext(void 0);function IL({children:e}){const[t,n]=m.useState(null),[r,i]=m.useState(null),[o,a]=m.useState(null),[l,u]=m.useState(!0),[c,d]=m.useState(()=>localStorage.getItem("clade-guest-mode")==="true");m.useEffect(()=>{let x=!0;(async()=>{try{const{data:b}=await Qe.auth.getSession(),_=b.session??null,{data:E}=await Qe.auth.getUser();if(!x)return;i(_),n(E.user??(_==null?void 0:_.user)??null),a((_==null?void 0:_.access_token)??null),_?(localStorage.removeItem("clade-guest-mode"),d(!1)):d(k=>{const C=localStorage.getItem("clade-guest-mode")==="true";return k||C})}finally{x&&u(!1)}})();const{data:v}=Qe.auth.onAuthStateChange((b,_)=>{i(_??null),n((_==null?void 0:_.user)??null),a((_==null?void 0:_.access_token)??null),b==="SIGNED_OUT"?(localStorage.removeItem("lastAuthTime"),d(!0),localStorage.setItem("clade-guest-mode","true")):(b==="SIGNED_IN"||b==="TOKEN_REFRESHED")&&(localStorage.setItem("lastAuthTime",Date.now().toString()),localStorage.removeItem("clade-guest-mode"),d(!1))});return()=>{x=!1,v.subscription.unsubscribe()}},[]);const f=async(x,y,v)=>{const b=`${window.location.origin}/`,{error:_}=await Qe.auth.signUp({email:x,password:y,options:{emailRedirectTo:b,data:{display_name:v||x.split("@")[0]}}});return{error:_}},h=async(x,y)=>{localStorage.removeItem("clade-guest-mode"),d(!1);const{data:v,error:b}=await Qe.auth.signInWithPassword({email:x,password:y});return!b&&v.session&&(i(v.session),n(v.session.user),a(v.session.access_token),localStorage.setItem("lastAuthTime",Date.now().toString()),localStorage.removeItem("clade-guest-mode"),d(!1)),{error:b}},p=async()=>{await Qe.auth.signOut(),n(null),i(null),a(null),localStorage.removeItem("lastAuthTime"),d(!0),localStorage.setItem("clade-guest-mode","true")},w=()=>{d(!0),n(null),i(null),a(null),localStorage.setItem("clade-guest-mode","true"),u(!1)},g=m.useMemo(()=>({user:t,session:r,loading:l,accessToken:o,guestMode:c,signUp:f,signIn:h,signOut:p,enterGuestMode:w}),[t,r,l,o,c]);return S.jsx(wE.Provider,{value:g,children:e})}function en(){const e=m.useContext(wE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const jL=new Set(["like","save","skip","more_harmonic","more_vibe","share"]);let bE=!1,aw=!1;function Yf(e){bE=!0,aw||(console.warn("[PlayEvents] disabled user_interactions:",e),aw=!0)}async function Qf(e){if(!bE)try{const{data:{user:t}}=await Qe.auth.getUser();if(t){const n=`play_${e.action}`;if(!jL.has(n)){Yf(`unsupported interaction_type ${n}`);return}const{error:r}=await Qe.from("user_interactions").insert({user_id:t.id,track_id:e.track_id,interaction_type:n});if(r){const i=r.message||r.code||"unknown";Yf(`insert failed (${i})`)}}}catch(t){Yf(t!=null&&t.message?`exception: ${t.message}`:"exception during insert")}}const ga="harmony_hub_",xE={PREFERRED_PROVIDER:`${ga}preferred_provider`,VOLUME:`${ga}volume`,AUTOPLAY:`${ga}autoplay`,THEME:`${ga}theme`,LAST_PROVIDER_USED:`${ga}last_provider`};function NL(e,t){try{const n=localStorage.getItem(e);return n===null?t:JSON.parse(n)}catch{return t}}function DL(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to save preference:",n)}}function lw(e){DL(xE.PREFERRED_PROVIDER,e)}function SE(){return NL(xE.PREFERRED_PROVIDER,null)}const ya=async(e,t)=>{var r,i,o;if(!e)return;const n=t.current[e];try{await((r=n==null?void 0:n.pause)==null?void 0:r.call(n)),await((i=n==null?void 0:n.setMute)==null?void 0:i.call(n,!0)),await((o=n==null?void 0:n.teardown)==null?void 0:o.call(n))}catch(a){console.warn("[Player] stopActiveProvider failed",a)}},_E=m.createContext(null),uw="clade_queue_v1",cw=e=>Math.max(0,Math.min(1,e)),va=e=>{if(!e)return null;const t=new Set,n=e.split(",").map(r=>r.trim()).filter(Boolean).filter(r=>{const i=r.toLowerCase();return t.has(i)?!1:(t.add(i),!0)});return n.length?n.join(", "):null},wa=(e,t)=>e===0?-1:Math.max(0,Math.min(t,e-1)),ba=(e,t)=>{if(!t)return null;if(e==="spotify"){if(t.startsWith("spotify:track:")){const r=t.split(":"),i=r[r.length-1];return i?`spotify:${i}`:null}if(t.startsWith("spotify:"))return t;const n=t.match(/open\.spotify\.com\/track\/([A-Za-z0-9]+)/);return n!=null&&n[1]?`spotify:${n[1]}`:`spotify:${t}`}if(e==="youtube"){if(t.startsWith("youtube:"))return t;const n=t.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(n!=null&&n[1])return`youtube:${n[1]}`;const r=t.match(/youtu\.be\/([A-Za-z0-9_-]{11})/);return r!=null&&r[1]?`youtube:${r[1]}`:t.length===11?`youtube:${t}`:`youtube:${t}`}return`${e}:${t}`},Xf=e=>{const t=SE(),n=!!(e!=null&&e.spotify_id),r=!!(e!=null&&e.youtube_id);return t==="spotify"&&n?{provider:"spotify",trackId:e.spotify_id}:t==="youtube"&&r?{provider:"youtube",trackId:e.youtube_id}:n?{provider:"spotify",trackId:e.spotify_id}:r?{provider:"youtube",trackId:e.youtube_id}:{provider:null,trackId:null}};function ML({children:e}){const[t,n]=m.useState({provider:null,trackId:null,canonicalTrackId:null,trackTitle:null,trackArtist:null,trackAlbum:null,lastKnownTitle:null,lastKnownArtist:null,lastKnownAlbum:null,positionMs:0,durationMs:0,volume:.7,isMuted:!1,spotifyOpen:!1,youtubeOpen:!1,spotifyTrackId:null,youtubeTrackId:null,autoplaySpotify:!1,autoplayYoutube:!1,isPlaying:!1,isMinimized:!1,isMini:!1,isCinema:!1,miniPosition:{x:0,y:0},seekToSec:null,currentSectionId:null,queue:[],queueIndex:-1}),r=m.useRef({}),i=m.useRef(null),o=m.useRef(0),a=m.useRef(Promise.resolve()),l=m.useCallback((R,N)=>{a.current=a.current.catch(()=>{}).then(async()=>{try{await N()}catch(z){console.warn(`[Player] ${R} failed`,z)}})},[]);m.useEffect(()=>{i.current=t.provider},[t.provider]),m.useEffect(()=>{o.current=t.positionMs},[t.positionMs]),m.useEffect(()=>{if(!(typeof window>"u"))try{const R=localStorage.getItem(uw);if(!R)return;const N=JSON.parse(R),z=Array.isArray(N==null?void 0:N.queue)?N.queue:[],q=wa(z.length,typeof(N==null?void 0:N.queueIndex)=="number"?N.queueIndex:-1);n(Q=>({...Q,queue:z,queueIndex:q}))}catch(R){console.error("Failed to hydrate queue from storage",R)}},[]),m.useEffect(()=>{if(!(typeof window>"u"))try{const R=JSON.stringify({queue:t.queue,queueIndex:wa(t.queue.length,t.queueIndex)});localStorage.setItem(uw,R)}catch(R){console.error("Failed to persist queue to storage",R)}},[t.queue,t.queueIndex]);const u=m.useCallback(R=>{var q,Q;const N=Math.max(0,R);o.current=N*1e3,n(ge=>({...ge,seekToSec:N,positionMs:N*1e3}));const z=i.current;z&&((Q=(q=r.current[z])==null?void 0:q.seekTo)==null||Q.call(q,N))},[]),c=m.useCallback(()=>{n(R=>({...R,seekToSec:null}))},[]),d=m.useCallback(R=>{const N=Math.max(0,R/1e3);u(N)},[u]),f=m.useCallback(R=>{n(N=>({...N,currentSectionId:R}))},[]),h=m.useCallback(R=>{n(N=>({...N,isPlaying:R}))},[]),p=m.useCallback(R=>{var q,Q,ge,oe;const N=cw(R);n(ye=>({...ye,volume:N,isMuted:N===0?!0:ye.isMuted&&N===0}));const z=t.provider;z&&((Q=(q=r.current[z])==null?void 0:q.setVolume)==null||Q.call(q,N),N>0&&((oe=(ge=r.current[z])==null?void 0:ge.setMute)==null||oe.call(ge,!1)))},[t.provider]),w=m.useCallback(()=>{n(R=>{var q,Q;const N=!R.isMuted,z=R.provider;return z&&((Q=(q=r.current[z])==null?void 0:q.setMute)==null||Q.call(q,N)),{...R,isMuted:N}})},[]),g=m.useCallback(()=>{n(R=>{var q,Q;const N=R.provider,z=N?r.current[N]:void 0;return z?R.isPlaying?((q=z.pause)==null||q.call(z),{...R,isPlaying:!1,autoplaySpotify:!1,autoplayYoutube:!1}):((Q=z.play)==null||Q.call(z,R.seekToSec??null),{...R,isPlaying:!0,autoplaySpotify:N==="spotify",autoplayYoutube:N==="youtube"}):R})},[]),x=m.useCallback((R,N)=>{r.current[R]=N},[]),y=m.useCallback(R=>{n(N=>{const z={...N};R.positionMs!==void 0&&(z.positionMs=Math.max(0,R.positionMs),o.current=z.positionMs),R.durationMs!==void 0&&(z.durationMs=Math.max(R.durationMs,0)),R.isPlaying!==void 0&&(z.isPlaying=R.isPlaying),R.volume!==void 0&&(z.volume=cw(R.volume)),R.isMuted!==void 0&&(z.isMuted=R.isMuted);const q=R.trackTitle??N.trackTitle??N.lastKnownTitle;q&&(z.trackTitle=q,z.lastKnownTitle=q);const Q=R.trackArtist??N.trackArtist??N.lastKnownArtist,ge=va(Q);ge&&(z.trackArtist=ge,z.lastKnownArtist=ge);const oe=R.trackAlbum??N.trackAlbum??N.lastKnownAlbum;return oe&&(z.trackAlbum=oe,z.lastKnownAlbum=oe),z})},[]),v=m.useCallback(R=>{n(N=>({...N,isMinimized:R}))},[]),b=m.useCallback(()=>{n(R=>({...R,isMini:!0,isMinimized:!0}))},[]),_=m.useCallback(()=>{n(R=>({...R,isMini:!1,isMinimized:!1}))},[]),E=m.useCallback(R=>{n(N=>({...N,miniPosition:R}))},[]),k=m.useCallback(()=>{n(R=>({...R,isCinema:!0}))},[]),C=m.useCallback(()=>{n(R=>({...R,isCinema:!1}))},[]),T=m.useCallback(R=>{n(N=>({...N,queue:[...N.queue,R]}))},[]),O=m.useCallback(R=>{n(N=>{const z=N.queue[R];if(!z)return N;const q=Xf(z);return!q.provider||!q.trackId?N:{...N,queueIndex:R,canonicalTrackId:z.id,provider:q.provider,trackId:q.trackId,spotifyOpen:q.provider==="spotify",youtubeOpen:q.provider==="youtube"}})},[]),A=m.useCallback(R=>{n(N=>{const z=N.queue.filter((ge,oe)=>oe!==R),q=R<N.queueIndex?N.queueIndex-1:N.queueIndex,Q=wa(z.length,q);return{...N,queue:z,queueIndex:Q}})},[]),D=m.useCallback(R=>{n(N=>({...N,queue:R,queueIndex:wa(R.length,N.queueIndex)}))},[]),M=m.useCallback(()=>{n(R=>({...R,queue:[],queueIndex:-1}))},[]),K=m.useCallback(()=>{n(R=>{R.queue[R.queueIndex];const z=[...R.queue.slice(R.queueIndex+1)].sort(()=>Math.random()-.5),q=[...R.queue.slice(0,R.queueIndex+1),...z];return{...R,queue:q,queueIndex:wa(q.length,R.queueIndex)}})},[]),F=m.useCallback(()=>{n(R=>{if(R.queue.length===0)return R;const N=R.queueIndex>=R.queue.length-1?0:R.queueIndex+1,z=R.queue[N];if(!z)return R;const q=Xf(z);return!q.provider||!q.trackId?R:{...R,queueIndex:N,canonicalTrackId:z.id,provider:q.provider,trackId:q.trackId,spotifyOpen:q.provider==="spotify",youtubeOpen:q.provider==="youtube"}})},[]),G=m.useCallback(()=>{n(R=>{if(R.queue.length===0)return R;const N=R.queueIndex<=0?R.queue.length-1:R.queueIndex-1,z=R.queue[N];if(!z)return R;const q=Xf(z);return!q.provider||!q.trackId?R:{...R,queueIndex:N,canonicalTrackId:z.id,provider:q.provider,trackId:q.trackId,spotifyOpen:q.provider==="spotify",youtubeOpen:q.provider==="youtube"}})},[]),U=m.useCallback((R,N,z,q)=>{l("play",async()=>{const Q=i.current;Q&&Q!==N&&await ya(Q,r),n(oe=>{const Te={canonicalTrackId:R??oe.canonicalTrackId??ba(N,z??null),seekToSec:q??null,provider:N,trackId:z??oe.trackId,trackTitle:oe.trackTitle??oe.lastKnownTitle,trackArtist:va(oe.trackArtist??oe.lastKnownArtist),trackAlbum:oe.trackAlbum??oe.lastKnownAlbum,isMinimized:!1,isMini:!1,isCinema:!1,positionMs:q?q*1e3:0,durationMs:0,isMuted:!1};return N==="spotify"?(Te.spotifyOpen=!0,Te.spotifyTrackId=z??oe.spotifyTrackId,Te.autoplaySpotify=!0,Te.youtubeOpen=!1,Te.autoplayYoutube=!1):(Te.youtubeOpen=!0,Te.youtubeTrackId=z??oe.youtubeTrackId,Te.autoplayYoutube=!0,Te.spotifyOpen=!1,Te.autoplaySpotify=!1),Te.isPlaying=!0,o.current=Te.positionMs??oe.positionMs,i.current=N,{...oe,...Te}});const ge=R??ba(N,z??null);ge&&Qf({track_id:ge,provider:N,action:"preview",context:"player"}).catch(oe=>console.error("Failed to record play event",oe))})},[l]),H=m.useCallback(()=>{var N,z;const R=i.current;R&&((z=(N=r.current[R])==null?void 0:N.pause)==null||z.call(N)),n(q=>({...q,isPlaying:!1,autoplaySpotify:!1,autoplayYoutube:!1}))},[]),I=m.useCallback(()=>{l("stop",async()=>{await ya(i.current,r),i.current=null,n(R=>({...R,isPlaying:!1,spotifyOpen:!1,youtubeOpen:!1,spotifyTrackId:null,youtubeTrackId:null,canonicalTrackId:null,trackId:null,provider:null,lastKnownTitle:R.trackTitle??R.lastKnownTitle,lastKnownArtist:R.trackArtist??R.lastKnownArtist,lastKnownAlbum:R.trackAlbum??R.lastKnownAlbum,autoplaySpotify:!1,autoplayYoutube:!1,seekToSec:null,isMini:!1,isCinema:!1}))})},[l]),L=m.useCallback(R=>{l("openPlayer",async()=>{const N=i.current;N&&N!==R.provider&&await ya(N,r);const z=R.canonicalTrackId??ba(R.provider,R.providerTrackId);n(Q=>{let ge=Q.queue,oe=Q.queueIndex;const ye=z??(R.provider===Q.provider&&R.providerTrackId===Q.trackId?Q.canonicalTrackId:null)??`anon-${R.provider}-${R.providerTrackId??Date.now()}`;if(ye){const yn=Q.queue.findIndex(tn=>tn.id===ye);if(yn===-1){const tn={id:ye,title:R.title??Q.trackTitle??Q.lastKnownTitle??"Untitled",artist:R.artist??Q.trackArtist??Q.lastKnownArtist??void 0,album:R.album??Q.trackAlbum??Q.lastKnownAlbum??void 0,spotify_id:R.provider==="spotify"?R.providerTrackId??void 0:void 0,youtube_id:R.provider==="youtube"?R.providerTrackId??void 0:void 0};ge=[...Q.queue,tn],oe=ge.length-1}else oe=yn}const Te={provider:R.provider,trackId:R.providerTrackId,canonicalTrackId:ye,trackTitle:R.title??Q.trackTitle??Q.lastKnownTitle,trackArtist:va(R.artist??Q.trackArtist??Q.lastKnownArtist),trackAlbum:R.album??Q.trackAlbum??Q.lastKnownAlbum,lastKnownTitle:R.title??Q.trackTitle??Q.lastKnownTitle,lastKnownArtist:va(R.artist??Q.trackArtist??Q.lastKnownArtist),lastKnownAlbum:R.album??Q.trackAlbum??Q.lastKnownAlbum,seekToSec:R.startSec??null,positionMs:R.startSec?R.startSec*1e3:0,durationMs:0,isMuted:!1,isMinimized:!1,isMini:!1,isCinema:!1,isPlaying:R.autoplay??!0,spotifyOpen:R.provider==="spotify",youtubeOpen:R.provider==="youtube",spotifyTrackId:R.provider==="spotify"?R.providerTrackId:Q.spotifyTrackId,youtubeTrackId:R.provider==="youtube"?R.providerTrackId:Q.youtubeTrackId,autoplaySpotify:R.provider==="spotify"?R.autoplay??!0:!1,autoplayYoutube:R.provider==="youtube"?R.autoplay??!0:!1,queue:ge,queueIndex:oe};return o.current=Te.positionMs??Q.positionMs,i.current=R.provider,{...Q,...Te}});const q=z??R.canonicalTrackId;q&&Qf({track_id:q,provider:R.provider,action:"preview",context:R.context??"player"}).catch(Q=>{console.error("Failed to record play event",Q)})})},[l]),B=m.useCallback(()=>{l("closePlayer",async()=>{await ya(i.current,r),i.current=null,n(R=>({...R,provider:null,trackId:null,canonicalTrackId:null,trackTitle:R.trackTitle,trackArtist:R.trackArtist,isPlaying:!1,isMinimized:!1,isMini:!1,isCinema:!1,seekToSec:null,spotifyOpen:!1,youtubeOpen:!1,spotifyTrackId:null,youtubeTrackId:null,autoplaySpotify:!1,autoplayYoutube:!1}))})},[l]),ne=m.useCallback(()=>{n(R=>({...R,spotifyOpen:!1,autoplaySpotify:!1}))},[]),ee=m.useCallback(()=>{n(R=>({...R,youtubeOpen:!1,autoplayYoutube:!1}))},[]),ue=m.useCallback((R,N,z)=>{l("switchProvider",async()=>{const q=i.current,Q=Math.floor(Math.max(0,o.current)/1e3);q&&q!==R&&await ya(q,r),n(oe=>{const ye={canonicalTrackId:z??oe.canonicalTrackId??ba(R,N),provider:R,trackId:N??oe.trackId,trackTitle:oe.trackTitle??oe.lastKnownTitle,trackArtist:va(oe.trackArtist??oe.lastKnownArtist),trackAlbum:oe.trackAlbum??oe.lastKnownAlbum,isMinimized:!1,isMini:!1,isCinema:!1,isPlaying:!0,isMuted:!1,seekToSec:Q,durationMs:0};return R==="spotify"?(ye.spotifyOpen=!0,ye.spotifyTrackId=N,ye.autoplaySpotify=!0,ye.youtubeOpen=!1,ye.autoplayYoutube=!1):(ye.youtubeOpen=!0,ye.youtubeTrackId=N,ye.autoplayYoutube=!0,ye.spotifyOpen=!1,ye.autoplaySpotify=!1),i.current=R,{...oe,...ye}});const ge=z??t.canonicalTrackId??ba(R,N);ge&&Qf({track_id:ge,provider:R,action:"preview",context:"provider-switch"}).catch(oe=>{console.error("Failed to record provider switch event",oe)})})},[l,t.canonicalTrackId]),le=!!t.provider&&!!t.trackId;m.useEffect(()=>{},[le,t.spotifyOpen,t.youtubeOpen,t.trackTitle,t.lastKnownTitle]),m.useEffect(()=>{},[t.provider,t.isPlaying]),m.useEffect(()=>{if(!(typeof window>"u"))try{const R=document.body;le?(R.classList.add("clade-player-open"),R.style.setProperty("--clade-player-height","52px")):(R.classList.remove("clade-player-open"),R.style.removeProperty("--clade-player-height"))}catch(R){console.error("Failed to toggle player body class",R)}},[le]);const Re=m.useMemo(()=>({...t,isOpen:le,openPlayer:L,play:U,pause:H,stop:I,closePlayer:B,closeSpotify:ne,closeYoutube:ee,switchProvider:ue,seekTo:u,seekToMs:d,clearSeek:c,togglePlayPause:g,setVolumeLevel:p,toggleMute:w,setCurrentSection:f,setIsPlaying:h,setMinimized:v,collapseToMini:b,restoreFromMini:_,setMiniPosition:E,enterCinema:k,exitCinema:C,registerProviderControls:x,updatePlaybackState:y,addToQueue:T,playFromQueue:O,removeFromQueue:A,reorderQueue:D,clearQueue:M,shuffleQueue:K,nextTrack:F,previousTrack:G}),[t,le,L,U,H,I,B,ne,ee,ue,u,d,c,g,p,w,f,h,v,b,_,E,k,C,x,y,T,O,A,D,M,K,F,G]);return S.jsx(_E.Provider,{value:Re,children:e})}function Kl(){const e=m.useContext(_E);if(!e)throw new Error("usePlayer must be used within PlayerProvider");return e}const LL=m.createContext(null);function $L({children:e}){const[t,n]=m.useState(null),[r,i]=m.useState(!1),[o,a]=m.useState(0),[l,u]=m.useState(0);m.useRef(null);const c=m.useRef(null),d=m.useRef(null);m.useEffect(()=>(r&&t?(d.current=performance.now(),c.current=window.setInterval(()=>{const x=performance.now(),y=d.current??x,v=(x-y)/1e3;d.current=x,a(b=>b+v)},200)):(c.current&&(clearInterval(c.current),c.current=null),d.current=null),()=>{c.current&&(clearInterval(c.current),c.current=null),d.current=null}),[r,t]);const f=x=>{n(x),i(!0),a(x.startSeconds||0)},h=()=>{i(!1)},p=()=>{n(null),i(!1),a(0),u(0)},w=x=>{a(x)},g=x=>{a(x)};return S.jsx(LL.Provider,{value:{currentVideo:t,isPlaying:r,currentTime:o,duration:l,playVideo:f,pauseVideo:h,stopVideo:p,setIsPlaying:i,seekTo:w,setCurrentPlaybackTime:g},children:e})}const EE=m.createContext(void 0);function FL({children:e}){const[t,n]=m.useState([]),[r,i]=m.useState(0),o=f=>{n(h=>[...h,f])},a=f=>{n(h=>h.filter(p=>p.id!==f))},l=()=>{n([]),i(0)},u=f=>{n(h=>{const p=[...h];return p.splice(r+1,0,f),p})},c=f=>{n(h=>[...h,f])},d=(f,h)=>{n(p=>{const w=[...p],[g]=w.splice(f,1);return w.splice(h,0,g),w})};return S.jsx(EE.Provider,{value:{queue:t,currentIndex:r,addToQueue:o,removeFromQueue:a,clearQueue:l,playNext:u,playLater:c,moveInQueue:d,setCurrentIndex:i},children:e})}function ZB(){const e=m.useContext(EE);if(!e)throw new Error("useQueue must be used within QueueProvider");return e}const TE=m.createContext({});function Ti(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const kE=typeof window<"u",CE=kE?m.useLayoutEffect:m.useEffect,qg=m.createContext(null);function Gg(e,t){e.indexOf(t)===-1&&e.push(t)}function Yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function UL([...e],t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}return e}const ir=(e,t,n)=>n>t?t:n<e?e:n;let $d=()=>{},Ps=()=>{};const Ir={},PE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function RE(e){return typeof e=="object"&&e!==null}const AE=e=>/^0[^.\s]+$/u.test(e);function Qg(e){let t;return()=>(t===void 0&&(t=e()),t)}const hn=e=>e,VL=(e,t)=>n=>t(e(n)),ql=(...e)=>e.reduce(VL),Tl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Xg{constructor(){this.subscriptions=[]}add(t){return Gg(this.subscriptions,t),()=>Yg(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=e=>e*1e3,dn=e=>e/1e3;function OE(e,t){return t?e*(1e3/t):0}const IE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,BL=1e-7,zL=12;function WL(e,t,n,r,i){let o,a,l=0;do a=t+(n-t)/2,o=IE(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>BL&&++l<zL);return a}function Gl(e,t,n,r){if(e===t&&n===r)return hn;const i=o=>WL(o,0,1,e,n);return o=>o===0||o===1?o:IE(i(o),t,r)}const jE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NE=e=>t=>1-e(1-t),DE=Gl(.33,1.53,.69,.99),Jg=NE(DE),ME=jE(Jg),LE=e=>(e*=2)<1?.5*Jg(e):.5*(2-Math.pow(2,-10*(e-1))),Zg=e=>1-Math.sin(Math.acos(e)),$E=NE(Zg),FE=jE(Zg),HL=Gl(.42,0,1,1),KL=Gl(0,0,.58,1),UE=Gl(.42,0,.58,1),qL=e=>Array.isArray(e)&&typeof e[0]!="number",VE=e=>Array.isArray(e)&&typeof e[0]=="number",dw={linear:hn,easeIn:HL,easeInOut:UE,easeOut:KL,circIn:Zg,circInOut:FE,circOut:$E,backIn:Jg,backInOut:ME,backOut:DE,anticipate:LE},GL=e=>typeof e=="string",fw=e=>{if(VE(e)){Ps(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,i]=e;return Gl(t,n,r,i)}else if(GL(e))return Ps(dw[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),dw[e];return e},ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hw={value:null,addProjectionMetrics:null};function YL(e,t){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function c(f){a.has(f)&&(d.schedule(f),e()),u++,f(l)}const d={schedule:(f,h=!1,p=!1)=>{const g=p&&i?n:r;return h&&a.add(f),g.has(f)||g.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),t&&hw.value&&hw.value.frameloop[t].push(u),u=0,n.clear(),i=!1,o&&(o=!1,d.process(f))}};return d}const QL=40;function BE(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=ju.reduce((b,_)=>(b[_]=YL(o,t?_:void 0),b),{}),{setup:l,read:u,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:w}=a,g=()=>{const b=Ir.useManualTiming?i.timestamp:performance.now();n=!1,Ir.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,QL),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),h.process(i),p.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:ju.reduce((b,_)=>{const E=a[_];return b[_]=(k,C=!1,T=!1)=>(n||x(),E.schedule(k,C,T)),b},{}),cancel:b=>{for(let _=0;_<ju.length;_++)a[ju[_]].cancel(b)},state:i,steps:a}}const{schedule:Pe,cancel:jr,state:dt,steps:Jf}=BE(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let ac;function XL(){ac=void 0}const Ct={now:()=>(ac===void 0&&Ct.set(dt.isProcessing||Ir.useManualTiming?dt.timestamp:performance.now()),ac),set:e=>{ac=e,queueMicrotask(XL)}},zE=e=>t=>typeof t=="string"&&t.startsWith(e),WE=zE("--"),JL=zE("var(--"),ey=e=>JL(e)?ZL.test(e.split("/*")[0].trim()):!1,ZL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function pw(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ta={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kl={...ta,transform:e=>ir(0,1,e)},Nu={...ta,default:1},za=e=>Math.round(e*1e5)/1e5,ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e$(e){return e==null}const t$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ny=(e,t)=>n=>!!(typeof n=="string"&&t$.test(n)&&n.startsWith(e)||t&&!e$(n)&&Object.prototype.hasOwnProperty.call(n,t)),HE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,l]=r.match(ty);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},n$=e=>ir(0,255,e),Zf={...ta,transform:e=>Math.round(n$(e))},ni={test:ny("rgb","red"),parse:HE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zf.transform(e)+", "+Zf.transform(t)+", "+Zf.transform(n)+", "+za(kl.transform(r))+")"};function r$(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nm={test:ny("#"),parse:r$,transform:ni.transform},Yl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zr=Yl("deg"),rr=Yl("%"),J=Yl("px"),s$=Yl("vh"),i$=Yl("vw"),mw={...rr,parse:e=>rr.parse(e)/100,transform:e=>rr.transform(e*100)},ao={test:ny("hsl","hue"),parse:HE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rr.transform(za(t))+", "+rr.transform(za(n))+", "+za(kl.transform(r))+")"},Ye={test:e=>ni.test(e)||nm.test(e)||ao.test(e),parse:e=>ni.test(e)?ni.parse(e):ao.test(e)?ao.parse(e):nm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ni.transform(e):ao.transform(e),getAnimatableNone:e=>{const t=Ye.parse(e);return t.alpha=0,Ye.transform(t)}},o$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a$(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ty))==null?void 0:t.length)||0)+(((n=e.match(o$))==null?void 0:n.length)||0)>0}const KE="number",qE="color",l$="var",u$="var(",gw="${}",c$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(c$,u=>(Ye.test(u)?(r.color.push(o),i.push(qE),n.push(Ye.parse(u))):u.startsWith(u$)?(r.var.push(o),i.push(l$),n.push(u)):(r.number.push(o),i.push(KE),n.push(parseFloat(u))),++o,gw)).split(gw);return{values:n,split:l,indexes:r,types:i}}function GE(e){return Cl(e).values}function YE(e){const{split:t,types:n}=Cl(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const l=n[a];l===KE?o+=za(i[a]):l===qE?o+=Ye.transform(i[a]):o+=i[a]}return o}}const d$=e=>typeof e=="number"?0:Ye.test(e)?Ye.getAnimatableNone(e):e;function f$(e){const t=GE(e);return YE(e)(t.map(d$))}const Rs={test:a$,parse:GE,createTransformer:YE,getAnimatableNone:f$};function eh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function h$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=eh(u,l,e+1/3),o=eh(u,l,e),a=eh(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Qc(e,t){return n=>n>0?t:e}const De=(e,t,n)=>e+(t-e)*n,th=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},p$=[nm,ni,ao],m$=e=>p$.find(t=>t.test(e));function yw(e){const t=m$(e);if($d(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===ao&&(n=h$(n)),n}const vw=(e,t)=>{const n=yw(e),r=yw(t);if(!n||!r)return Qc(e,t);const i={...n};return o=>(i.red=th(n.red,r.red,o),i.green=th(n.green,r.green,o),i.blue=th(n.blue,r.blue,o),i.alpha=De(n.alpha,r.alpha,o),ni.transform(i))},rm=new Set(["none","hidden"]);function g$(e,t){return rm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function y$(e,t){return n=>De(e,t,n)}function ry(e){return typeof e=="number"?y$:typeof e=="string"?ey(e)?Qc:Ye.test(e)?vw:b$:Array.isArray(e)?QE:typeof e=="object"?Ye.test(e)?vw:v$:Qc}function QE(e,t){const n=[...e],r=n.length,i=e.map((o,a)=>ry(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function v$(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=ry(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function w$(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],l=e.values[a]??0;n[i]=l,r[o]++}return n}const b$=(e,t)=>{const n=Rs.createTransformer(t),r=Cl(e),i=Cl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rm.has(e)&&!i.values.length||rm.has(t)&&!r.values.length?g$(e,t):ql(QE(w$(r,i),i.values),n):($d(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Qc(e,t))};function XE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?De(e,t,n):ry(e)(e,t)}const x$=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pe.update(t,n),stop:()=>jr(t),now:()=>dt.isProcessing?dt.timestamp:Ct.now()}},JE=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xc=2e4;function sy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Xc;)t+=n,r=e.next(t);return t>=Xc?1/0:t}function S$(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(sy(r),Xc);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:dn(i)}}const _$=5;function ZE(e,t,n){const r=Math.max(t-_$,0);return OE(n-e(r),t-r)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nh=.001;function E$({duration:e=Le.duration,bounce:t=Le.bounce,velocity:n=Le.velocity,mass:r=Le.mass}){let i,o;$d(e<=nr(Le.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=ir(Le.minDamping,Le.maxDamping,a),e=ir(Le.minDuration,Le.maxDuration,dn(e)),a<1?(i=c=>{const d=c*a,f=d*e,h=d-n,p=sm(c,a),w=Math.exp(-f);return nh-h/p*w},o=c=>{const f=c*a*e,h=f*n+n,p=Math.pow(a,2)*Math.pow(c,2)*e,w=Math.exp(-f),g=sm(Math.pow(c,2),a);return(-i(c)+nh>0?-1:1)*((h-p)*w)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-nh+d*f},o=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const l=5/e,u=k$(i,o,l);if(e=nr(e),isNaN(u))return{stiffness:Le.stiffness,damping:Le.damping,duration:e};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:e}}}const T$=12;function k$(e,t,n){let r=n;for(let i=1;i<T$;i++)r=r-e(r)/t(r);return r}function sm(e,t){return e*Math.sqrt(1-t*t)}const C$=["duration","bounce"],P$=["stiffness","damping","mass"];function ww(e,t){return t.some(n=>e[n]!==void 0)}function R$(e){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...e};if(!ww(e,P$)&&ww(e,C$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ir(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Le.mass,stiffness:i,damping:o}}else{const n=E$(e);t={...t,...n,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function Jc(e=Le.visualDuration,t=Le.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=R$({...n,velocity:-dn(n.velocity||0)}),w=h||0,g=c/(2*Math.sqrt(u*d)),x=a-o,y=dn(Math.sqrt(u/d)),v=Math.abs(x)<5;r||(r=v?Le.restSpeed.granular:Le.restSpeed.default),i||(i=v?Le.restDelta.granular:Le.restDelta.default);let b;if(g<1){const E=sm(y,g);b=k=>{const C=Math.exp(-g*y*k);return a-C*((w+g*y*x)/E*Math.sin(E*k)+x*Math.cos(E*k))}}else if(g===1)b=E=>a-Math.exp(-y*E)*(x+(w+y*x)*E);else{const E=y*Math.sqrt(g*g-1);b=k=>{const C=Math.exp(-g*y*k),T=Math.min(E*k,300);return a-C*((w+g*y*x)*Math.sinh(T)+E*x*Math.cosh(T))/E}}const _={calculatedDuration:p&&f||null,next:E=>{const k=b(E);if(p)l.done=E>=f;else{let C=E===0?w:0;g<1&&(C=E===0?nr(w):ZE(b,E,k));const T=Math.abs(C)<=r,O=Math.abs(a-k)<=i;l.done=T&&O}return l.value=l.done?a:k,l},toString:()=>{const E=Math.min(sy(_),Xc),k=JE(C=>_.next(E*C).value,E,30);return E+"ms "+k},toTransition:()=>{}};return _}Jc.applyToOptions=e=>{const t=S$(e,100,Jc);return e.ease=t.ease,e.duration=nr(t.duration),e.type="keyframes",e};function im({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||u!==void 0&&T>u,w=T=>l===void 0?u:u===void 0||Math.abs(l-T)<Math.abs(u-T)?l:u;let g=n*t;const x=f+g,y=a===void 0?x:a(x);y!==x&&(g=y-f);const v=T=>-g*Math.exp(-T/r),b=T=>y+v(T),_=T=>{const O=v(T),A=b(T);h.done=Math.abs(O)<=c,h.value=h.done?y:A};let E,k;const C=T=>{p(h.value)&&(E=T,k=Jc({keyframes:[h.value,w(h.value)],velocity:ZE(b,T,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let O=!1;return!k&&E===void 0&&(O=!0,_(T),C(T)),E!==void 0&&T>=E?k.next(T-E):(!O&&_(T),h)}}}function A$(e,t,n){const r=[],i=n||Ir.mix||XE,o=e.length-1;for(let a=0;a<o;a++){let l=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||hn:t;l=ql(u,l)}r.push(l)}return r}function eT(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Ps(o===t.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=A$(t,r,i),u=l.length,c=d=>{if(a&&d<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Tl(e[f],e[f+1],d);return l[f](h)};return n?d=>c(ir(e[0],e[o-1],d)):c}function O$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Tl(0,t,r);e.push(De(n,1,i))}}function I$(e){const t=[0];return O$(t,e.length-1),t}function j$(e,t){return e.map(n=>n*t)}function N$(e,t){return e.map(()=>t||UE).splice(0,e.length-1)}function Wa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=qL(r)?r.map(fw):fw(r),o={done:!1,value:t[0]},a=j$(n&&n.length===t.length?n:I$(t),e),l=eT(a,t,{ease:Array.isArray(i)?i:N$(t,i)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const D$=e=>e!==null;function iy(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(D$),l=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const M$={decay:im,inertia:im,tween:Wa,keyframes:Wa,spring:Jc};function tT(e){typeof e.type=="string"&&(e.type=M$[e.type])}class oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const L$=e=>e/100;class ay extends oy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ct.now()&&this.tick(Ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tT(t);const{type:n=Wa,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const u=n||Wa;u!==Wa&&typeof l[0]!="number"&&(this.mixKeyframes=ql(L$,XE(l[0],l[1])),l=[0,100]);const c=u({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=sy(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:w,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=r;if(f){const T=Math.min(this.currentTime,i)/l;let O=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(h==="reverse"?(A=1-A,p&&(A-=p/l)):h==="mirror"&&(_=a)),b=ir(0,1,A)*l}const E=v?{done:!1,value:d[0]}:_.next(b);o&&(E.value=o(E.value));let{done:k}=E;!v&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&w!==im&&(E.value=iy(d,this.options,x,this.speed)),g&&g(E.value),C&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return dn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(this.currentTime)}set time(t){var n;t=nr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ct.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=dn(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=x$,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function $$(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ri=e=>e*180/Math.PI,om=e=>{const t=ri(Math.atan2(e[1],e[0]));return am(t)},F$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:om,rotateZ:om,skewX:e=>ri(Math.atan(e[1])),skewY:e=>ri(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},am=e=>(e=e%360,e<0&&(e+=360),e),bw=om,xw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Sw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xw,scaleY:Sw,scale:e=>(xw(e)+Sw(e))/2,rotateX:e=>am(ri(Math.atan2(e[6],e[5]))),rotateY:e=>am(ri(Math.atan2(-e[2],e[0]))),rotateZ:bw,rotate:bw,skewX:e=>ri(Math.atan(e[4])),skewY:e=>ri(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lm(e){return e.includes("scale")?1:0}function um(e,t){if(!e||e==="none")return lm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=U$,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=F$,i=l}if(!i)return lm(t);const o=r[t],a=i[1].split(",").map(B$);return typeof o=="function"?o(a):a[o]}const V$=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return um(n,t)};function B$(e){return parseFloat(e.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),_w=e=>e===ta||e===J,z$=new Set(["x","y","z"]),W$=na.filter(e=>!z$.has(e));function H$(e){const t=[];return W$.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ds={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>um(t,"x"),y:(e,{transform:t})=>um(t,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const gi=new Set;let cm=!1,dm=!1,fm=!1;function nT(){if(dm){const e=Array.from(gi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=H$(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var l;(l=r.getValue(o))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dm=!1,cm=!1,gi.forEach(e=>e.complete(fm)),gi.clear()}function rT(){gi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dm=!0)})}function K$(){fm=!0,rT(),nT(),fm=!1}class ly{constructor(t,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(gi.add(this),cm||(cm=!0,Pe.read(rT),Pe.resolveKeyframes(nT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}$$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gi.delete(this)}cancel(){this.state==="scheduled"&&(gi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q$=e=>e.startsWith("--");function G$(e,t,n){q$(t)?e.style.setProperty(t,n):e.style[t]=n}const Y$=Qg(()=>window.ScrollTimeline!==void 0),Q$={};function X$(e,t){const n=Qg(e);return()=>Q$[t]??n()}const sT=X$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ew={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function iT(e,t){if(e)return typeof e=="function"?sT()?JE(e,t):"ease-out":VE(e)?Pa(e):Array.isArray(e)?e.map(n=>iT(n,t)||Ew.easeOut):Ew[e]}function J$(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:u}={},c=void 0){const d={[t]:n};u&&(d.offset=u);const f=iT(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function oT(e){return typeof e=="function"&&"applyToOptions"in e}function Z$({type:e,...t}){return oT(e)&&sT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eF extends oy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,Ps(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=Z$(t);this.animation=J$(n,r,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=iy(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):G$(n,r,d),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return dn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=nr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Y$()?(this.animation.timeline=t,hn):n(this)}}const aT={anticipate:LE,backInOut:ME,circInOut:FE};function tF(e){return e in aT}function nF(e){typeof e.ease=="string"&&tF(e.ease)&&(e.ease=aT[e.ease])}const rh=10;class rF extends eF{constructor(t){nF(t),tT(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ay({...a,autoplay:!1}),u=Math.max(rh,Ct.now()-this.startTime),c=ir(0,rh,u-rh);n.setWithVelocity(l.sample(Math.max(0,u-c)).value,l.sample(u).value,c),l.stop()}}const Tw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rs.test(e)||e==="0")&&!e.startsWith("url("));function sF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Tw(i,t),l=Tw(o,t);return $d(a===l,`You are trying to animate ${t} from "${i}" to "${o}". "${a?o:i}" is not an animatable value.`,"value-not-animatable"),!a||!l?!1:sF(e)||(n==="spring"||oT(n))&&r}function hm(e){e.duration=0,e.type="keyframes"}const oF=new Set(["opacity","clipPath","filter","transform"]),aF=Qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lF(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return aF()&&n&&oF.has(n)&&(n!=="transform"||!c)&&!u&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const uF=40;class cF extends oy{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:u,motionValue:c,element:d,...f}){var w;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ct.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:u,motionValue:c,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||ly;this.keyframeResolver=new p(l,(g,x,y)=>this.onKeyframesResolved(g,x,h,!y),u,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){var x,y;this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:u,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ct.now(),iF(t,o,a,l)||((Ir.instantAnimations||!u)&&(d==null||d(iy(t,r,n))),t[0]=t[t.length-1],hm(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&lF(h),w=(y=(x=h.motionValue)==null?void 0:x.owner)==null?void 0:y.current,g=p?new rF({...h,element:w}):new ay(h);g.finished.then(()=>{this.notifyFinished()}).catch(hn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),K$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function lT(e,t,n,r=0,i=1){const o=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:l-o*r}const dF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fF(e){const t=dF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}const hF=4;function uT(e,t,n=1){Ps(n<=hF,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=fF(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return PE(a)?parseFloat(a):a}return ey(i)?uT(i,t,n+1):i}const pF={type:"spring",stiffness:500,damping:25,restSpeed:10},mF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gF={type:"keyframes",duration:.8},yF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vF=(e,{keyframes:t})=>t.length>2?gF:ra.has(e)?e.startsWith("scale")?mF(t[1]):pF:yF,wF=e=>e!==null;function bF(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(wF),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}function uy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function xF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const cy=(e,t,n,r={},i,o)=>a=>{const l=uy(r,e)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-nr(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};xF(l)||Object.assign(d,vF(e,d)),d.duration&&(d.duration=nr(d.duration)),d.repeatDelay&&(d.repeatDelay=nr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(hm(d),d.delay===0&&(f=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(f=!0,hm(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!o&&t.get()!==void 0){const h=bF(d.keyframes,l);if(h!==void 0){Pe.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new ay(d):new cF(d)};function kw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function dy(e,t,n,r){if(typeof t=="function"){const[i,o]=kw(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=kw(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function xo(e,t,n){const r=e.getProps();return dy(r,t,n!==void 0?n:r.custom,e)}const cT=new Set(["width","height","top","left","right","bottom",...na]),Cw=30,SF=e=>!isNaN(parseFloat(e)),Ha={current:void 0};class _F{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Ct.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ha.current&&Ha.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Cw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cw);return OE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ki(e,t){return new _F(e,t)}const pm=e=>Array.isArray(e);function EF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ki(n))}function TF(e){return pm(e)?e[e.length-1]||0:e}function kF(e,t){const n=xo(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const l=TF(o[a]);EF(e,a,l)}}const ft=e=>!!(e&&e.getVelocity);function CF(e){return!!(ft(e)&&e.add)}function mm(e,t){const n=e.getValue("willChange");if(CF(n))return n.add(t);if(!n&&Ir.WillChange){const r=new Ir.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function fy(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const PF="framerAppearId",dT="data-"+fy(PF);function fT(e){return e.props[dT]}function RF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||c&&RF(c,d))continue;const p={delay:n,...uy(o||{},d)},w=f.get();if(w!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===w&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=fT(e);if(y){const v=window.MotionHandoffAnimation(y,d,Pe);v!==null&&(p.startTime=v,g=!0)}}mm(e,d),f.start(cy(d,f,h,e.shouldReduceMotion&&cT.has(d)?{type:!1}:p,e,g));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{Pe.update(()=>{a&&kF(e,a)})}),u}function gm(e,t,n={}){var u;const r=xo(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(hT(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return AF(e,t,c,d,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function AF(e,t,n=0,r=0,i=0,o=1,a){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(gm(u,t,{...a,delay:n+(typeof r=="function"?0:r)+lT(e.variantChildren,u,r,i,o)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function OF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>gm(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=gm(e,t,n);else{const i=typeof t=="function"?xo(e,t,n.custom):t;r=Promise.all(hT(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const IF={test:e=>e==="auto",parse:e=>e},pT=e=>t=>t.test(e),mT=[ta,J,rr,zr,i$,s$,IF],Pw=e=>mT.find(pT(e));function jF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||AE(e):!0}const NF=new Set(["brightness","contrast","saturate","opacity"]);function DF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ty)||[];if(!r)return e;const i=n.replace(r,"");let o=NF.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const MF=/\b([a-z-]*)\(.*?\)/gu,ym={...Rs,getAnimatableNone:e=>{const t=e.match(MF);return t?t.map(DF).join(" "):e}},Rw={...ta,transform:Math.round},LF={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:Nu,scaleX:Nu,scaleY:Nu,scaleZ:Nu,skew:zr,skewX:zr,skewY:zr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:kl,originX:mw,originY:mw,originZ:J},hy={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,inset:J,insetBlock:J,insetBlockStart:J,insetBlockEnd:J,insetInline:J,insetInlineStart:J,insetInlineEnd:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,paddingBlock:J,paddingBlockStart:J,paddingBlockEnd:J,paddingInline:J,paddingInlineStart:J,paddingInlineEnd:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,marginBlock:J,marginBlockStart:J,marginBlockEnd:J,marginInline:J,marginInlineStart:J,marginInlineEnd:J,backgroundPositionX:J,backgroundPositionY:J,...LF,zIndex:Rw,fillOpacity:kl,strokeOpacity:kl,numOctaves:Rw},$F={...hy,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:ym,WebkitFilter:ym},gT=e=>$F[e];function yT(e,t){let n=gT(e);return n!==ym&&(n=Rs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const FF=new Set(["auto","none","0"]);function UF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!FF.has(o)&&Cl(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=yT(n,i)}class VF extends ly{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),ey(f))){const h=uT(f,n.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!cT.has(r)||t.length!==2)return;const[i,o]=t,a=Pw(i),l=Pw(o),u=pw(i),c=pw(o);if(u!==c&&ds[r]){this.needsMeasurement=!0;return}if(a!==l)if(_w(a)&&_w(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else ds[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||jF(t[i]))&&r.push(i);r.length&&UF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=ds[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function BF(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const vT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zF(e){return RE(e)&&"offsetHeight"in e}const{schedule:py,cancel:ez}=BE(queueMicrotask,!1),kn={x:!1,y:!1};function wT(){return kn.x||kn.y}function WF(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function bT(e,t){const n=BF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Aw(e){return!(e.pointerType==="touch"||wT())}function HF(e,t,n={}){const[r,i,o]=bT(e,n),a=l=>{if(!Aw(l))return;const{target:u}=l,c=t(u,l);if(typeof c!="function"||!u)return;const d=f=>{Aw(f)&&(c(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const xT=(e,t)=>t?e===t?!0:xT(e,t.parentElement):!1,my=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,KF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ST(e){return KF.has(e.tagName)||e.isContentEditable===!0}const lc=new WeakSet;function Ow(e){return t=>{t.key==="Enter"&&e(t)}}function sh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ow(()=>{if(lc.has(n))return;sh(n,"down");const i=Ow(()=>{sh(n,"up")}),o=()=>sh(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Iw(e){return my(e)&&!wT()}function GF(e,t,n={}){const[r,i,o]=bT(e,n),a=l=>{const u=l.currentTarget;if(!Iw(l))return;lc.add(u);const c=t(u,l),d=(p,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),lc.has(u)&&lc.delete(u),Iw(p)&&typeof c=="function"&&c(p,{success:w})},f=p=>{d(p,u===window||u===document||n.useGlobalTarget||xT(u,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),zF(l)&&(l.addEventListener("focus",c=>qF(c,i)),!ST(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function _T(e){return RE(e)&&"ownerSVGElement"in e}function YF(e){return _T(e)&&e.tagName==="svg"}function QF(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],o=e[2+n],a=e[3+n],l=eT(i,o,a);return t?l(r):l}const XF=[...mT,Ye,Rs],JF=e=>XF.find(pT(e)),jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:jw(),y:jw()}),Nw=()=>({min:0,max:0}),Ze=()=>({x:Nw(),y:Nw()}),vm={current:null},ET={current:!1},ZF=typeof window<"u";function e3(){if(ET.current=!0,!!ZF)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vm.current=e.matches;e.addEventListener("change",t),t()}else vm.current=!1}const t3=new WeakMap;function Fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pl(e){return typeof e=="string"||Array.isArray(e)}const gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yy=["initial",...gy];function Ud(e){return Fd(e.animate)||yy.some(t=>Pl(e[t]))}function TT(e){return!!(Ud(e)||e.variants)}function n3(e,t,n){for(const r in t){const i=t[r],o=n[r];if(ft(i))e.addValue(r,i);else if(ft(o))e.addValue(r,ki(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,ki(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zc={};function kT(e){Zc=e}function r3(){return Zc}class s3{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ct.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Pe.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Ud(n),this.isVariantNode=TT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];u[h]!==void 0&&ft(p)&&p.set(u[h])}}mount(t){var n;this.current=t,t3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ET.current||e3(),this.shouldReduceMotion=vm.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ra.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zc){const n=Zc[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dw.length;r++){const i=Dw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=t[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=n3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ki(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(PE(r)||AE(r))?r=parseFloat(r):!JF(r)&&Rs.test(n)&&(r=yT(t,n)),this.setBaseTarget(t,ft(r)?r.get():r)),ft(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=dy(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ft(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){py.render(this.render)}}class CT extends s3{constructor(){super(...arguments),this.KeyframeResolver=VF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}function PT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function i3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function o3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ih(e){return e===void 0||e===1}function wm({scale:e,scaleX:t,scaleY:n}){return!ih(e)||!ih(t)||!ih(n)}function Ys(e){return wm(e)||RT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RT(e){return Mw(e.x)||Mw(e.y)}function Mw(e){return e&&e!=="0%"}function ed(e,t,n){const r=e-n,i=t*r;return n+i}function Lw(e,t,n,r,i){return i!==void 0&&(e=ed(e,i,r)),ed(e,n,r)+t}function bm(e,t=0,n=1,r,i){e.min=Lw(e.min,t,n,r,i),e.max=Lw(e.max,t,n,r,i)}function AT(e,{x:t,y:n}){bm(e.x,t.translate,t.scale,t.originPoint),bm(e.y,n.translate,n.scale,n.originPoint)}const $w=.999999999999,Fw=1.0000000000001;function a3(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let l=0;l<i;l++){o=n[l],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&co(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,AT(e,a)),r&&Ys(o.latestValues)&&co(e,o.latestValues))}t.x<Fw&&t.x>$w&&(t.x=1),t.y<Fw&&t.y>$w&&(t.y=1)}function uo(e,t){e.min=e.min+t,e.max=e.max+t}function Uw(e,t,n,r,i=.5){const o=De(e.min,e.max,i);bm(e,t,n,o,r)}function co(e,t){Uw(e.x,t.x,t.scaleX,t.scale,t.originX),Uw(e.y,t.y,t.scaleY,t.scale,t.originY)}function OT(e,t){return PT(o3(e.getBoundingClientRect(),t))}function l3(e,t,n){const r=OT(e,n),{scroll:i}=t;return i&&(uo(r.x,i.offset.x),uo(r.y,i.offset.y)),r}const u3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c3=na.length;function d3(e,t,n){let r="",i=!0;for(let o=0;o<c3;o++){const a=na[o],l=e[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const c=vT(l,hy[a]);if(!u){i=!1;const d=u3[a]||a;r+=`${d}(${c}) `}n&&(t[a]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function vy(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,l=!1;for(const u in t){const c=t[u];if(ra.has(u)){a=!0;continue}else if(WE(u)){i[u]=c;continue}else{const d=vT(c,hy[u]);u.startsWith("origin")?(l=!0,o[u]=d):r[u]=d}}if(t.transform||(a||n?r.transform=d3(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:c="50%",originZ:d=0}=o;r.transformOrigin=`${u} ${c} ${d}`}}function IT(e,{style:t,vars:n},r,i){const o=e.style;let a;for(a in t)o[a]=t[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function Vw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(J.test(e))e=parseFloat(e);else return e;const n=Vw(e,t.target.x),r=Vw(e,t.target.y);return`${n}% ${r}%`}},f3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Rs.parse(e);if(i.length>5)return r;const o=Rs.createTransformer(e),a=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+a]/=l,i[1+a]/=u;const c=De(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}},xm={borderRadius:{...xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomLeftRadius:xa,borderBottomRightRadius:xa,boxShadow:f3};function jT(e,{layout:t,layoutId:n}){return ra.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xm[e]||e==="opacity")}function wy(e,t,n){var a;const r=e.style,i=t==null?void 0:t.style,o={};if(!r)return o;for(const l in r)(ft(r[l])||i&&ft(i[l])||jT(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(o[l]=r[l]);return o}function h3(e){return window.getComputedStyle(e)}class p3 extends CT{constructor(){super(...arguments),this.type="html",this.renderInstance=IT}readValueFromInstance(t,n){var r;if(ra.has(n))return(r=this.projection)!=null&&r.isProjecting?lm(n):V$(t,n);{const i=h3(t),o=(WE(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return OT(t,n)}build(t,n,r){vy(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wy(t,n,r)}}const m3={offset:"stroke-dashoffset",array:"stroke-dasharray"},g3={offset:"strokeDashoffset",array:"strokeDasharray"};function y3(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?m3:g3;e[o.offset]=`${-r}`,e[o.array]=`${t} ${n}`}const v3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function NT(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...l},u,c,d){if(vy(e,l,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const p of v3)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&y3(f,i,o,a,!1)}const DT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),MT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function w3(e,t,n,r){IT(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(DT.has(i)?i:fy(i),t.attrs[i])}function LT(e,t,n){const r=wy(e,t,n);for(const i in e)if(ft(e[i])||ft(t[i])){const o=na.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}class b3 extends CT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ra.has(n)){const r=gT(n);return r&&r.default||0}return n=DT.has(n)?n:fy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return LT(t,n,r)}build(t,n,r){NT(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){w3(t,n,r,i)}mount(t){this.isSVGTag=MT(t.tagName),super.mount(t)}}const x3=yy.length;function $T(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$T(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<x3;n++){const r=yy[n],i=e.props[r];(Pl(i)||i===!1)&&(t[r]=i)}return t}function FT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const S3=[...gy].reverse(),_3=gy.length;function E3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>OF(e,n,r)))}function T3(e){let t=E3(e),n=Bw(),r=!0;const i=u=>(c,d)=>{var h;const f=xo(e,d,u==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:w,...g}=f;c={...c,...g,...w}}return c};function o(u){t=u(e)}function a(u){const{props:c}=e,d=$T(e.parent)||{},f=[],h=new Set;let p={},w=1/0;for(let x=0;x<_3;x++){const y=S3[x],v=n[y],b=c[y]!==void 0?c[y]:d[y],_=Pl(b),E=y===u?v.isActive:null;E===!1&&(w=x);let k=b===d[y]&&b!==c[y]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...p},!v.isActive&&E===null||!b&&!v.prevProp||Fd(b)||typeof b=="boolean")continue;const C=k3(v.prevProp,b);let T=C||y===u&&v.isActive&&!k&&_||x>w&&_,O=!1;const A=Array.isArray(b)?b:[b];let D=A.reduce(i(y),{});E===!1&&(D={});const{prevResolvedValues:M={}}=v,K={...M,...D},F=H=>{T=!0,h.has(H)&&(O=!0,h.delete(H)),v.needsAnimating[H]=!0;const I=e.getValue(H);I&&(I.liveStyle=!1)};for(const H in K){const I=D[H],L=M[H];if(p.hasOwnProperty(H))continue;let B=!1;pm(I)&&pm(L)?B=!FT(I,L):B=I!==L,B?I!=null?F(H):h.add(H):I!==void 0&&h.has(H)?F(H):v.protectedKeys[H]=!0}v.prevProp=b,v.prevResolvedValues=D,v.isActive&&(p={...p,...D}),r&&e.blockInitialAnimation&&(T=!1);const G=k&&C;T&&(!G||O)&&f.push(...A.map(H=>{const I={type:y};if(typeof H=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,B=xo(L,H);if(L.enteringChildren&&B){const{delayChildren:ne}=B.transition||{};I.delay=lT(L.enteringChildren,e,ne)}}return{animation:H,options:I}}))}if(h.size){const x={};if(typeof c.initial!="boolean"){const y=xo(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}h.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=v??null}),f.push({animation:x})}let g=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function l(u,c){var f;if(n[u].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(u,c)}),n[u].isActive=c;const d=a(u);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Bw()}}}function k3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FT(t,e):!1}function Hs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bw(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}function zw(e,t){e.min=t.min,e.max=t.max}function En(e,t){zw(e.x,t.x),zw(e.y,t.y)}function Ww(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const UT=1e-4,C3=1-UT,P3=1+UT,VT=.01,R3=0-VT,A3=0+VT;function Pt(e){return e.max-e.min}function O3(e,t,n){return Math.abs(e-t)<=n}function Hw(e,t,n,r=.5){e.origin=r,e.originPoint=De(t.min,t.max,e.origin),e.scale=Pt(n)/Pt(t),e.translate=De(n.min,n.max,e.origin)-e.originPoint,(e.scale>=C3&&e.scale<=P3||isNaN(e.scale))&&(e.scale=1),(e.translate>=R3&&e.translate<=A3||isNaN(e.translate))&&(e.translate=0)}function Ka(e,t,n,r){Hw(e.x,t.x,n.x,r?r.originX:void 0),Hw(e.y,t.y,n.y,r?r.originY:void 0)}function Kw(e,t,n){e.min=n.min+t.min,e.max=e.min+Pt(t)}function I3(e,t,n){Kw(e.x,t.x,n.x),Kw(e.y,t.y,n.y)}function qw(e,t,n){e.min=t.min-n.min,e.max=e.min+Pt(t)}function td(e,t,n){qw(e.x,t.x,n.x),qw(e.y,t.y,n.y)}function Gw(e,t,n,r,i){return e-=t,e=ed(e,1/n,r),i!==void 0&&(e=ed(e,1/i,r)),e}function j3(e,t=0,n=1,r=.5,i,o=e,a=e){if(rr.test(t)&&(t=parseFloat(t),t=De(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=De(o.min,o.max,r);e===o&&(l-=t),e.min=Gw(e.min,t,n,l,i),e.max=Gw(e.max,t,n,l,i)}function Yw(e,t,[n,r,i],o,a){j3(e,t[n],t[r],t[i],t.scale,o,a)}const N3=["x","scaleX","originX"],D3=["y","scaleY","originY"];function Qw(e,t,n,r){Yw(e.x,t,N3,n?n.x:void 0,r?r.x:void 0),Yw(e.y,t,D3,n?n.y:void 0,r?r.y:void 0)}function Xw(e){return e.translate===0&&e.scale===1}function BT(e){return Xw(e.x)&&Xw(e.y)}function Jw(e,t){return e.min===t.min&&e.max===t.max}function M3(e,t){return Jw(e.x,t.x)&&Jw(e.y,t.y)}function Zw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zT(e,t){return Zw(e.x,t.x)&&Zw(e.y,t.y)}function eb(e){return Pt(e.x)/Pt(e.y)}function tb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function sn(e){return[e("x"),e("y")]}function L3(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const WT=["TopLeft","TopRight","BottomLeft","BottomRight"],$3=WT.length,nb=e=>typeof e=="string"?parseFloat(e):e,rb=e=>typeof e=="number"||J.test(e);function F3(e,t,n,r,i,o){i?(e.opacity=De(0,n.opacity??1,U3(r)),e.opacityExit=De(t.opacity??1,0,V3(r))):o&&(e.opacity=De(t.opacity??1,n.opacity??1,r));for(let a=0;a<$3;a++){const l=`border${WT[a]}Radius`;let u=sb(t,l),c=sb(n,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||rb(u)===rb(c)?(e[l]=Math.max(De(nb(u),nb(c),r),0),(rr.test(c)||rr.test(u))&&(e[l]+="%")):e[l]=c}(t.rotate||n.rotate)&&(e.rotate=De(t.rotate||0,n.rotate||0,r))}function sb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U3=HT(0,.5,$E),V3=HT(.5,.95,hn);function HT(e,t,n){return r=>r<e?0:r>t?1:n(Tl(e,t,r))}function B3(e,t,n){const r=ft(e)?e:ki(e);return r.start(cy("",r,t,n)),r.animation}function Rl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const z3=(e,t)=>e.depth-t.depth;class W3{constructor(){this.children=[],this.isDirty=!1}add(t){Gg(this.children,t),this.isDirty=!0}remove(t){Yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z3),this.isDirty=!1,this.children.forEach(t)}}function H3(e,t){const n=Ct.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(jr(r),e(o-t))};return Pe.setup(r,!0),()=>jr(r)}function uc(e){return ft(e)?e.get():e}class K3{constructor(){this.members=[]}add(t){Gg(this.members,t),t.scheduleRender()}remove(t){if(Yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},oh=["","X","Y","Z"],q3=1e3;let G3=0;function ah(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KT(r)}function qT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=G3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X3),this.nodes.forEach(t5),this.nodes.forEach(n5),this.nodes.forEach(J3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new W3)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Xg),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=_T(a)&&!YF(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{f=window.innerWidth}),e(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=H3(h,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(ab)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||a5,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!zT(this.targetLayout,p),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...uy(w,"layout"),onPlay:g,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||ab(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ib);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ob);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(e5),this.nodes.forEach(Y3),this.nodes.forEach(Q3)):this.nodes.forEach(ob),this.clearAllSnapshots();const l=Ct.now();dt.delta=ir(0,1e3/60,l-dt.timestamp),dt.timestamp=l,dt.isProcessing=!0,Jf.update.process(dt),Jf.preRender.process(dt),Jf.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z3),this.sharedNodes.forEach(s5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!BT(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ys(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),l5(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Ze();const l=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(u5))){const{scroll:d}=this.root;d&&(uo(l.x,d.offset.x),uo(l.y,d.offset.y))}return l}removeElementScroll(a){var u;const l=Ze();if(En(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&En(l,a),uo(l.x,f.offset.x),uo(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const u=Ze();En(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&co(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ys(d.latestValues)&&co(u,d.latestValues)}return Ys(this.latestValues)&&co(u,this.latestValues),u}removeTransform(a){const l=Ze();En(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ys(c.latestValues))continue;wm(c.latestValues)&&c.updateSnapshot();const d=Ze(),f=c.measurePageBox();En(d,f),Qw(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ys(this.latestValues)&&Qw(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=dt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),AT(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wm(this.parent.latestValues)||RT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),td(this.relativeTargetOrigin,l,u),En(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;En(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;a3(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ze());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ww(this.prevProjectionDelta.x,this.projectionDelta.x),Ww(this.prevProjectionDelta.y,this.projectionDelta.y)),Ka(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!tb(this.projectionDelta.x,this.prevProjectionDelta.x)||!tb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(a,l=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ze(),p=u?u.source:void 0,w=this.layout?this.layout.source:void 0,g=p!==w,x=this.getStack(),y=!x||x.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(o5));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const E=_/1e3;lb(f.x,a.x,E),lb(f.y,a.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(td(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i5(this.relativeTarget,this.relativeTargetOrigin,h,E),b&&M3(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ze()),En(b,this.relativeTarget)),g&&(this.animationValues=d,F3(d,c,this.latestValues,E,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{cc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ki(0)),this.currentAnimation=B3(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:d}=a;if(!(!l||!u||!c)){if(this!==a&&this.layout&&c&&GT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ze();const f=Pt(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const h=Pt(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+h}En(l,u),co(l,d),Ka(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new K3),this.sharedNodes.get(a).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const c={};u.z&&ah("z",a,c,this.animationValues);for(let d=0;d<oh.length;d++)ah(`rotate${oh[d]}`,a,c,this.animationValues),ah(`skew${oh[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=uc(l==null?void 0:l.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=uc(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=L3(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),a.transform=f;const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in xm){if(d[w]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:y}=xm[w],v=f==="none"?d[w]:g(d[w],c);if(x){const b=x.length;for(let _=0;_<b;_++)a[x[_]]=v}else y?this.options.visualElement.renderState.vars[w]=v:a[w]=v}this.options.layoutId&&(a.pointerEvents=c===this?uc(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ib),this.root.sharedNodes.clear()}}}function Y3(e){e.updateLayout()}function Q3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?sn(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],p=Pt(h);h.min=r[f].min,h.max=h.min+p}):GT(o,t.layoutBox,r)&&sn(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],p=Pt(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=lo();Ka(l,r,t.layoutBox);const u=lo();a?Ka(u,e.applyTransform(i,!0),t.measuredBox):Ka(u,r,t.layoutBox);const c=!BT(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const w=Ze();td(w,t.layoutBox,h.layoutBox);const g=Ze();td(g,r,p.layoutBox),zT(w,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function X3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Z3(e){e.clearSnapshot()}function ib(e){e.clearMeasurements()}function ob(e){e.isLayoutDirty=!1}function e5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ab(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t5(e){e.resolveTargetDelta()}function n5(e){e.calcProjection()}function r5(e){e.resetSkewAndRotation()}function s5(e){e.removeLeadSnapshot()}function lb(e,t,n){e.translate=De(t.translate,0,n),e.scale=De(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ub(e,t,n,r){e.min=De(t.min,n.min,r),e.max=De(t.max,n.max,r)}function i5(e,t,n,r){ub(e.x,t.x,n.x,r),ub(e.y,t.y,n.y,r)}function o5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a5={duration:.45,ease:[.4,0,.1,1]},cb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),db=cb("applewebkit/")&&!cb("chrome/")?Math.round:hn;function fb(e){e.min=db(e.min),e.max=db(e.max)}function l5(e){fb(e.x),fb(e.y)}function GT(e,t,n){return e==="position"||e==="preserve-aspect"&&!O3(eb(t),eb(n),.2)}function u5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const c5=qT({attachResizeListener:(e,t)=>Rl(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),lh={current:void 0},YT=qT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lh.current){const e=new c5({});e.mount(window),e.setOptions({layoutScroll:!0}),lh.current=e}return lh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),by=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function d5(e=!0){const t=m.useContext(qg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=m.useId();m.useEffect(()=>{if(e)return i(o)},[e]);const a=m.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,a]:[!0]}const QT=m.createContext({strict:!1}),hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let pb=!1;function f5(){if(pb)return;const e={};for(const t in hb)e[t]={isEnabled:n=>hb[t].some(r=>!!n[r])};kT(e),pb=!0}function XT(){return f5(),r3()}function h5(e){const t=XT();for(const n in e)t[n]={...t[n],...e[n]};kT(t)}const p5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||p5.has(e)}let JT=e=>!nd(e);function m5(e){typeof e=="function"&&(JT=t=>t.startsWith("on")?!nd(t):e(t))}try{m5(require("@emotion/is-prop-valid").default)}catch{}function g5(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(JT(i)||n===!0&&nd(i)||!t&&!nd(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Vd=m.createContext({});function y5(e,t){if(Ud(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pl(n)?n:void 0,animate:Pl(r)?r:void 0}}return e.inherit!==!1?t:{}}function v5(e){const{initial:t,animate:n}=y5(e,m.useContext(Vd));return m.useMemo(()=>({initial:t,animate:n}),[mb(t),mb(n)])}function mb(e){return Array.isArray(e)?e.join(" "):e}const xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZT(e,t,n){for(const r in t)!ft(t[r])&&!jT(r,n)&&(e[r]=t[r])}function w5({transformTemplate:e},t){return m.useMemo(()=>{const n=xy();return vy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b5(e,t){const n=e.style||{},r={};return ZT(r,n,e),Object.assign(r,w5(e,t)),r}function x5(e,t){const n={},r=b5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ek=()=>({...xy(),attrs:{}});function S5(e,t,n,r){const i=m.useMemo(()=>{const o=ek();return NT(o,t,MT(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ZT(o,e.style,e),i.style={...o,...i.style}}return i}const _5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sy(e){return typeof e!="string"||e.includes("-")?!1:!!(_5.indexOf(e)>-1||/[A-Z]/u.test(e))}function E5(e,t,n,{latestValues:r},i,o=!1,a){const u=(a??Sy(e)?S5:x5)(t,r,i,e),c=g5(t,typeof e=="string",o),d=e!==m.Fragment?{...c,...u,ref:n}:{},{children:f}=t,h=m.useMemo(()=>ft(f)?f.get():f,[f]);return m.createElement(e,{...d,children:h})}function T5({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:k5(n,r,i,e),renderState:t()}}function k5(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=uc(o[h]);let{initial:a,animate:l}=e;const u=Ud(e),c=TT(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Fd(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const w=dy(e,h[p]);if(w){const{transitionEnd:g,transition:x,...y}=w;for(const v in y){let b=y[v];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const tk=e=>(t,n)=>{const r=m.useContext(Vd),i=m.useContext(qg),o=()=>T5(e,t,r,i);return n?o():Ti(o)},C5=tk({scrapeMotionValuesFromProps:wy,createRenderState:xy}),P5=tk({scrapeMotionValuesFromProps:LT,createRenderState:ek}),R5=Symbol.for("motionComponentSymbol");function A5(e,t,n){const r=m.useRef(n);m.useInsertionEffect(()=>{r.current=n});const i=m.useRef(null);return m.useCallback(o=>{var l;o&&((l=e.onMount)==null||l.call(e,o)),t&&(o?t.mount(o):t.unmount());const a=r.current;if(typeof a=="function")if(o){const u=a(o);typeof u=="function"&&(i.current=u)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[t])}const nk=m.createContext({});function Ra(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O5(e,t,n,r,i,o){var x,y;const{visualElement:a}=m.useContext(Vd),l=m.useContext(QT),u=m.useContext(qg),c=m.useContext(by).reducedMotion,d=m.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c,isSVG:o}));const f=d.current,h=m.useContext(nk);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&I5(d.current,n,i,h);const p=m.useRef(!1);m.useInsertionEffect(()=>{f&&p.current&&f.update(n,u)});const w=n[dT],g=m.useRef(!!w&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,w))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,w)));return CE(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),g.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,w)}),g.current=!1),f.enteringChildren=void 0)}),f}function I5(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rk(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&Ra(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:c})}function rk(e){if(e)return e.options.allowProjection!==!1?e.projection:rk(e.parent)}function uh(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&h5(r);const o=n?n==="svg":Sy(e),a=o?P5:C5;function l(c,d){let f;const h={...m.useContext(by),...c,layoutId:j5(c)},{isStatic:p}=h,w=v5(c),g=a(c,p);if(!p&&kE){N5();const x=D5(h);f=x.MeasureLayout,w.visualElement=O5(e,g,h,i,x.ProjectionNode,o)}return S.jsxs(Vd.Provider,{value:w,children:[f&&w.visualElement?S.jsx(f,{visualElement:w.visualElement,...h}):null,E5(e,c,A5(g,w.visualElement,d),g,p,t,o)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=m.forwardRef(l);return u[R5]=e,u}function j5({layoutId:e}){const t=m.useContext(TE).id;return t&&e!==void 0?t+"-"+e:e}function N5(e,t){m.useContext(QT).strict}function D5(e){const t=XT(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function M5(e,t){if(typeof Proxy>"u")return uh;const n=new Map,r=(o,a)=>uh(o,a,e,t),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,uh(a,void 0,e,t)),n.get(a))})}const L5=(e,t)=>t.isSVG??Sy(e)?new b3(t):new p3(t,{allowProjection:e!==m.Fragment});class $5 extends Ms{constructor(t){super(t),t.animationState||(t.animationState=T3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let F5=0;class U5 extends Ms{constructor(){super(...arguments),this.id=F5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const V5={animation:{Feature:$5},exit:{Feature:U5}};function Ql(e){return{point:{x:e.pageX,y:e.pageY}}}const B5=e=>t=>my(t)&&e(t,Ql(t));function qa(e,t,n,r){return Rl(e,t,B5(n),r)}const sk=({current:e})=>e?e.ownerDocument.defaultView:null,gb=(e,t)=>Math.abs(e-t);function z5(e,t){const n=gb(e.x,t.x),r=gb(e.y,t.y);return Math.sqrt(n**2+r**2)}const yb=new Set(["auto","scroll"]);class ik{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=dh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,g=z5(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!g)return;const{point:x}=p,{timestamp:y}=dt;this.history.push({...x,timestamp:y});const{onStart:v,onMove:b}=this.handlers;w||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,w)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ch(w,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(p,w)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=dh(p.type==="pointercancel"?this.lastMoveEventInfo:ch(w,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,v),x&&x(p,v)},!my(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const u=Ql(t),c=ch(u,this.transformPagePoint),{point:d}=c,{timestamp:f}=dt;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,dh(c,this.history)),this.removeListeners=ql(qa(this.contextWindow,"pointermove",this.handlePointerMove),qa(this.contextWindow,"pointerup",this.handlePointerUp),qa(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(yb.has(r.overflowX)||yb.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),Pe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),jr(this.updatePoint)}}function ch(e,t){return t?{point:t(e.point)}:e}function vb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dh({point:e},t){return{point:e,delta:vb(e,ok(t)),offset:vb(e,W5(t)),velocity:H5(t,.1)}}function W5(e){return e[0]}function ok(e){return e[e.length-1]}function H5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ok(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>nr(t)));)n--;if(!r)return{x:0,y:0};const o=dn(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function K5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?De(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?De(n,e,r.max):Math.min(e,n)),e}function wb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function q5(e,{top:t,left:n,bottom:r,right:i}){return{x:wb(e.x,n,i),y:wb(e.y,t,r)}}function bb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function G5(e,t){return{x:bb(e.x,t.x),y:bb(e.y,t.y)}}function Y5(e,t){let n=.5;const r=Pt(e),i=Pt(t);return i>r?n=Tl(t.min,t.max-r,e.min):r>i&&(n=Tl(e.min,e.max-i,t.min)),ir(0,1,n)}function Q5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sm=.35;function X5(e=Sm){return e===!1?e=0:e===!0&&(e=Sm),{x:xb(e,"left","right"),y:xb(e,"top","bottom")}}function xb(e,t,n){return{min:Sb(e,t),max:Sb(e,n)}}function Sb(e,t){return typeof e=="number"?e:e[t]||0}const J5=new WeakMap;class Z5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{n?(this.stopAnimation(),this.snapToCursor(Ql(f).point)):this.pauseAnimation()},a=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:w,onDragStart:g}=this.getProps();if(p&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WF(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sn(y=>{let v=this.getAxisMotionValue(y).get()||0;if(rr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(v=Pt(_)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&Pe.postRender(()=>g(f,h)),mm(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:g,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(w&&this.currentDirection===null){this.currentDirection=eU(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),x&&x(f,h)},u=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>sn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new ik(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:sk(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Pe.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Du(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=K5(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Ra(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=q5(r.layoutBox,t):this.constraints=!1,this.elastic=X5(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Q5(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ra(t))return!1;const r=t.current;Ps(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=l3(r,i.root,this.visualElement.getTransformPagePoint());let a=G5(i.layout.layoutBox,o);if(n){const l=n(i3(a));this.hasMutatedConstraints=!!l,l&&(a=PT(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=sn(d=>{if(!Du(d,n,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return mm(this.visualElement,t),r.start(cy(t,r,0,n,this.visualElement,!1))}stopAnimation(){sn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sn(n=>{const{drag:r}=this.getProps();if(!Du(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],u=o.get()||0;o.set(t[n]-De(a,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ra(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};sn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=Y5({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sn(a=>{if(!Du(a,t,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(De(u,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;J5.set(this.visualElement,this);const t=this.visualElement.current,n=qa(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps(),f=u.target,h=f!==t&&ST(f);c&&d&&!h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ra(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pe.read(r);const a=Rl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(sn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=Sm,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Du(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tU extends Ms{constructor(t){super(t),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new Z5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const _b=e=>(t,n)=>{e&&Pe.postRender(()=>e(t,n))};class nU extends Ms{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(t){this.session=new ik(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:_b(t),onStart:_b(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Pe.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=qa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fh=!1;class rU extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),fh&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,fh=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Pe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),py.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;fh=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ak(e){const[t,n]=d5(),r=m.useContext(TE);return S.jsx(rU,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(nk),isPresent:t,safeToRemove:n})}const sU={pan:{Feature:nU},drag:{Feature:tU,ProjectionNode:YT,MeasureLayout:ak}};function Eb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Pe.postRender(()=>o(t,Ql(t)))}class iU extends Ms{mount(){const{current:t}=this.node;t&&(this.unmount=HF(t,(n,r)=>(Eb(this.node,r,"Start"),i=>Eb(this.node,i,"End"))))}unmount(){}}class oU extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(Rl(this.node.current,"focus",()=>this.onFocus()),Rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Pe.postRender(()=>o(t,Ql(t)))}class aU extends Ms{mount(){const{current:t}=this.node;t&&(this.unmount=GF(t,(n,r)=>(Tb(this.node,r,"Start"),(i,{success:o})=>Tb(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _m=new WeakMap,hh=new WeakMap,lU=e=>{const t=_m.get(e.target);t&&t(e)},uU=e=>{e.forEach(lU)};function cU({root:e,...t}){const n=e||document;hh.has(n)||hh.set(n,{});const r=hh.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(uU,{root:e,...t})),r[i]}function dU(e,t,n){const r=cU(t);return _m.set(e,n),r.observe(e),()=>{_m.delete(e),r.unobserve(e)}}const fU={some:0,all:1};class hU extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:fU[i]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(u)};return dU(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pU(t,n))&&this.startObserver()}unmount(){}}function pU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mU={inView:{Feature:hU},tap:{Feature:aU},focus:{Feature:oU},hover:{Feature:iU}},gU={layout:{ProjectionNode:YT,MeasureLayout:ak}},yU={...V5,...mU,...sU,...gU},Ci=M5(yU,L5);function lk(e){const t=Ti(()=>ki(e)),{isStatic:n}=m.useContext(by);if(n){const[,r]=m.useState(e);m.useEffect(()=>t.on("change",r),[])}return t}function uk(e,t){const n=lk(t()),r=()=>n.set(t());return r(),CE(()=>{const i=()=>Pe.preRender(r,!1,!0),o=e.map(a=>a.on("change",i));return()=>{o.forEach(a=>a()),jr(r)}}),n}function vU(e){Ha.current=[],e();const t=uk(Ha.current,e);return Ha.current=void 0,t}function ck(e,t,n,r){if(typeof e=="function")return vU(e);if(n!==void 0&&!Array.isArray(n)&&typeof t!="function")return wU(e,t,n,r);const a=typeof t=="function"?t:QF(t,n,r);return Array.isArray(e)?kb(e,a):kb([e],([l])=>a(l))}function kb(e,t){const n=Ti(()=>[]);return uk(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function wU(e,t,n,r){const i=Ti(()=>Object.keys(n)),o=Ti(()=>({}));for(const a of i)o[a]=ck(e,t,n[a],r);return o}const dk=m.createContext(null);function bU(e,t,n,r){if(!r)return e;const i=e.findIndex(d=>d.value===t);if(i===-1)return e;const o=r>0?1:-1,a=e[i+o];if(!a)return e;const l=e[i],u=a.layout,c=De(u.min,u.max,.5);return o===1&&l.layout.max+n>c||o===-1&&l.layout.min+n<c?UL(e,i,i+o):e}function xU({children:e,as:t="ul",axis:n="y",onReorder:r,values:i,...o},a){const l=Ti(()=>Ci[t]),u=[],c=m.useRef(!1),d=m.useRef(null);Ps(!!i,"Reorder.Group must be provided a values prop","reorder-values");const f={axis:n,groupRef:d,registerItem:(w,g)=>{const x=u.findIndex(y=>w===y.value);x!==-1?u[x].layout=g[n]:u.push({value:w,layout:g[n]}),u.sort(EU)},updateOrder:(w,g,x)=>{if(c.current)return;const y=bU(u,w,g,x);u!==y&&(c.current=!0,r(y.map(_U).filter(v=>i.indexOf(v)!==-1)))}};m.useEffect(()=>{c.current=!1});const h=w=>{d.current=w,typeof a=="function"?a(w):a&&(a.current=w)},p={overflowAnchor:"none",...o.style};return S.jsx(l,{...o,style:p,ref:h,ignoreStrict:!0,children:S.jsx(dk.Provider,{value:f,children:e})})}const SU=m.forwardRef(xU);function _U(e){return e.value}function EU(e,t){return e.layout.min-t.layout.min}const Mu=50,Cb=25,TU=new Set(["auto","scroll"]),Ga=new WeakMap,Ya=new WeakMap;let Aa=null;function kU(){if(Aa){const e=Em(Aa,"y");e&&(Ya.delete(e),Ga.delete(e));const t=Em(Aa,"x");t&&t!==e&&(Ya.delete(t),Ga.delete(t)),Aa=null}}function CU(e,t){const n=getComputedStyle(e),r=t==="x"?n.overflowX:n.overflowY;return TU.has(r)}function Em(e,t){let n=e==null?void 0:e.parentElement;for(;n;){if(CU(n,t))return n;n=n.parentElement}return null}function PU(e,t,n){const r=t.getBoundingClientRect(),i=n==="x"?r.left:r.top,o=n==="x"?r.right:r.bottom,a=e-i,l=o-e;if(a<Mu){const u=1-a/Mu;return{amount:-Cb*u*u,edge:"start"}}else if(l<Mu){const u=1-l/Mu;return{amount:Cb*u*u,edge:"end"}}return{amount:0,edge:null}}function RU(e,t,n,r){if(!e)return;Aa=e;const i=Em(e,n);if(!i)return;const o=t-(n==="x"?window.scrollX:window.scrollY),{amount:a,edge:l}=PU(o,i,n);if(l===null){Ya.delete(i),Ga.delete(i);return}if(Ya.get(i)!==l){if(!(l==="start"&&r<0||l==="end"&&r>0))return;Ya.set(i,l);const d=n==="x"?i.scrollWidth-i.clientWidth:i.scrollHeight-i.clientHeight;Ga.set(i,d)}if(a>0){const c=Ga.get(i);if((n==="x"?i.scrollLeft:i.scrollTop)>=c)return}n==="x"?i.scrollLeft+=a:i.scrollTop+=a}function Pb(e,t=0){return ft(e)?e:lk(t)}function AU({children:e,style:t={},value:n,as:r="li",onDrag:i,onDragEnd:o,layout:a=!0,...l},u){const c=Ti(()=>Ci[r]),d=m.useContext(dk),f={x:Pb(t.x),y:Pb(t.y)},h=ck([f.x,f.y],([y,v])=>y||v?1:"unset");Ps(!!d,"Reorder.Item must be a child of Reorder.Group","reorder-item-child");const{axis:p,registerItem:w,updateOrder:g,groupRef:x}=d;return S.jsx(c,{drag:p,...l,dragSnapToOrigin:!0,style:{...t,x:f.x,y:f.y,zIndex:h},layout:a,onDrag:(y,v)=>{const{velocity:b,point:_}=v,E=f[p].get();g(n,E,b[p]),RU(x.current,_[p],p,b[p]),i&&i(y,v)},onDragEnd:(y,v)=>{kU(),o&&o(y,v)},onLayoutMeasure:y=>{w(n,y)},ref:u,ignoreStrict:!0,children:e})}const OU=m.forwardRef(AU);let Lu=null,ph=!1;const IU=()=>ph?Promise.resolve():Lu||(Lu=new Promise(e=>{if(window.YT&&window.YT.Player){ph=!0,e();return}if(window.onYouTubeIframeAPIReady=()=>{ph=!0,e()},document.querySelector('script[src="https://www.youtube.com/iframe_api"]'))return;const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",document.body.appendChild(n)}),Lu);function jU({providerTrackId:e,autoplay:t=!0}){const{provider:n,isMuted:r,registerProviderControls:i,updatePlaybackState:o,clearSeek:a,seekToSec:l}=Kl(),u=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(r),h=m.useRef(t),p=m.useRef(null),w=m.useRef(null),g=m.useRef(!1),x=m.useRef(null);m.useEffect(()=>{n!=="youtube"&&(w.current=null,p.current&&(window.clearTimeout(p.current),p.current=null))},[n]);const y=(v,b=!1)=>{var _,E,k;return w.current=v,!((_=d.current)!=null&&_.seekTo)||!g.current?!1:(p.current&&(window.clearTimeout(p.current),p.current=null),d.current.seekTo(v,!0),b&&((k=(E=d.current).playVideo)==null||k.call(E)),o({positionMs:v*1e3}),w.current=null,!0)};return m.useEffect(()=>{f.current=r},[r]),m.useEffect(()=>{h.current=t},[t]),m.useEffect(()=>{if(n!=="youtube"||!e)return;let v=!1;return(async()=>{var C;if(await IU(),v||!window.YT||!c.current)return;g.current=!1;const _=T=>{var O,A,D;if(h.current&&((O=T.playVideo)==null||O.call(T)),f.current){(A=T.mute)==null||A.call(T);return}(D=T.setVolume)==null||D.call(T,100),window.setTimeout(()=>{var M,K,F,G,U,H;(M=T.unMute)==null||M.call(T),(K=T.setVolume)==null||K.call(T,100),((F=T.getPlayerState)==null?void 0:F.call(T))!==((U=(G=window.YT)==null?void 0:G.PlayerState)==null?void 0:U.PLAYING)&&((H=T.playVideo)==null||H.call(T))},200),window.setTimeout(()=>{var M,K;(M=T.unMute)==null||M.call(T),(K=T.setVolume)==null||K.call(T,100)},650)},E=()=>{if(x.current!==null)return;const T=()=>{var O,A,D,M,K,F;if(d.current){const G=(A=(O=d.current).getDuration)==null?void 0:A.call(O),U=(M=(D=d.current).getCurrentTime)==null?void 0:M.call(D);Number.isFinite(U)&&o({positionMs:U*1e3,durationMs:Number.isFinite(G)?G*1e3:0,isMuted:((F=(K=d.current).isMuted)==null?void 0:F.call(K))??f.current})}x.current=requestAnimationFrame(T)};x.current=requestAnimationFrame(T)},k=()=>{x.current!==null&&(cancelAnimationFrame(x.current),x.current=null)};if((C=d.current)!=null&&C.loadVideoById){d.current.loadVideoById(e,0),_(d.current);return}d.current=new window.YT.Player(c.current,{videoId:e,playerVars:{autoplay:h.current?1:0,mute:0,controls:0,modestbranding:1,rel:0,playsinline:1,enablejsapi:1,origin:window.location.origin},events:{onReady:T=>{var A,D;g.current=!0,_(T.target);const O=((D=(A=T.target).getDuration)==null?void 0:D.call(A))*1e3;Number.isFinite(O)&&o({durationMs:O}),w.current!==null&&y(w.current,!0)},onStateChange:T=>{var K,F,G;const O=(K=window.YT)==null?void 0:K.PlayerState,A=T.data===(O==null?void 0:O.PLAYING),D=T.target.getCurrentTime()*1e3,M=T.target.getDuration()*1e3;o({isPlaying:A,positionMs:D,durationMs:Number.isFinite(M)?M:0}),A&&!f.current&&((G=(F=T.target).unMute)==null||G.call(F)),A?E():k()}}}),i("youtube",{play:async T=>{d.current&&(typeof T=="number"?y(T,!0)||(w.current=T):_(d.current))},pause:async()=>{var T,O;return(O=(T=d.current)==null?void 0:T.pauseVideo)==null?void 0:O.call(T)},seekTo:async T=>{y(T,!0)||(w.current=T)},setVolume:async T=>{var O,A;return(A=(O=d.current)==null?void 0:O.setVolume)==null?void 0:A.call(O,Math.round(T*100))},setMute:async T=>{var O,A,D,M;f.current=T,T?(A=(O=d.current)==null?void 0:O.mute)==null||A.call(O):(M=(D=d.current)==null?void 0:D.unMute)==null||M.call(D)},teardown:async()=>{var T,O,A,D,M,K;try{(O=(T=d.current)==null?void 0:T.stopVideo)==null||O.call(T),(D=(A=d.current)==null?void 0:A.mute)==null||D.call(A),(K=(M=d.current)==null?void 0:M.destroy)==null||K.call(M)}catch(F){console.warn("YouTube teardown failed",F)}c.current&&c.current.replaceChildren()}})})(),()=>{var _,E,k,C,T,O;v=!0,x.current!==null&&(cancelAnimationFrame(x.current),x.current=null),p.current&&(window.clearTimeout(p.current),p.current=null),w.current=null;try{(E=(_=d.current)==null?void 0:_.stopVideo)==null||E.call(_),(C=(k=d.current)==null?void 0:k.mute)==null||C.call(k),(O=(T=d.current)==null?void 0:T.destroy)==null||O.call(T)}catch(A){console.warn("YouTube destroy failed",A)}c.current&&c.current.replaceChildren(),d.current=null}},[n,e,i,o]),m.useEffect(()=>{if(n!=="youtube"||l==null)return;if(w.current=l,y(l,!0)){a();return}p.current&&window.clearTimeout(p.current);const v=[120,300,600];let b=0;const _=()=>{if(y(l,!0)){a();return}b<v.length&&(p.current=window.setTimeout(_,v[b++]))};p.current=window.setTimeout(_,v[b++])},[n,l,a,o]),m.useEffect(()=>{var v,b,_,E,k,C;n==="youtube"&&d.current&&(r?((b=(v=d.current).mute)==null||b.call(v),o({isMuted:!0})):((E=(_=d.current).unMute)==null||E.call(_),(C=(k=d.current).setVolume)==null||C.call(k,100),o({isMuted:!1})))},[n,r,o]),n!=="youtube"||!e?null:S.jsx("div",{ref:u,className:"w-full max-w-full bg-black overflow-hidden aspect-video rounded-none sm:rounded-xl sm:aspect-video",children:S.jsx("div",{ref:c,className:"w-full h-full"})})}const Rb="https://open.spotify.com/embed/iframe-api/v1";let $u=null;const NU=()=>window.SpotifyIframeApi?Promise.resolve(window.SpotifyIframeApi):$u||($u=new Promise((e,t)=>{const n=setTimeout(()=>t(new Error("Spotify IFrame API load timeout")),1e4);if(window.onSpotifyIframeApiReady=o=>{clearTimeout(n),window.SpotifyIframeApi=o,e(o)},document.querySelector(`script[src="${Rb}"]`))return;const i=document.createElement("script");i.src=Rb,i.async=!0,i.onerror=()=>t(new Error("Failed to load Spotify IFrame API")),document.body.appendChild(i)}),$u);function fk({providerTrackId:e,autoplay:t}){const n=typeof import.meta<"u"&&!1||typeof process<"u"&&!1,{provider:r,autoplaySpotify:i,seekToSec:o,clearSeek:a,volume:l,isMuted:u,registerProviderControls:c,updatePlaybackState:d=()=>{}}=Kl(),f=m.useRef(null),h=m.useRef(null),p=m.useRef(null),w=m.useRef(0),g=m.useRef(l),[x,y]=m.useState(!1),[v,b]=m.useState(null);return m.useEffect(()=>{var _;g.current=l,(_=h.current)!=null&&_.setVolume&&h.current.setVolume(u?0:l)},[l,u]),m.useEffect(()=>{r!=="spotify"||!e||(b(null),y(!1),p.current=e,w.current=0,d({durationMs:0,isPlaying:t??i??!0}))},[r,e,t,i,d]),m.useEffect(()=>{if(r!=="spotify"||!e)return;let _=!1;return(async()=>{if(n){y(!0);return}try{const k=await NU();if(_)return;const C=f.current;if(!C)return;const T=`spotify:track:${e}`,O=t??i??!0;h.current?(h.current.loadUri&&p.current!==e&&(h.current.loadUri(T),p.current=e),O&&h.current.play()):(C.innerHTML="",k.createController(C,{uri:T,theme:0,width:"100%",height:"100%"},A=>{if(!_){if(h.current=A,p.current=e,y(!0),O)try{A.play()}catch{}A.addListener("ready",()=>{O&&A.play()}),A.addListener("playback_update",D=>{var L;const M=(D==null?void 0:D.data)??D??{},K=typeof M.position=="number"?M.position:0,F=typeof M.duration=="number"?M.duration:void 0,G=M.isPaused??M.paused,U=M.track,H=Array.isArray(U==null?void 0:U.artists)?U.artists.map(B=>B==null?void 0:B.name).filter(Boolean).join(", "):null,I=performance.now();I-w.current>=180&&(w.current=I,d({positionMs:K,durationMs:F,isPlaying:G===void 0?!0:!G,trackTitle:(U==null?void 0:U.name)??null,trackArtist:H,trackAlbum:((L=U==null?void 0:U.album)==null?void 0:L.name)??null}))}),A.addListener("not_ready",()=>{y(!1)}),c("spotify",{play:D=>{typeof D=="number"&&A.seek&&A.seek(D),A.play()},pause:()=>A.pause(),seekTo:D=>{var M;return(M=A.seek)==null?void 0:M.call(A,D)},setVolume:D=>{var M;return(M=A.setVolume)==null?void 0:M.call(A,D)},setMute:D=>{var M;return(M=A.setVolume)==null?void 0:M.call(A,D?0:g.current)},teardown:()=>{var D;return(D=A.destroy)==null?void 0:D.call(A)}})}}))}catch(k){console.error("[Spotify Embed] setup failed",k),b("Spotify embed failed to load.")}})(),()=>{_=!0}},[r,e,t,i,c,n]),m.useEffect(()=>{var _;r!=="spotify"&&((_=h.current)!=null&&_.destroy&&h.current.destroy(),h.current=null,f.current&&(f.current.innerHTML=""),y(!1))},[r]),m.useEffect(()=>{var _;r==="spotify"&&o!=null&&((_=h.current)!=null&&_.seek&&h.current.seek(o),a())},[r,o,a]),m.useEffect(()=>()=>{var _,E;try{(E=(_=h.current)==null?void 0:_.destroy)==null||E.call(_)}catch(k){console.warn("[Spotify Embed] destroy failed",k)}h.current=null,f.current&&(f.current.innerHTML="")},[]),r!=="spotify"||!e?null:S.jsxs("div",{className:"w-full rounded-xl overflow-hidden",children:[v?S.jsx("div",{className:"w-full rounded-xl border border-white/10 bg-black/60 px-4 py-3 text-xs text-white/70",children:v}):S.jsx("div",{ref:f,className:"w-full h-[152px] md:h-[180px] rounded-xl overflow-hidden bg-black/60","aria-label":"Spotify player"}),!x&&!v&&S.jsx("div",{className:"mt-2 text-[11px] text-white/50",children:"Loading Spotify player"})]})}const DU="https://accounts.spotify.com/api/token";async function _y(e){const{data:t,error:n}=await Qe.from("user_providers").select("*").eq("user_id",e).eq("provider","spotify").maybeSingle();return n||!t?null:t}async function Ey(e,t){const n="b1d936a5b2bd4cb199d3ede9a4fa2449";if(!t)return console.warn("Spotify refresh token missing; reconnect required"),null;try{const r=await fetch(DU,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t,client_id:n})});if(!r.ok){const a=await r.json();return console.error("Failed to refresh Spotify token:",a),null}const i=await r.json(),o=new Date(Date.now()+i.expires_in*1e3).toISOString();return await Qe.from("user_providers").update({access_token:i.access_token,expires_at:o,...i.refresh_token&&{refresh_token:i.refresh_token}}).eq("user_id",e).eq("provider","spotify"),i.access_token}catch(r){return console.error("Error refreshing Spotify token:",r),null}}async function Ls(e){const t=await _y(e);if(!t)return null;const n=new Date(t.expires_at),r=new Date,i=5*60*1e3;return n.getTime()-r.getTime()<i?await Ey(e,t.refresh_token):t.access_token}const Ab="https://sdk.scdn.co/spotify-player.js";let Fu=null;function MU(){var e;return typeof window>"u"?Promise.reject(new Error("No window")):(e=window.Spotify)!=null&&e.Player?Promise.resolve():Fu||(Fu=new Promise((t,n)=>{if(document.querySelector(`script[src="${Ab}"]`)){const a=()=>{var l;if((l=window.Spotify)!=null&&l.Player)return t();setTimeout(a,50)};a();return}const i=setTimeout(()=>n(new Error("Spotify Web Playback SDK load timeout")),15e3);window.onSpotifyWebPlaybackSDKReady=()=>{clearTimeout(i),t()};const o=document.createElement("script");o.src=Ab,o.async=!0,o.onerror=()=>n(new Error("Failed to load Spotify Web Playback SDK")),document.body.appendChild(o)}),Fu)}async function Ob(e,t,n){return await fetch(`https://api.spotify.com/v1${t}`,{...n,headers:{...(n==null?void 0:n.headers)??{},Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})}function LU({providerTrackId:e,autoplay:t}){const n=typeof import.meta<"u"&&!1||typeof process<"u"&&!1,{user:r}=en(),{provider:i,autoplaySpotify:o,seekToSec:a,clearSeek:l,volume:u,isMuted:c,registerProviderControls:d,updatePlaybackState:f}=Kl(),[h,p]=m.useState(null),[w,g]=m.useState(!1),x=m.useRef(null),y=m.useRef(null),v=m.useRef(null),b=m.useRef(null),_=m.useRef(u);m.useEffect(()=>{_.current=u},[u]);const E=m.useMemo(()=>t??o??!0,[t,o]),k=m.useMemo(()=>e?`spotify:track:${e}`:null,[e]);return m.useEffect(()=>{i==="spotify"&&d("spotify",{play:async C=>{const T=x.current;T&&(typeof C=="number"&&await T.seek(Math.max(0,C*1e3)),await T.resume())},pause:async()=>{const C=x.current;C&&await C.pause()},seekTo:async C=>{const T=x.current;T&&await T.seek(Math.max(0,C*1e3))},setVolume:async C=>{const T=x.current;T&&await T.setVolume(Math.max(0,Math.min(1,C)))},setMute:async C=>{const T=x.current;T&&await T.setVolume(C?0:Math.max(0,Math.min(1,_.current)))},teardown:async()=>{var C;try{(C=x.current)==null||C.disconnect()}catch{}finally{x.current=null,y.current=null}}})},[i,d]),m.useEffect(()=>{i!=="spotify"||!e||(p(null),g(!1),f({durationMs:0,isPlaying:E}))},[i,e,E,f]),m.useEffect(()=>{if(i!=="spotify"||!e)return;if(!r){p("Sign in to play full Spotify tracks.");return}if(n)return;let C=!1;return(async()=>{var O;try{if(await MU(),C)return;const A=async()=>await Ls(r.id),D=await A();if(!D){p("Spotify connection missing or expired. Reconnect Spotify.");return}if(!x.current){const G=(O=window.Spotify)==null?void 0:O.Player;if(!G)throw new Error("Spotify SDK not available");const U=new G({name:"Clade Player",volume:c?0:_.current,getOAuthToken:async I=>{const L=await A();L&&I(L)}});if(U.addListener("ready",({device_id:I})=>{y.current=I,g(!0)}),U.addListener("not_ready",()=>{g(!1)}),U.addListener("initialization_error",I=>{console.error("[Spotify Web Player] init error",I),p("Spotify player failed to initialize.")}),U.addListener("authentication_error",I=>{console.error("[Spotify Web Player] auth error",I),p("Spotify authentication failed. Reconnect Spotify.")}),U.addListener("account_error",I=>{console.error("[Spotify Web Player] account error",I),p("Spotify Premium is required for full-track playback. Using preview mode.")}),U.addListener("playback_error",I=>{console.error("[Spotify Web Player] playback error",I),p(L=>L??"Spotify playback error. Using preview mode.")}),!await U.connect()){p("Failed to connect Spotify player. Using preview mode.");return}x.current=U}const K=await(async()=>{const G=Date.now();for(;!y.current&&Date.now()-G<8e3;)await new Promise(U=>setTimeout(U,50));return y.current})();if(!K){p("Spotify device not ready. Using preview mode.");return}const F=await Ob(D,"/me/player",{method:"PUT",body:JSON.stringify({device_ids:[K],play:!1})});if(!F.ok&&F.status!==204){const G=await F.json().catch(()=>null);console.warn("[Spotify Web Player] transfer failed",F.status,G)}if(k&&b.current!==e&&(b.current=e,E)){const G=await Ob(D,`/me/player/play?device_id=${encodeURIComponent(K)}`,{method:"PUT",body:JSON.stringify({uris:[k]})});if(!G.ok&&G.status!==204){const U=await G.json().catch(()=>null);console.warn("[Spotify Web Player] play failed",G.status,U),G.status===403&&p("Spotify playback not permitted (403). Using preview mode.")}}v.current==null&&(v.current=window.setInterval(async()=>{var L,B;const G=x.current;if(!G)return;const U=await G.getCurrentState().catch(()=>null);if(!U)return;const H=(L=U.track_window)==null?void 0:L.current_track,I=Array.isArray(H==null?void 0:H.artists)?H.artists.map(ne=>ne==null?void 0:ne.name).filter(Boolean).join(", "):null;f({positionMs:U.position??0,durationMs:U.duration??0,isPlaying:!U.paused,trackTitle:(H==null?void 0:H.name)??null,trackArtist:I,trackAlbum:((B=H==null?void 0:H.album)==null?void 0:B.name)??null})},500))}catch(A){console.error("[Spotify Web Player] setup failed",A),p("Spotify full playback failed to start. Using preview mode.")}})(),()=>{C=!0}},[c,n,i,e,E,k,f,r]),m.useEffect(()=>{if(i!=="spotify"||a==null)return;const C=x.current;C&&C.seek(Math.max(0,a*1e3)),l()},[i,a,l]),m.useEffect(()=>()=>{var C;v.current!=null&&(window.clearInterval(v.current),v.current=null);try{(C=x.current)==null||C.disconnect()}catch{}x.current=null,y.current=null},[]),i!=="spotify"||!e?null:h?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"text-[11px] text-white/70",children:[h,h.includes("403")&&S.jsxs("span",{children:[" ","If your Spotify app is in dev mode, add your Spotify account under Spotify Developer Dashboard  Users and Access, then reconnect."]}),h.toLowerCase().includes("premium")&&S.jsx("span",{children:" Full tracks require Spotify Premium. Guest mode will use the embed preview."})]}),S.jsx(fk,{providerTrackId:e,autoplay:E})]}):S.jsx("div",{className:"w-full",children:!w&&S.jsx("div",{className:"text-[11px] text-white/50",children:"Starting Spotify playback"})})}var mh="focusScope.autoFocusOnMount",gh="focusScope.autoFocusOnUnmount",Ib={bubbles:!1,cancelable:!0},$U="FocusScope",hk=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[l,u]=m.useState(null),c=ot(i),d=ot(o),f=m.useRef(null),h=qe(t,g=>u(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Wr(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Wr(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Wr(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){Nb.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(mh,Ib);l.addEventListener(mh,c),l.dispatchEvent(y),y.defaultPrevented||(FU(WU(pk(l)),{select:!0}),document.activeElement===g&&Wr(l))}return()=>{l.removeEventListener(mh,c),setTimeout(()=>{const y=new CustomEvent(gh,Ib);l.addEventListener(gh,d),l.dispatchEvent(y),y.defaultPrevented||Wr(g??document.body,{select:!0}),l.removeEventListener(gh,d),Nb.remove(p)},0)}}},[l,c,d,p]);const w=m.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[b,_]=UU(v);b&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&Wr(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&Wr(_,{select:!0})):y===v&&g.preventDefault()}},[n,r,p.paused]);return S.jsx(Ee.div,{tabIndex:-1,...a,ref:h,onKeyDown:w})});hk.displayName=$U;function FU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wr(r,{select:t}),document.activeElement!==n)return}function UU(e){const t=pk(e),n=jb(t,e),r=jb(t.reverse(),e);return[n,r]}function pk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jb(e,t){for(const n of e)if(!VU(n,{upTo:t}))return n}function VU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BU(e){return e instanceof HTMLInputElement&&"select"in e}function Wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&BU(e)&&t&&e.select()}}var Nb=zU();function zU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Db(e,t),e.unshift(t)},remove(t){var n;e=Db(e,t),(n=e[0])==null||n.resume()}}}function Db(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function WU(e){return e.filter(t=>t.tagName!=="A")}var yh=0;function HU(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mb()),document.body.insertAdjacentElement("beforeend",e[1]??Mb()),yh++,()=>{yh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yh--}},[])}function Mb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zn=function(){return Zn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Zn.apply(this,arguments)};function mk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function KU(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var dc="right-scroll-bar-position",fc="width-before-scroll-bar",qU="with-scroll-bars-hidden",GU="--removed-body-scroll-bar-size";function vh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YU(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var QU=typeof window<"u"?m.useLayoutEffect:m.useEffect,Lb=new WeakMap;function XU(e,t){var n=YU(null,function(r){return e.forEach(function(i){return vh(i,r)})});return QU(function(){var r=Lb.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(l){o.has(l)||vh(l,null)}),o.forEach(function(l){i.has(l)||vh(l,a)})}Lb.set(n,e)},[e]),n}function JU(e){return e}function ZU(e,t){t===void 0&&(t=JU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var u=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function e4(e){e===void 0&&(e={});var t=ZU(null);return t.options=Zn({async:!0,ssr:!1},e),t}var gk=function(e){var t=e.sideCar,n=mk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Zn({},n))};gk.isSideCarExport=!0;function t4(e,t){return e.useMedium(t),gk}var yk=e4(),wh=function(){},Bd=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:wh,onWheelCapture:wh,onTouchMoveCapture:wh}),i=r[0],o=r[1],a=e.forwardProps,l=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,g=e.inert,x=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,_=mk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,k=XU([n,t]),C=Zn(Zn({},_),i);return m.createElement(m.Fragment,null,d&&m.createElement(E,{sideCar:yk,removeScrollBar:c,shards:f,noRelative:p,noIsolation:w,inert:g,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:b}),a?m.cloneElement(m.Children.only(l),Zn(Zn({},C),{ref:k})):m.createElement(v,Zn({},C,{className:u,ref:k}),l))});Bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bd.classNames={fullWidth:fc,zeroRight:dc};var n4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n4();return t&&e.setAttribute("nonce",t),e}function s4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function i4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var o4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=r4())&&(s4(t,n),i4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},a4=function(){var e=o4();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vk=function(){var e=a4(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},l4={left:0,top:0,right:0,gap:0},bh=function(e){return parseInt(e||"",10)||0},u4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bh(n),bh(r),bh(i)]},c4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l4;var t=u4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},d4=vk(),So="data-scroll-locked",f4=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fc,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(So,`] {
    `).concat(GU,": ").concat(l,`px;
  }
`)},$b=function(){var e=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(e)?e:0},h4=function(){m.useEffect(function(){return document.body.setAttribute(So,($b()+1).toString()),function(){var e=$b()-1;e<=0?document.body.removeAttribute(So):document.body.setAttribute(So,e.toString())}},[])},p4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;h4();var o=m.useMemo(function(){return c4(i)},[i]);return m.createElement(d4,{styles:f4(o,!t,i,n?"":"!important")})},Tm=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return Tm=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{Tm=!1}var Vi=Tm?{passive:!1}:!1,m4=function(e){return e.tagName==="TEXTAREA"},wk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!m4(e)&&n[t]==="visible")},g4=function(e){return wk(e,"overflowY")},y4=function(e){return wk(e,"overflowX")},Fb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=bk(e,r);if(i){var o=xk(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},v4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},w4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},bk=function(e,t){return e==="v"?g4(t):y4(t)},xk=function(e,t){return e==="v"?v4(t):w4(t)},b4=function(e,t){return e==="h"&&t==="rtl"?-1:1},x4=function(e,t,n,r,i){var o=b4(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,u=t.contains(l),c=!1,d=a>0,f=0,h=0;do{if(!l)break;var p=xk(e,l),w=p[0],g=p[1],x=p[2],y=g-x-o*w;(w||y)&&bk(e,l)&&(f+=y,h+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ub=function(e){return[e.deltaX,e.deltaY]},Vb=function(e){return e&&"current"in e?e.current:e},S4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E4=0,Bi=[];function T4(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(E4++)[0],o=m.useState(vk)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=KU([e.lockRef.current],(e.shards||[]).map(Vb),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=Vu(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],_="deltaY"in g?g.deltaY:v[1]-y[1],E,k=g.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var T=Fb(C,k);if(!T)return!0;if(T?E=C:(E=C==="v"?"h":"v",T=Fb(C,k)),!T)return!1;if(!r.current&&"changedTouches"in g&&(b||_)&&(r.current=E),!E)return!0;var O=r.current||E;return x4(O,x,g,O==="h"?b:_,!0)},[]),u=m.useCallback(function(g){var x=g;if(!(!Bi.length||Bi[Bi.length-1]!==o)){var y="deltaY"in x?Ub(x):Vu(x),v=t.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&S4(E.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(a.current.shards||[]).map(Vb).filter(Boolean).filter(function(E){return E.contains(x.target)}),_=b.length>0?l(x,b[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(g,x,y,v){var b={name:g,delta:x,target:y,should:v,shadowParent:k4(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=m.useCallback(function(g){n.current=Vu(g),r.current=void 0},[]),f=m.useCallback(function(g){c(g.type,Ub(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,Vu(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Bi.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",u,Vi),document.addEventListener("touchmove",u,Vi),document.addEventListener("touchstart",d,Vi),function(){Bi=Bi.filter(function(g){return g!==o}),document.removeEventListener("wheel",u,Vi),document.removeEventListener("touchmove",u,Vi),document.removeEventListener("touchstart",d,Vi)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:_4(i)}):null,p?m.createElement(p4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function k4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const C4=t4(yk,T4);var Sk=m.forwardRef(function(e,t){return m.createElement(Bd,Zn({},e,{ref:t,sideCar:C4}))});Sk.classNames=Bd.classNames;var P4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zi=new WeakMap,Bu=new WeakMap,zu={},xh=0,_k=function(e){return e&&(e.host||_k(e.parentNode))},R4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=_k(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},A4=function(e,t,n,r){var i=R4(t,Array.isArray(e)?e:[e]);zu[n]||(zu[n]=new WeakMap);var o=zu[n],a=[],l=new Set,u=new Set(i),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",g=(zi.get(h)||0)+1,x=(o.get(h)||0)+1;zi.set(h,g),o.set(h,x),a.push(h),g===1&&w&&Bu.set(h,!0),x===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),xh++,function(){a.forEach(function(f){var h=zi.get(f)-1,p=o.get(f)-1;zi.set(f,h),o.set(f,p),h||(Bu.has(f)||f.removeAttribute(r),Bu.delete(f)),p||f.removeAttribute(n)}),xh--,xh||(zi=new WeakMap,zi=new WeakMap,Bu=new WeakMap,zu={})}},O4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=P4(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),A4(r,i,n,"aria-hidden")):function(){return null}},zd="Dialog",[Ek,nz]=Oi(zd),[I4,Un]=Ek(zd),Tk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=m.useRef(null),u=m.useRef(null),[c,d]=S1({prop:r,defaultProp:i??!1,onChange:o,caller:zd});return S.jsx(I4,{scope:t,triggerRef:l,contentRef:u,contentId:Nf(),titleId:Nf(),descriptionId:Nf(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Tk.displayName=zd;var kk="DialogTrigger",Ck=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Un(kk,n),o=qe(t,i.triggerRef);return S.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cy(i.open),...r,ref:o,onClick:ve(e.onClick,i.onOpenToggle)})});Ck.displayName=kk;var Ty="DialogPortal",[j4,Pk]=Ek(Ty,{forceMount:void 0}),Rk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Un(Ty,t);return S.jsx(j4,{scope:t,forceMount:n,children:m.Children.map(r,a=>S.jsx(or,{present:n||o.open,children:S.jsx(_g,{asChild:!0,container:i,children:a})}))})};Rk.displayName=Ty;var rd="DialogOverlay",Ak=m.forwardRef((e,t)=>{const n=Pk(rd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Un(rd,e.__scopeDialog);return o.modal?S.jsx(or,{present:r||o.open,children:S.jsx(D4,{...i,ref:t})}):null});Ak.displayName=rd;var N4=hl("DialogOverlay.RemoveScroll"),D4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Un(rd,n);return S.jsx(Sk,{as:N4,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(Ee.div,{"data-state":Cy(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pi="DialogContent",Ok=m.forwardRef((e,t)=>{const n=Pk(Pi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Un(Pi,e.__scopeDialog);return S.jsx(or,{present:r||o.open,children:o.modal?S.jsx(M4,{...i,ref:t}):S.jsx(L4,{...i,ref:t})})});Ok.displayName=Pi;var M4=m.forwardRef((e,t)=>{const n=Un(Pi,e.__scopeDialog),r=m.useRef(null),i=qe(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return O4(o)},[]),S.jsx(Ik,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault())})}),L4=m.forwardRef((e,t)=>{const n=Un(Pi,e.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return S.jsx(Ik,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,c;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Ik=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,l=Un(Pi,n),u=m.useRef(null),c=qe(t,u);return HU(),S.jsxs(S.Fragment,{children:[S.jsx(hk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:S.jsx(Ed,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Cy(l.open),...a,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx($4,{titleId:l.titleId}),S.jsx(U4,{contentRef:u,descriptionId:l.descriptionId})]})]})}),ky="DialogTitle",jk=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Un(ky,n);return S.jsx(Ee.h2,{id:i.titleId,...r,ref:t})});jk.displayName=ky;var Nk="DialogDescription",Dk=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Un(Nk,n);return S.jsx(Ee.p,{id:i.descriptionId,...r,ref:t})});Dk.displayName=Nk;var Mk="DialogClose",Lk=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Un(Mk,n);return S.jsx(Ee.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>i.onOpenChange(!1))})});Lk.displayName=Mk;function Cy(e){return e?"open":"closed"}var $k="DialogTitleWarning",[rz,Fk]=mA($k,{contentName:Pi,titleName:ky,docsSlug:"dialog"}),$4=({titleId:e})=>{const t=Fk($k),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},F4="DialogDescriptionWarning",U4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fk(F4).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Uk=Tk,Vk=Ck,Bk=Rk,Wd=Ak,Hd=Ok,Kd=jk,qd=Dk,zk=Lk;const V4=Uk,sz=Vk,B4=Bk,Wk=m.forwardRef(({className:e,...t},n)=>S.jsx(Wd,{ref:n,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Wk.displayName=Wd.displayName;const Hk=m.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(B4,{children:[S.jsx(Wk,{}),S.jsxs(Hd,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,S.jsxs(zk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[S.jsx(mi,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hk.displayName=Hd.displayName;const z4=({className:e,...t})=>S.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});z4.displayName="DialogHeader";const W4=({className:e,...t})=>S.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});W4.displayName="DialogFooter";const H4=m.forwardRef(({className:e,...t},n)=>S.jsx(Kd,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));H4.displayName=Kd.displayName;const K4=m.forwardRef(({className:e,...t},n)=>S.jsx(qd,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));K4.displayName=qd.displayName;var q4=m.createContext(void 0);function G4(e){const t=m.useContext(q4);return e||t||"ltr"}function Y4(e,[t,n]){return Math.min(n,Math.max(t,e))}function Q4(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Py="ScrollArea",[Kk,iz]=Oi(Py),[X4,gn]=Kk(Py),qk=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[l,u]=m.useState(null),[c,d]=m.useState(null),[f,h]=m.useState(null),[p,w]=m.useState(null),[g,x]=m.useState(null),[y,v]=m.useState(0),[b,_]=m.useState(0),[E,k]=m.useState(!1),[C,T]=m.useState(!1),O=qe(t,D=>u(D)),A=G4(i);return S.jsx(X4,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:_,children:S.jsx(Ee.div,{dir:A,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});qk.displayName=Py;var Gk="ScrollAreaViewport",Yk=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=gn(Gk,n),l=m.useRef(null),u=qe(t,l,a.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),S.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:S.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Yk.displayName=Gk;var lr="ScrollAreaScrollbar",Ry=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=gn(lr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),i.type==="hover"?S.jsx(J4,{...r,ref:t,forceMount:n}):i.type==="scroll"?S.jsx(Z4,{...r,ref:t,forceMount:n}):i.type==="auto"?S.jsx(Qk,{...r,ref:t,forceMount:n}):i.type==="always"?S.jsx(Ay,{...r,ref:t}):null});Ry.displayName=lr;var J4=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=gn(lr,e.__scopeScrollArea),[o,a]=m.useState(!1);return m.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const c=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),S.jsx(or,{present:n||o,children:S.jsx(Qk,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Z4=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=gn(lr,e.__scopeScrollArea),o=e.orientation==="horizontal",a=Yd(()=>u("SCROLL_END"),100),[l,u]=Q4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,i.scrollHideDelay,u]),m.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(u("SCROLL"),a()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,u,a]),S.jsx(or,{present:n||l!=="hidden",children:S.jsx(Ay,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ve(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ve(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Qk=m.forwardRef((e,t)=>{const n=gn(lr,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=m.useState(!1),l=e.orientation==="horizontal",u=Yd(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?c:d)}},10);return Ho(n.viewport,u),Ho(n.content,u),S.jsx(or,{present:r||o,children:S.jsx(Ay,{"data-state":o?"visible":"hidden",...i,ref:t})})}),Ay=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=gn(lr,e.__scopeScrollArea),o=m.useRef(null),a=m.useRef(0),[l,u]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=tC(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,p){return iV(h,a.current,l,p)}return n==="horizontal"?S.jsx(eV,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,p=Bb(h,l,i.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?S.jsx(tV,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,p=Bb(h,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),eV=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=gn(lr,e.__scopeScrollArea),[a,l]=m.useState(),u=m.useRef(null),c=qe(t,u,o.onScrollbarXChange);return m.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),S.jsx(Jk,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),rC(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:id(a.paddingLeft),paddingEnd:id(a.paddingRight)}})}})}),tV=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=gn(lr,e.__scopeScrollArea),[a,l]=m.useState(),u=m.useRef(null),c=qe(t,u,o.onScrollbarYChange);return m.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),S.jsx(Jk,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),rC(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:id(a.paddingTop),paddingEnd:id(a.paddingBottom)}})}})}),[nV,Xk]=Kk(lr),Jk=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=e,p=gn(lr,n),[w,g]=m.useState(null),x=qe(t,O=>g(O)),y=m.useRef(null),v=m.useRef(""),b=p.viewport,_=r.content-r.viewport,E=ot(d),k=ot(u),C=Yd(f,10);function T(O){if(y.current){const A=O.clientX-y.current.left,D=O.clientY-y.current.top;c({x:A,y:D})}}return m.useEffect(()=>{const O=A=>{const D=A.target;(w==null?void 0:w.contains(D))&&E(A,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,w,_,E]),m.useEffect(k,[r,k]),Ho(w,C),Ho(p.content,C),S.jsx(nV,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:ot(o),onThumbPointerUp:ot(a),onThumbPositionChange:k,onThumbPointerDown:ot(l),children:S.jsx(Ee.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:ve(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(O))}),onPointerMove:ve(e.onPointerMove,T),onPointerUp:ve(e.onPointerUp,O=>{const A=O.target;A.hasPointerCapture(O.pointerId)&&A.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),sd="ScrollAreaThumb",Zk=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Xk(sd,e.__scopeScrollArea);return S.jsx(or,{present:n||i.hasThumb,children:S.jsx(rV,{ref:t,...r})})}),rV=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=gn(sd,n),a=Xk(sd,n),{onThumbPositionChange:l}=a,u=qe(t,f=>a.onThumbChange(f)),c=m.useRef(void 0),d=Yd(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!c.current){const p=oV(f,l);c.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,l]),S.jsx(Ee.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,g=f.clientY-p.top;a.onThumbPointerDown({x:w,y:g})}),onPointerUp:ve(e.onPointerUp,a.onThumbPointerUp)})});Zk.displayName=sd;var Oy="ScrollAreaCorner",eC=m.forwardRef((e,t)=>{const n=gn(Oy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(sV,{...e,ref:t}):null});eC.displayName=Oy;var sV=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=gn(Oy,n),[o,a]=m.useState(0),[l,u]=m.useState(0),c=!!(o&&l);return Ho(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),u(d)}),Ho(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),c?S.jsx(Ee.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function id(e){return e?parseInt(e,10):0}function tC(e,t){const n=e/t;return isNaN(n)?0:n}function Gd(e){const t=tC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function iV(e,t,n,r="ltr"){const i=Gd(n),o=i/2,a=t||o,l=i-a,u=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return nC([u,c],f)(e)}function Bb(e,t,n="ltr"){const r=Gd(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,l=o-r,u=n==="ltr"?[0,a]:[a*-1,0],c=Y4(e,u);return nC([0,a],[0,l])(c)}function nC(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rC(e,t){return e>0&&e<t}var oV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,l=n.top!==o.top;(a||l)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Yd(e,t){const n=ot(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ho(e,t){const n=ot(t);Xt(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var sC=qk,aV=Yk,lV=eC;const iC=m.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(sC,{ref:r,className:be("relative overflow-hidden",e),...n,children:[S.jsx(aV,{className:"h-full w-full rounded-[inherit]",children:t}),S.jsx(oC,{}),S.jsx(lV,{})]}));iC.displayName=sC.displayName;const oC=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>S.jsx(Ry,{ref:r,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:S.jsx(Zk,{className:"relative flex-1 rounded-full bg-border"})}));oC.displayName=Ry.displayName;const uV=Cg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gr=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?yA:"button";return S.jsx(a,{className:be(uV({variant:t,size:n,className:e})),ref:o,...i})});Gr.displayName="Button";function cV({open:e,onOpenChange:t,queue:n=[],currentIndex:r=-1,onPlayTrack:i,onRemoveTrack:o,onReorderQueue:a,onClearQueue:l,onShuffleQueue:u}){const c=r>=0&&r<n.length?r:-1,d=c>=0?n[c]:null,f=c>=0?n.slice(c+1):[],h=c>=0?n.slice(0,c):[],p=n.length===0?"No tracks in queue":`${n.length} track${n.length===1?"":"s"}  ${f.length} up next`,w=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"px-6 py-4 border-b flex items-start justify-between gap-3",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[S.jsx(Wi,{className:"w-5 h-5"}),"Queue"]}),S.jsx("p",{className:"text-sm text-muted-foreground",children:p})]}),S.jsx(Gr,{variant:"ghost",size:"icon",onClick:()=>t(!1),"aria-label":"Close queue",title:"Close queue",children:S.jsx(mi,{className:"w-4 h-4"})})]}),n.length>0&&S.jsxs("div",{className:"px-6 py-3 border-b flex gap-2",children:[S.jsxs(Gr,{variant:"outline",size:"sm",onClick:u,className:"flex-1",children:[S.jsx(bO,{className:"w-4 h-4 mr-2"}),"Shuffle"]}),S.jsxs(Gr,{variant:"outline",size:"sm",onClick:l,className:"flex-1",children:[S.jsx(mi,{className:"w-4 h-4 mr-2"}),"Clear"]})]}),S.jsx(iC,{className:"flex-1",children:S.jsxs("div",{className:"px-6 py-4 space-y-6",children:[d&&S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Now Playing"}),S.jsxs(Ci.div,{layout:!0,className:"flex items-center gap-3 p-3 rounded-lg bg-accent/10 border border-accent/20",children:[d.cover_url?S.jsx("img",{src:d.cover_url,alt:d.title,className:"w-12 h-12 rounded object-cover"}):S.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center",children:S.jsx(Wi,{className:"w-6 h-6 text-muted-foreground"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"font-medium text-sm truncate",children:d.title}),S.jsx("p",{className:"text-xs text-muted-foreground truncate",children:d.artist})]}),S.jsx(sc,{className:"w-4 h-4 text-accent"})]})]}),f.length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[S.jsx(H1,{className:"w-4 h-4"}),"Up Next"]}),S.jsx(SU,{axis:"y",values:f,onReorder:g=>{if(!d)return;const x=[...h,d,...g];a(x)},className:"space-y-2",children:f.map((g,x)=>S.jsxs(OU,{value:g,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 cursor-grab active:cursor-grabbing group",children:[S.jsx(hO,{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"}),g.cover_url?S.jsx("img",{src:g.cover_url,alt:g.title,className:"w-10 h-10 rounded object-cover"}):S.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:S.jsx(Wi,{className:"w-5 h-5 text-muted-foreground"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"font-medium text-sm truncate",children:g.title}),S.jsx("p",{className:"text-xs text-muted-foreground truncate",children:g.artist})]}),S.jsx(Gr,{variant:"ghost",size:"icon",className:"w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:y=>{y.stopPropagation(),i(r+1+x)},children:S.jsx(sc,{className:"w-4 h-4"})}),S.jsx(Gr,{variant:"ghost",size:"icon",className:"w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:y=>{y.stopPropagation(),o(r+1+x)},children:S.jsx(mi,{className:"w-4 h-4"})})]},g.id))})]}),h.length>0&&S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Previously Played"}),S.jsx("div",{className:"space-y-2 opacity-60",children:h.map((g,x)=>S.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/30",children:[g.cover_url?S.jsx("img",{src:g.cover_url,alt:g.title,className:"w-10 h-10 rounded object-cover"}):S.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:S.jsx(Wi,{className:"w-5 h-5 text-muted-foreground"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"font-medium text-sm truncate",children:g.title}),S.jsx("p",{className:"text-xs text-muted-foreground truncate",children:g.artist})]}),S.jsx(Gr,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>i(x),children:S.jsx(sc,{className:"w-4 h-4"})})]},`prev-${g.id}-${x}`))})]}),n.length===0&&S.jsxs("div",{className:"text-center py-12 px-4",children:[S.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:S.jsx(Wi,{className:"w-8 h-8 text-muted-foreground"})}),S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No tracks in queue"}),S.jsx("p",{className:"text-sm text-muted-foreground",children:"Start playing tracks to build your queue"})]})]})})]});return S.jsxs(S.Fragment,{children:[e&&S.jsx("div",{className:"hidden md:flex fixed inset-y-0 right-0 z-[80] w-[420px] max-w-[40vw] border-l bg-background shadow-2xl flex-col","aria-label":"Queue sidebar",children:w}),e&&S.jsx(V4,{open:e,onOpenChange:t,children:S.jsx(Hk,{className:"md:hidden p-0 max-w-[92vw] w-[92vw] h-[85vh] flex flex-col",children:w})})]})}function dV(e){return{web:`https://open.spotify.com/track/${e}`,app:`spotify:track:${e}`}}function fV(e){return`https://www.youtube.com/watch?v=${e}`}function hV(e){const t=[];if(e.spotifyId||e.urlSpotifyWeb){const n=e.spotifyId?dV(e.spotifyId):{web:e.urlSpotifyWeb,app:e.urlSpotifyApp};t.push({provider:"spotify",name:"Spotify",icon:"",webUrl:n.web,appUrl:n.app,color:"#1DB954"})}if(e.youtubeId||e.urlYoutube){const n=e.youtubeId?fV(e.youtubeId):e.urlYoutube;t.push({provider:"youtube",name:"YouTube (Free)",icon:"",webUrl:n,color:"#FF0000"})}return t}function oz(e,t=!1){const n=t&&e.appUrl?e.appUrl:e.webUrl;window.open(n,"_blank","noopener,noreferrer")}const az={spotify:{name:"Spotify",icon:"",color:"#1DB954"},youtube:{name:"YouTube",icon:"",color:"#FF0000"},apple_music:{name:"Apple Music",icon:"",color:"#FA243C"},deezer:{name:"Deezer",icon:"",color:"#FF6600"},soundcloud:{name:"SoundCloud",icon:"",color:"#FF5500"},amazon_music:{name:"Amazon Music",icon:"",color:"#00A8E1"}},Iy="https://www.googleapis.com/youtube/v3";let Xl=!1,km=null,od=!1;function jy(e){Xl=!0,km=e,od||(console.warn("[YouTubeSearch] disabled:",e),od=!0)}function pV(e){if(!e)return null;const t=e.trim();if(/^[a-zA-Z0-9_-]{11}$/.test(t))return t;const n=e.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]v=([a-zA-Z0-9_-]{11})/);return r!=null&&r[1]?r[1]:null}async function lz(e){var r,i,o,a,l,u;if(Xl)return null;const t="AIzaSyCuzsSgHYzMsRfDWHtGFlDhkYJfysD8DYw",n=new URLSearchParams({part:"snippet,contentDetails",id:e,key:t});try{const c=await fetch(`${Iy}/videos?${n}`);if(!c.ok)return(c.status===401||c.status===403)&&jy(`YouTube API returned ${c.status} for video lookup`),null;const f=(r=(await c.json()).items)==null?void 0:r[0];if(!f)return null;const h=f.snippet.title||"",[p,w]=h.includes(" - ")?h.split(" - ",2):[void 0,h],g=((i=f.contentDetails)==null?void 0:i.duration)||"",x=mV(g);return{id:`youtube:${e}`,title:w||h,artist:p||f.snippet.channelTitle,cover_url:((a=(o=f.snippet.thumbnails)==null?void 0:o.high)==null?void 0:a.url)||((u=(l=f.snippet.thumbnails)==null?void 0:l.default)==null?void 0:u.url),youtube_id:e,duration_ms:x,provider:"youtube"}}catch(c){return console.error("getYouTubeVideo error",c),null}}function mV(e){try{const t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!t)return 0;const n=parseInt(t[1]||"0",10),r=parseInt(t[2]||"0",10),i=parseInt(t[3]||"0",10);return(n*3600+r*60+i)*1e3}catch{return 0}}async function gV(e,t){if(Xl)return!od&&km&&(console.warn("[YouTubeSearch] skipped because disabled:",km),od=!0),[];const n="AIzaSyCuzsSgHYzMsRfDWHtGFlDhkYJfysD8DYw";try{const r=[],i=pV(t?`${e} ${t}`:e);if(i){const h=await yV(i,n);if(h)return[{videoId:i,title:h.title,channel:h.channel,type:"official"}]}const o=`${e} ${t} official`.trim(),a=await Sh(o,n,3);r.push(...a.map(h=>({...h,type:"official"})));const l=`${e} ${t} live`.trim(),u=await Sh(l,n,2);r.push(...u.map(h=>({...h,type:"live"})));const c=`${t||e} cover`.trim(),d=await Sh(c,n,2);return r.push(...d.map(h=>({...h,type:"cover"}))),r.filter((h,p,w)=>w.findIndex(g=>g.videoId===h.videoId)===p)}catch(r){return console.error("Error searching YouTube:",r),[]}}async function Sh(e,t,n){if(Xl)return[];const r=new URLSearchParams({part:"snippet",q:e,type:"video",videoCategoryId:"10",maxResults:n.toString(),key:t}),i=await fetch(`${Iy}/search?${r}`);return i.ok?(await i.json()).items.map(a=>({videoId:a.id.videoId,title:a.snippet.title,channel:a.snippet.channelTitle})):(console.error("YouTube API error:",i.status),(i.status===401||i.status===403)&&jy(`YouTube API returned ${i.status} for search`),[])}async function yV(e,t){var a,l,u;if(Xl)return null;const n=new URLSearchParams({part:"snippet",id:e,key:t}),r=await fetch(`${Iy}/videos?${n}`);if(!r.ok)return(r.status===401||r.status===403)&&jy(`YouTube API returned ${r.status} for snippet fetch`),null;const o=(a=(await r.json()).items)==null?void 0:a[0];return o?{title:((l=o.snippet)==null?void 0:l.title)||"YouTube video",channel:((u=o.snippet)==null?void 0:u.channelTitle)||"YouTube"}:null}const Ny="harmony_hub_oauth_state",Dy="harmony_hub_oauth_verifier";function zb(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=crypto.getRandomValues(new Uint8Array(e));return Array.from(n).map(r=>t[r%t.length]).join("")}async function vV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return btoa(String.fromCharCode(...new Uint8Array(r))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const wV="https://accounts.spotify.com/authorize",bV=["user-read-email","user-read-private","user-top-read","streaming","user-modify-playback-state","user-read-playback-state","user-read-currently-playing","user-read-recently-played","user-library-read","playlist-read-private","app-remote-control"].join(" ");function xV(e,t){const n={state:e,codeVerifier:t,timestamp:Date.now()};localStorage.setItem(Ny,e),localStorage.setItem(Dy,JSON.stringify(n))}function uz(){try{const e=localStorage.getItem(Ny),t=localStorage.getItem(Dy);if(!e||!t)return null;const n=JSON.parse(t);return Date.now()-n.timestamp>10*60*1e3?(SV(),null):{state:n.state,codeVerifier:n.codeVerifier}}catch{return null}}function SV(){localStorage.removeItem(Ny),localStorage.removeItem(Dy)}function aC(){const{user:e}=en();return z_({mutationFn:async()=>{if(console.log("[Spotify Connect] Starting OAuth flow..."),!e)throw new Error("Must be logged in to connect Spotify");const t="b1d936a5b2bd4cb199d3ede9a4fa2449";console.log("[Spotify Connect] Client ID:",`${t.substring(0,8)}...`);const n=zb(64),r=await vV(n),i=zb(32);xV(i,n),console.log("[Spotify Connect] State stored:",i.substring(0,8)+"...");const o="https://kaospan.github.io/clademusic/spotify-callback";console.log("[Spotify Connect] Redirect URI:",o);const a=new URLSearchParams({client_id:t,response_type:"code",redirect_uri:o,scope:bV,state:i,code_challenge_method:"S256",code_challenge:r}),l=`${wV}?${a.toString()}`;console.log("[Spotify Connect] Redirecting to:",l.substring(0,80)+"..."),window.location.href=l}})}function cz(){const{user:e}=en();return z_({mutationFn:async()=>{if(!e)throw new Error("Must be logged in");const{error:t}=await Qe.from("user_providers").delete().eq("user_id",e.id).eq("provider","spotify");if(t)throw t}})}function _V(e){if(!e||e.length===0)return;let t=e[0],n=(t.width??0)*(t.height??0);for(let r=1;r<e.length;r++){const i=e[r],o=(i.width??0)*(i.height??0);o>n&&(t=i,n=o)}return t}function EV(e){var r,i,o,a,l;const t=_V((r=e.album)==null?void 0:r.images),n=((i=e.artists)==null?void 0:i.map(u=>u.name).filter(Boolean))??[];return{id:`spotify:${e.id}`,title:e.name,artist:n.join(", "),artists:n,album:(o=e.album)==null?void 0:o.name,cover_url:t==null?void 0:t.url,artwork_url:t==null?void 0:t.url,duration_ms:e.duration_ms,preview_url:e.preview_url,spotify_id:e.id,url_spotify_web:(a=e.external_urls)==null?void 0:a.spotify,url_spotify_app:e.uri,provider:"spotify",external_id:e.id,isrc:(l=e.external_ids)==null?void 0:l.isrc}}let Al=!1,ad=!1;const As="https://api.spotify.com/v1";function TV(e){return{...EV(e.track),played_at:e.played_at}}async function lC(e,t=20){const n=await Ls(e);if(!n)return null;try{const r=new URLSearchParams({limit:Math.min(t,50).toString()}),i=await fetch(`${As}/me/player/recently-played?${r}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok){if(i.status===401){const u=await _y(e);return(u!=null&&u.refresh_token?await Ey(e,u.refresh_token):null)?lC(e,t):(console.error("Spotify token refresh failed (missing/invalid refresh token)"),null)}return console.error("Failed to fetch recently played:",i.status),null}const o=await i.json(),a=[],l=new Set;for(const u of o.items){const c=TV(u),d=c.spotify_id||c.id;if(d&&!l.has(d)&&(l.add(d),a.push(c)),a.length>=t)break}return{tracks:a.slice(0,t),source:"spotify"}}catch(r){return console.error("Error fetching recently played:",r),null}}async function kV(e){const t=await Ls(e);if(!t)return!1;try{const n=await fetch(`${As}/me`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok)return!0;if(n.status===401){const r=await _y(e),i=r!=null&&r.refresh_token?await Ey(e,r.refresh_token):null;return i?(await fetch(`${As}/me`,{headers:{Authorization:`Bearer ${i}`}})).ok:!1}return n.status===403,!1}catch(n){return console.warn("[Spotify] isSpotifyConnected validation failed",n),!1}}async function CV(e){var n,r,i;const t=await Ls(e);if(!t)return null;try{const o=await fetch(`${As}/me`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)return null;const a=await o.json();return{displayName:a.display_name||a.id,email:a.email,imageUrl:(r=(n=a.images)==null?void 0:n[0])==null?void 0:r.url,product:a.product,followers:(i=a.followers)==null?void 0:i.total}}catch(o){return console.error("Error fetching Spotify profile:",o),null}}async function My(e,t="medium_term",n=20){const r=await Ls(e);if(!r)return[];try{const i=new URLSearchParams({time_range:t,limit:Math.min(n,50).toString()}),o=await fetch(`${As}/me/top/tracks?${i}`,{headers:{Authorization:`Bearer ${r}`}});return o.ok?(await o.json()).items.map(l=>{var u,c;return{id:`spotify:${l.id}`,title:l.name,artist:l.artists.map(d=>d.name).join(", "),artists:l.artists.map(d=>d.name),album:l.album.name,cover_url:(u=l.album.images[0])==null?void 0:u.url,artwork_url:(c=l.album.images[0])==null?void 0:c.url,duration_ms:l.duration_ms,spotify_id:l.id,provider:"spotify",external_id:l.id}}):o.status===401||o.status===403?(console.warn("[Spotify] top tracks forbidden/unauthorized; treating as disconnected"),Al=!0,[]):[]}catch(i){return console.error("Error fetching top tracks:",i),[]}}async function Ly(e,t="medium_term",n=20){if(Al)return[];const r=await Ls(e);if(!r)return[];try{const i=new URLSearchParams({time_range:t,limit:Math.min(n,50).toString()}),o=await fetch(`${As}/me/top/artists?${i}`,{headers:{Authorization:`Bearer ${r}`}});return o.ok?(await o.json()).items:o.status===401||o.status===403?(console.warn("[Spotify] top artists forbidden/unauthorized; treating as disconnected"),Al=!0,[]):[]}catch(i){return console.error("Error fetching top artists:",i),[]}}async function PV(e,t){if(t.length===0)return[];if(ad)return[];const n=await Ls(e);if(!n)return[];try{const r=t.slice(0,100).join(","),i=await fetch(`${As}/audio-features?ids=${r}`,{headers:{Authorization:`Bearer ${n}`}});return i.ok?(await i.json()).audio_features.filter(Boolean):((i.status===401||i.status===403||i.status===404)&&(ad=!0,Al=!0,console.warn("[Spotify] audio-features blocked; disabling Spotify Web API calls",i.status)),[])}catch(r){return console.error("Error fetching audio features:",r),[]}}async function RV(e){const[t,n]=await Promise.all([My(e,"medium_term",50),Ly(e,"medium_term",50)]);if(t.length===0)return null;const r=t.map(w=>w.spotify_id||w.external_id).filter(Boolean),i=await PV(e,r);if(i.length===0)return null;const o=i.reduce((w,g)=>w+g.energy,0)/i.length,a=i.reduce((w,g)=>w+g.danceability,0)/i.length,l=i.reduce((w,g)=>w+g.valence,0)/i.length,u=i.reduce((w,g)=>w+g.tempo,0)/i.length,c={};n.forEach(w=>{w.genres.forEach(g=>{c[g]=(c[g]||0)+1})});const d=Object.entries(c).sort((w,g)=>g[1]-w[1]).slice(0,10).map(([w,g])=>({genre:w,count:g}));let f="balanced";o>.7&&l>.6?f="energetic":o<.4&&l>.5?f="chill":l<.35?f="melancholic":l>.65&&a>.6&&(f="upbeat");const h=new Set(t.flatMap(w=>w.artists||[])),p=Math.min(h.size/t.length,1);return{topGenres:d,averageEnergy:o,averageDanceability:a,averageValence:l,averageTempo:u,moodProfile:f,listeningDiversity:p}}async function AV(e,t=[],n=[],r=20){if(ad)return[];const i=await Ls(e);if(!i)return[];try{let o=t,a=n;if(o.length===0&&a.length===0){const[d,f]=await Promise.all([My(e,"medium_term",5),Ly(e,"medium_term",5)]);o=d.slice(0,2).map(h=>h.spotify_id||h.external_id).filter(Boolean),a=f.slice(0,3).map(h=>h.id)}const l=[];if(o.length>0&&l.push(`seed_tracks=${o.slice(0,2).join(",")}`),a.length>0&&l.push(`seed_artists=${a.slice(0,3).join(",")}`),l.length===0)return[];const u=await fetch(`${As}/recommendations?${l.join("&")}&limit=${r}`,{headers:{Authorization:`Bearer ${i}`}});return u.ok?(await u.json()).tracks.map(d=>{var f,h;return{id:`spotify:${d.id}`,title:d.name,artist:d.artists.map(p=>p.name).join(", "),artists:d.artists.map(p=>p.name),album:d.album.name,cover_url:(f=d.album.images[0])==null?void 0:f.url,artwork_url:(h=d.album.images[0])==null?void 0:h.url,duration_ms:d.duration_ms,spotify_id:d.id,provider:"spotify",external_id:d.id}}):((u.status===401||u.status===403||u.status===404)&&(ad=!0,Al=!0,console.warn("[Spotify] recommendations blocked; disabling Spotify Web API calls",u.status)),[])}catch(o){return console.error("Error fetching recommendations:",o),[]}}function sa(){const{user:e}=en();return Fn({queryKey:["spotify-connected",e==null?void 0:e.id],queryFn:()=>kV(e.id),enabled:!!e,staleTime:5*60*1e3})}function dz(e=20){const{user:t}=en();return Fn({queryKey:["spotify-recently-played",t==null?void 0:t.id,e],queryFn:()=>lC(t.id,e),enabled:!!t,staleTime:2*60*1e3,refetchOnWindowFocus:!0})}function fz(){const{user:e}=en();return Fn({queryKey:["spotify-profile",e==null?void 0:e.id],queryFn:()=>CV(e.id),enabled:!!e,staleTime:10*60*1e3})}function hz(e="medium_term",t=20){const{user:n}=en(),{data:r}=sa();return Fn({queryKey:["spotify-top-tracks",n==null?void 0:n.id,e,t],queryFn:()=>My(n.id,e,t),enabled:!!n&&r===!0,staleTime:10*60*1e3})}function pz(e="medium_term",t=20){const{user:n}=en(),{data:r}=sa();return Fn({queryKey:["spotify-top-artists",n==null?void 0:n.id,e,t],queryFn:()=>Ly(n.id,e,t),enabled:!!n&&r===!0,staleTime:10*60*1e3})}function mz(){const{user:e}=en(),{data:t}=sa();return Fn({queryKey:["music-stats",e==null?void 0:e.id],queryFn:()=>RV(e.id),enabled:!!e&&t===!0,staleTime:30*60*1e3})}function gz(e=[],t=[],n=20){const{user:r}=en(),{data:i}=sa();return Fn({queryKey:["spotify-recommendations",r==null?void 0:r.id,e,t,n],queryFn:()=>AV(r.id,e,t,n),enabled:!!r&&i===!0,staleTime:15*60*1e3})}const uC=({className:e})=>S.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),OV=({className:e})=>S.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.401-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.785-.56-2.075-1.46-.18-.556-.106-1.09.188-1.59.33-.562.824-.92 1.456-1.08.263-.07.532-.12.8-.165.527-.09 1.054-.18 1.58-.275.187-.034.36-.09.455-.29.043-.098.065-.214.066-.322.006-.86.004-1.72.002-2.58v-.248l-5.49 1.26v6.6c0 .4-.053.79-.213 1.16-.3.69-.832 1.11-1.56 1.303-.387.1-.78.15-1.18.147-.93-.003-1.725-.6-1.99-1.5-.173-.6-.082-1.16.258-1.68.33-.5.796-.84 1.374-.987.31-.08.63-.14.948-.19.496-.08.992-.15 1.487-.23.26-.04.5-.12.655-.35.077-.113.118-.26.12-.39.01-.18.004-.36.004-.55V6.32c0-.27.058-.52.22-.74.17-.24.41-.38.69-.44.12-.03.25-.04.38-.06l6.67-1.525c.19-.044.39-.08.59-.08.25 0 .46.1.63.29.14.15.21.34.21.55.01.12.01.25.01.37v5.95z"})}),cC=({className:e})=>S.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})});function yz({track:e,canonicalTrackId:t=null,trackTitle:n="Track",trackArtist:r,className:i,size:o="md"}){const a=hV(e),l=a.find(D=>D.provider==="spotify"),u=a.find(D=>D.provider==="youtube");SE();const{openPlayer:c,positionMs:d,provider:f,canonicalTrackId:h,trackId:p}=Kl();Wl(),en(),sa(),aC();const w=m.useCallback(D=>{if(!D)return null;if(D.startsWith("spotify:track:"))return D.split(":").pop()||null;const M=D.match(/track\/(\w+)/);return M!=null&&M[1]?M[1]:D.includes("?")?D.split("?")[0].split("/").pop()||null:D},[]),g=m.useCallback(D=>{if(!D)return null;const M=D.match(/[?&]v=([A-Za-z0-9_-]{11})/);return M!=null&&M[1]?M[1]:(D.length===11,D)},[]),x=m.useMemo(()=>w(e.spotifyId||e.urlSpotifyWeb||e.urlSpotifyApp||(l==null?void 0:l.webUrl)||(l==null?void 0:l.appUrl)),[w,e.spotifyId,e.urlSpotifyApp,e.urlSpotifyWeb,l==null?void 0:l.appUrl,l==null?void 0:l.webUrl]),y=m.useMemo(()=>g(e.youtubeId||e.urlYoutube||(u==null?void 0:u.webUrl)),[g,e.urlYoutube,e.youtubeId,u==null?void 0:u.webUrl]),v=!!x,b=!!y,_=!v&&!b,E=h===t||f==="spotify"&&x&&p===x||f==="youtube"&&y&&p===y,k=E&&d?d/1e3:void 0,C=m.useCallback(()=>{!v||!x||(lw("spotify"),c({canonicalTrackId:t,provider:"spotify",providerTrackId:x,autoplay:!0,context:"quick-stream",title:n,artist:r,startSec:k}))},[v,t,n,r,c,k,x]),T=m.useCallback(async()=>{var M;lw("youtube");let D=y;if(!D)try{D=(M=(await gV(r||"",n||""))[0])==null?void 0:M.videoId}catch(K){console.warn("YouTube search failed; falling back to no-op",K)}if(!D){console.warn("No YouTube result found for track; cannot play");return}c({canonicalTrackId:t,provider:"youtube",providerTrackId:D,autoplay:!0,context:"quick-stream",title:n,artist:r,startSec:k})},[t,n,r,c,k,y]),O={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},A={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return _?S.jsxs("div",{className:be("flex items-center gap-2 text-muted-foreground",i),children:[S.jsx(Wi,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm",children:"No streaming links"})]}):S.jsxs("div",{className:be("flex items-center gap-2",i),children:[S.jsx(Ci.button,{whileHover:{scale:v?1.05:1},whileTap:{scale:v?.97:1},onClick:v?C:void 0,"data-provider":"spotify",disabled:!v,className:be(O[o],"rounded-full flex items-center justify-center transition-all",v?"bg-gradient-to-br from-[#1DB954] to-[#1ed760] text-white shadow-lg hover:shadow-xl hover:from-[#1ed760] hover:to-[#1DB954] cursor-pointer":"bg-muted text-muted-foreground cursor-not-allowed opacity-60",f==="spotify"&&E&&"ring-2 ring-white ring-offset-2 ring-offset-background"),title:v?"Play in Spotify":"Spotify unavailable","aria-label":v?`Play ${n} in Spotify`:"Spotify unavailable",children:S.jsx(uC,{className:A[o]})}),S.jsx(Ci.button,{whileHover:{scale:b?1.05:1},whileTap:{scale:b?.97:1},onClick:T,"data-provider":"youtube",className:be(O[o],"rounded-full flex items-center justify-center transition-all","bg-gradient-to-br from-[#FF0000] to-[#CC0000] text-white shadow-lg hover:shadow-xl hover:from-[#FF0000] hover:to-[#EE0000] cursor-pointer",f==="youtube"&&E&&"ring-2 ring-white ring-offset-2 ring-offset-background"),title:b?"Play on YouTube":"Find on YouTube","aria-label":b?`Play ${n} on YouTube`:`Find ${n} on YouTube`,children:S.jsx(cC,{className:A[o]})})]})}const IV={spotify:{label:"Spotify",badge:"",color:"bg-black/90",Icon:uC},youtube:{label:"YouTube",badge:"",color:"bg-black/90",Icon:cC},apple_music:{label:"Apple Music",badge:"",color:"bg-neutral-900/90",Icon:OV}};function jV(e,t,n){const r=typeof import.meta<"u"&&!1||typeof process<"u"&&!1,[i,o]=m.useState(e),a=m.useRef(null),l=m.useRef(performance.now()),u=m.useRef(e),c=m.useRef(t);return m.useEffect(()=>{(Math.abs(e-u.current)>150||e<u.current-50)&&o(e),u.current=e,l.current=performance.now()},[e]),m.useEffect(()=>{c.current=t,t>0&&o(d=>Math.min(d,t))},[t]),m.useEffect(()=>{n||o(e)},[n,e]),m.useEffect(()=>{if(r)return;if(!n){a.current!==null&&(cancelAnimationFrame(a.current),a.current=null);return}const d=f=>{const h=f-l.current;l.current=f,o(p=>{const w=p+h,g=c.current;return g>0?Math.min(w,g):w}),a.current=requestAnimationFrame(d)};return l.current=performance.now(),a.current=requestAnimationFrame(d),()=>{a.current!==null&&(cancelAnimationFrame(a.current),a.current=null)}},[n,t,r]),i}function NV({onNext:e,onPrev:t,canNext:n,canPrev:r}){const i=typeof import.meta<"u"&&!1||typeof process<"u"&&!1,{provider:o,trackId:a,trackTitle:l,trackArtist:u,lastKnownTitle:c,lastKnownArtist:d,positionMs:f,durationMs:h,volume:p,isMuted:w,isOpen:g,isMinimized:x,isMini:y,isCinema:v,miniPosition:b,enterCinema:_,exitCinema:E,isPlaying:k,togglePlayPause:C,setVolumeLevel:T,toggleMute:O,seekToMs:A,collapseToMini:D,restoreFromMini:M,setMiniPosition:K,queue:F,queueIndex:G,playFromQueue:U,removeFromQueue:H,reorderQueue:I,clearQueue:L,shuffleQueue:B,nextTrack:ne,previousTrack:ee}=Kl(),{user:ue}=en(),le=Wl(),{data:Re}=sa(),R=aC(),N=Array.isArray(F)?F:[],z=typeof G=="number"?G:-1,q=m.useRef(null),Q=k,[ge,oe]=m.useState(!1),[ye,Te]=m.useState(null),[yn,tn]=m.useState(.9),$s=m.useRef(!1),Vn=m.useRef(0),vn=m.useRef(0),[Jl,Bn]=m.useState(!1),[Fs,nn]=m.useState(1),Us=m.useRef(!1),Vs=m.useRef(0),rt=m.useRef(0),wn=m.useCallback(j=>Math.min(Math.max(j,.6),1.3),[]),Ii=m.useRef(null),Zl=m.useRef(null),It=8,Qd=m.useCallback(()=>typeof window>"u"?{x:0,y:0}:{x:window.innerWidth/2-It-130,y:-(window.innerHeight/2-It-90)},[It]),[He,ur]=m.useState(!1),Lr=m.useCallback(()=>{if(typeof window>"u")return{x:0,y:0};const j=12;return{x:window.innerWidth-420-j,y:window.innerHeight-180-j}},[It]),[zn,bn]=m.useState({x:0,y:0}),[cr,Bs]=m.useState(()=>Lr()),[dr,eu]=m.useState({left:-1e3,right:1e3,top:-1e3,bottom:1e3}),tu="player_layout_v1",ji="player_positions_v1",xn=m.useCallback(j=>{if(typeof document>"u")return null;const $=document.cookie.match(new RegExp(`(?:^|; )${j.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&")}=([^;]*)`));return $?decodeURIComponent($[1]):null},[]),nu=m.useCallback((j,$)=>{if(typeof document>"u")return;const ae=60*60*24*365;document.cookie=`${j}=${encodeURIComponent($)}; path=/; max-age=${ae}`},[]),re=m.useCallback(j=>({x:Math.min(Math.max(j.x,dr.left),dr.right),y:Math.min(Math.max(j.y,dr.top),dr.bottom)}),[dr]),pe=m.useCallback(j=>Math.min(Math.max(j,.3),1.6),[]),we=m.useCallback(j=>{Number.isFinite(j)&&(A(j*1e3),Te(null))},[A]),xt=l??c??"",jt=u??d??"",rn=j=>Number.isFinite(j)?Math.max(0,j):0,fr=jV(rn(f),rn(h),k),St=Math.max(0,fr/1e3),Wn=ye??St,Xd=Math.max(0,rn(h)/1e3),Jd=Xd>0?Xd:Math.max(1,St),Zd=Number.isFinite(Jd)&&Jd>0?Jd:1,EC=Math.max(.01,Zd/1200),Uy=Math.min(Wn,Zd),TC=Number.isFinite(Uy)?Uy:0,kC=Math.round((w?0:Number.isFinite(p)?p:0)*100),ru=!g||!o||!a,Vy=n??(N.length>1||!!e),By=r??!ru,ia=m.useMemo(()=>{const j={label:"Now Playing",badge:"",color:"bg-neutral-900/90",Icon:null};return o?IV[o]??j:j},[o]),zy=j=>{const $=Math.floor(j/60),ae=Math.floor(j%60);return`${$}:${ae.toString().padStart(2,"0")}`},CC=m.useCallback(()=>{if(!ue){le("/auth");return}R.mutateAsync()},[R,le,ue]),PC=m.useCallback(()=>{var $,ae;const j=Ii.current;j&&(document.fullscreenElement?(($=document.exitFullscreen)==null||$.call(document),E()):(ae=j.requestFullscreen)==null||ae.call(j).then(()=>_()).catch(()=>{}))},[_,E]);m.useEffect(()=>{const j=()=>{!!document.fullscreenElement?_():E()};return document.addEventListener("fullscreenchange",j),()=>document.removeEventListener("fullscreenchange",j)},[_,E]),m.useEffect(()=>{if(!(typeof window>"u"))try{const j=localStorage.getItem(tu);if(!j)return;const $=JSON.parse(j);typeof $.isCompact=="boolean"&&ur($.isCompact),Number.isFinite($.videoScale)&&tn(pe($.videoScale)),Number.isFinite($.playerScale)&&nn(wn($.playerScale))}catch(j){console.warn("Failed to hydrate player layout",j)}},[wn,pe]),m.useEffect(()=>{if(typeof window>"u")return;const j=JSON.stringify({isCompact:He,videoScale:yn,playerScale:Fs});try{localStorage.setItem(tu,j)}catch($){console.warn("Failed to persist player layout",$)}},[He,yn,Fs]),m.useEffect(()=>{if(!(typeof window>"u"))try{const j=xn(ji);if(!j)return;const $=JSON.parse(j);$.mainPosition&&bn($.mainPosition),$.compactPosition&&Bs($.compactPosition),$.miniPosition&&K($.miniPosition)}catch(j){console.warn("Failed to hydrate player positions",j)}},[xn]),m.useEffect(()=>{const j=JSON.stringify({mainPosition:zn,compactPosition:cr,miniPosition:b});nu(ji,j)},[cr,zn,b,nu]),m.useEffect(()=>{Te(null)},[o,a]);const Wy=m.useCallback(()=>{if(typeof window>"u")return{left:-1e3,right:1e3,top:-1e3,bottom:1e3};const j=Ii.current;if(!j)return{left:-1e3,right:1e3,top:-1e3,bottom:1e3};const $=j.getBoundingClientRect(),ae=8;return{left:-$.left+ae,right:window.innerWidth-$.right-ae,top:-$.top+ae,bottom:window.innerHeight-$.bottom-ae}},[]),su=m.useCallback(()=>{const j=Wy();eu($=>$.left===j.left&&$.right===j.right&&$.top===j.top&&$.bottom===j.bottom?$:j)},[Wy]),iu=m.useCallback(j=>{var pr;if(typeof window>"u")return j;const $=(pr=Zl.current)==null?void 0:pr.getBoundingClientRect(),ae=($==null?void 0:$.width)??260,st=($==null?void 0:$.height)??120,Hn=-(window.innerWidth-ae-It),Kn=window.innerWidth-It,$r=-(window.innerHeight-st-It),hr=window.innerHeight-It;return{x:Math.min(Math.max(j.x,Hn),Kn),y:Math.min(Math.max(j.y,$r),hr)}},[It]);m.useEffect(()=>{const j=()=>{su(),Bs($=>re($)),!He&&!y&&bn($=>re($))};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[re,He,y,su]),m.useEffect(()=>{var $;if(!v)return;const j=q.current;j&&(document.fullscreenElement||($=j.requestFullscreen)==null||$.call(j).catch(()=>{E()}))},[v,E]),m.useEffect(()=>{},[]),m.useEffect(()=>{},[g,xt]),m.useLayoutEffect(()=>{su()},[y,He,zn,cr,b,Fs,su,yn]),m.useEffect(()=>{if(y){K(j=>iu(j));return}if(He){Bs(j=>re(j));return}bn(j=>re(j))},[iu,re,He,y]);const RC=m.useCallback(()=>{if(!ru){if(f>3e3){A(0);return}if(z>0&&N.length){U(z-1);return}if(z===-1&&N.length>0){U(0);return}if(t){t();return}A(0)}},[ru,f,z,N.length,U,A,t]),AC=m.useCallback(()=>{if(z>=0&&z<N.length-1){U(z+1);return}if(z===-1&&N.length>0){U(0);return}e&&e()},[z,N.length,U,e]);m.useCallback((j,$)=>{$s.current=!0,Vn.current=j,vn.current=$},[]),m.useEffect(()=>{const j=ae=>{if(!$s.current)return;const st="touches"in ae?ae.touches[0]:ae,Hn=(st==null?void 0:st.clientX)??Vn.current,Kn=(st==null?void 0:st.clientY)??vn.current,$r=Hn-Vn.current,hr=Kn-vn.current;Vn.current=Hn,vn.current=Kn;const pr=($r+hr)*.0025;tn(ef=>pe(ef+pr))},$=()=>{$s.current=!1};return window.addEventListener("mousemove",j),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),()=>{window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}},[pe]),m.useEffect(()=>{const j=ae=>{if(!Us.current)return;const st="touches"in ae?ae.touches[0]:ae,Hn=(st==null?void 0:st.clientX)??Vs.current,Kn=(st==null?void 0:st.clientY)??rt.current,$r=Hn-Vs.current,hr=Kn-rt.current;Vs.current=Hn,rt.current=Kn;const pr=($r+hr)*.0012;nn(ef=>wn(ef+pr))},$=()=>{Us.current=!1};return window.addEventListener("mousemove",j),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),()=>{window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}},[wn]);const OC=m.useCallback(()=>{var $r;if(typeof window>"u")return;const j=($r=Ii.current)==null?void 0:$r.getBoundingClientRect();if(!j)return;const $=12,ae=[{x:$,y:$},{x:window.innerWidth-j.width-$,y:$},{x:$,y:window.innerHeight-j.height-$},{x:window.innerWidth-j.width-$,y:window.innerHeight-j.height-$}];let st=ae[0],Hn=1/0;const Kn={x:j.left,y:j.top};for(const hr of ae){const pr=(hr.x-Kn.x)**2+(hr.y-Kn.y)**2;pr<Hn&&(Hn=pr,st=hr)}Bs(st)},[]);m.useEffect(()=>{o!=="youtube"&&(nn(1),Us.current=!1),y&&ur(!1)},[o]);const IC=i?"div":Ci.div,jC=i?"div":Ci.div;return S.jsxs(S.Fragment,{children:[S.jsx(IC,{ref:j=>{Ii.current=j,Zl.current=j,q.current=j},...i?{}:{drag:y||!Jl,dragConstraints:dr,dragElastic:.15,initial:{y:0,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2,ease:"easeOut"}},onDragEnd:(j,$)=>{if(y){const ae={x:b.x+$.offset.x,y:b.y+$.offset.y};K(iu(ae))}else if(He){const ae={x:cr.x+$.offset.x,y:cr.y+$.offset.y};Bs(ae),requestAnimationFrame(OC)}else{const ae={x:zn.x+$.offset.x,y:zn.y+$.offset.y};bn(ae)}},"data-player":"universal",className:`pointer-events-auto fixed z-[70] w-[min(720px,calc(100vw-32px))] ${y?"bottom-6 right-4 left-auto translate-x-0 w-[clamp(200px,80vw,360px)]":He?"top-0 left-0 translate-x-0 w-[min(460px,90vw)]":"top-16 left-1/2 -translate-x-1/2 w-[92vw] max-w-[720px]"}`,style:{scale:y?.5:He?.7:Fs,transformOrigin:y?"bottom right":He?"top left":"top center",x:y?b.x:He?cr.x:zn.x,y:y?b.y:He?cr.y:zn.y},children:S.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-border/60 bg-gradient-to-br ${ia.color} shadow-[0_18px_60px_-30px_rgba(0,0,0,0.75)] backdrop-blur-xl`,children:[S.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 md:px-5 md:py-3 bg-background/80 backdrop-blur",children:[S.jsx("span",{className:"flex h-8 w-8 md:h-10 md:w-10 items-center justify-center rounded-full bg-background/80 text-lg md:text-xl shadow-inner",children:ia.badge}),ia.Icon&&S.jsxs("span",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/10 text-white text-[10px] md:text-xs shadow-inner",children:[S.jsx(ia.Icon,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}),S.jsx("span",{className:"font-semibold tracking-tight",children:ia.label})]}),S.jsxs("div",{className:"flex flex-col leading-tight flex-1 min-w-0",children:[S.jsx("span",{className:"text-[9px] md:text-[10px] uppercase tracking-[0.18em] text-muted-foreground/80 font-medium",children:"Now Playing"}),xt&&S.jsx("span",{className:"text-xs md:text-sm font-bold text-foreground truncate","aria-label":"Track title",children:xt}),jt&&S.jsx("span",{className:"text-[11px] md:text-xs text-muted-foreground truncate","aria-label":"Artist name",children:jt})]}),S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("button",{type:"button",onClick:()=>oe(!0),className:"inline-flex h-7 w-7 md:h-9 md:w-9 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground","aria-label":"Show queue",title:"Show queue",children:S.jsx(pO,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),S.jsx("button",{type:"button",onClick:()=>By?RC():null,disabled:!By,className:"inline-flex h-8 w-8 md:h-10 md:w-10 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous track",title:"Previous track",children:S.jsx(xO,{className:"h-4 w-4 md:h-5 md:w-5"})}),S.jsx("button",{type:"button",onClick:C,className:"inline-flex h-8 w-8 md:h-10 md:w-10 items-center justify-center rounded-full border-2 border-primary/70 bg-primary/20 text-primary transition hover:border-primary hover:bg-primary hover:text-white","aria-label":k?"Pause":"Play",title:k?"Pause":"Play",children:k?S.jsx(yO,{className:"h-4 w-4 md:h-5 md:w-5"}):S.jsx(sc,{className:"h-4 w-4 md:h-5 md:w-5"})}),He&&S.jsx("button",{type:"button",onClick:()=>{ur(!1)},className:"inline-flex h-7 w-7 md:h-9 md:w-9 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground","aria-label":"Show video and expand player",title:"Show video",children:S.jsx(fO,{className:"h-3 w-3 md:h-4 md:w-4"})}),S.jsx("button",{type:"button",onClick:()=>Vy?AC():null,disabled:!Vy,className:"inline-flex h-8 w-8 md:h-10 md:w-10 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next track",title:"Next track",children:S.jsx(H1,{className:"h-4 w-4 md:h-5 md:w-5"})}),!He&&S.jsx("button",{type:"button",onClick:()=>{ur(!0)},className:"inline-flex h-7 w-7 md:h-9 md:w-9 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground","aria-label":"Compact player and hide video",title:"Compact (hide video)",children:S.jsx(dO,{className:"h-3 w-3 md:h-4 md:w-4"})}),S.jsx("button",{type:"button",onClick:PC,className:"inline-flex h-7 w-7 md:h-9 md:w-9 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground","aria-label":v?"Exit full screen":"Enter full screen",title:v?"Exit full screen":"Enter full screen",children:S.jsx(gO,{className:"h-3 w-3 md:h-4 md:w-4"})}),S.jsx("button",{type:"button",onClick:()=>{ur(!1);const j=iu(Qd());K(j),D()},className:"inline-flex h-7 w-7 md:h-9 md:w-9 items-center justify-center rounded-full border border-border/70 bg-muted/60 text-muted-foreground transition hover:border-border hover:bg-background hover:text-foreground","aria-label":"Minimize to mini player",title:"Minimize to mini player",children:S.jsx(mi,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]}),S.jsx(jC,{initial:i?void 0:!1,...i?{}:{animate:{height:o&&a&&!He?"auto":0,opacity:o&&a&&!He?1:0},transition:{duration:.25,ease:"easeOut"}},className:"overflow-hidden bg-black/80","aria-hidden":!o||!a||He,children:S.jsx("div",{className:"relative flex justify-center px-2 py-2",children:S.jsx("div",{className:"w-full sm:w-auto relative",style:{width:o==="youtube"?`${Math.min(Math.max(yn*100,30),160)}%`:"100%",maxWidth:"100%",transition:"width 120ms ease"},children:o==="spotify"?ue&&Re===!0?S.jsx(LU,{providerTrackId:a,autoplay:Q}):S.jsx(fk,{providerTrackId:a,autoplay:Q}):S.jsx(jU,{providerTrackId:a,autoplay:Q})})})}),S.jsxs("div",{className:"flex items-center gap-2 px-3 pb-3 md:px-4 md:pb-4 text-white",children:[S.jsx("span",{className:"text-[10px] md:text-xs tabular-nums w-12 text-right","aria-label":"Elapsed time",children:zy(St)}),S.jsx("input",{type:"range",min:"0",max:Zd,step:EC,value:TC,onPointerDownCapture:j=>j.stopPropagation(),onMouseDownCapture:j=>j.stopPropagation(),onTouchStartCapture:j=>j.stopPropagation(),onChange:j=>{const $=Number(j.target.value);Number.isFinite($)&&(Te($),we($))},onPointerDown:j=>{const $=j.currentTarget,ae=Number($.value);Number.isFinite(ae)&&(Te(ae),Bn(!0))},onPointerUp:j=>{const $=j.currentTarget,ae=Number($.value);Number.isFinite(ae)&&(we(ae),Bn(!1))},onMouseUp:j=>{const $=j.currentTarget,ae=Number($.value);Number.isFinite(ae)&&(we(ae),Bn(!1))},onTouchEnd:j=>{const $=j.currentTarget,ae=Number($.value);Number.isFinite(ae)&&(we(ae),Bn(!1))},onClick:j=>{const $=j.currentTarget,ae=Number($.value);Number.isFinite(ae)&&we(ae)},disabled:ru,className:`flex-1 min-w-[80px] h-1 bg-white/20 rounded-full appearance-none cursor-pointer\r
                       [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 \r
                       [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:rounded-full \r
                       [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer`,"aria-label":"Seek"},`${o??"none"}-${a??"none"}-seek`),S.jsx("span",{className:"text-[10px] md:text-xs tabular-nums w-12 text-left","aria-label":"Total duration",children:zy(Xd)}),S.jsx("button",{onClick:O,className:"inline-flex h-10 w-10 md:h-12 md:w-12 items-center justify-center rounded-full border border-white/25 bg-white/10 text-white/95 transition hover:border-white/50 hover:bg-white/20","aria-label":w?"Unmute":"Mute",children:w?S.jsx(_O,{className:"h-5 w-5 md:h-6 md:w-6"}):S.jsx(SO,{className:"h-5 w-5 md:h-6 md:w-6"})}),S.jsx("input",{type:"range",min:"0",max:"100",value:kC,onPointerDownCapture:j=>j.stopPropagation(),onMouseDownCapture:j=>j.stopPropagation(),onTouchStartCapture:j=>j.stopPropagation(),onChange:j=>T(Number(j.target.value)/100),className:`w-20 md:w-28 h-1 bg-white/20 rounded-full appearance-none cursor-pointer\r
                       [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 \r
                       [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:rounded-full \r
                       [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer`,"aria-label":"Volume"}),o==="spotify"&&Re!==!0&&S.jsx("button",{type:"button",onClick:CC,className:"rounded-full border border-white/30 bg-white/10 px-2.5 py-1 text-[10px] font-semibold uppercase tracking-wide text-white/90 transition hover:border-white/60 hover:bg-white/20","aria-label":"Reconnect Spotify",title:"Reconnect Spotify",children:"Reconnect Spotify"}),o==="youtube"&&S.jsx(S.Fragment,{children:S.jsx("button",{onClick:()=>tn(1),className:"p-1.5 text-white/80 hover:text-white transition-colors rounded","aria-label":"Reset video size",title:"Reset video size",children:S.jsx(vO,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})})]}),!y&&S.jsx("div",{className:"absolute bottom-2 right-2 h-4 w-4 cursor-se-resize outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-black",tabIndex:0,onMouseDown:j=>{j.preventDefault(),Us.current=!0,Vs.current=j.clientX,rt.current=j.clientY},onTouchStart:j=>{j.preventDefault();const $=j.touches[0];Vs.current=($==null?void 0:$.clientX)??0,rt.current=($==null?void 0:$.clientY)??0,Us.current=!0},onPointerDownCapture:j=>j.stopPropagation(),onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),nn(1))},title:"Drag to resize player window","aria-label":"Resize player window",style:{borderBottom:"8px solid rgba(255,255,255,0.65)",borderRight:"8px solid rgba(255,255,255,0.65)",borderTop:"8px solid transparent",borderLeft:"8px solid transparent",borderBottomRightRadius:"4px"}})]})}),S.jsx(cV,{open:ge,onOpenChange:oe,queue:N,currentIndex:z,onPlayTrack:j=>U(j),onRemoveTrack:j=>H(j),onReorderQueue:I,onClearQueue:L,onShuffleQueue:B})]})}const vz=Uk,wz=Vk,DV=Bk,dC=m.forwardRef(({className:e,...t},n)=>S.jsx(Wd,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));dC.displayName=Wd.displayName;const MV=Cg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),LV=m.forwardRef(({side:e="right",className:t,children:n,...r},i)=>S.jsxs(DV,{children:[S.jsx(dC,{}),S.jsxs(Hd,{ref:i,className:be(MV({side:e}),t),...r,children:[n,S.jsxs(zk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[S.jsx(mi,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));LV.displayName=Hd.displayName;const $V=({className:e,...t})=>S.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});$V.displayName="SheetHeader";const FV=m.forwardRef(({className:e,...t},n)=>S.jsx(Kd,{ref:n,className:be("text-lg font-semibold text-foreground",e),...t}));FV.displayName=Kd.displayName;const UV=m.forwardRef(({className:e,...t},n)=>S.jsx(qd,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));UV.displayName=qd.displayName;var fC={exports:{}},hC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=m;function VV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BV=typeof Object.is=="function"?Object.is:VV,zV=Ko.useState,WV=Ko.useEffect,HV=Ko.useLayoutEffect,KV=Ko.useDebugValue;function qV(e,t){var n=t(),r=zV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return HV(function(){i.value=n,i.getSnapshot=t,_h(i)&&o({inst:i})},[e,n,t]),WV(function(){return _h(i)&&o({inst:i}),e(function(){_h(i)&&o({inst:i})})},[e]),KV(n),n}function _h(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!BV(e,n)}catch{return!0}}function GV(e,t){return t()}var YV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GV:qV;hC.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:YV;fC.exports=hC;var QV=fC.exports;function XV(){return QV.useSyncExternalStore(JV,()=>!0,()=>!1)}function JV(){return()=>{}}var $y="Avatar",[ZV,bz]=Oi($y),[eB,pC]=ZV($y),mC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=m.useState("idle");return S.jsx(eB,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:S.jsx(Ee.span,{...r,ref:t})})});mC.displayName=$y;var gC="AvatarImage",yC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=pC(gC,n),l=tB(r,o),u=ot(c=>{i(c),a.onImageLoadingStatusChange(c)});return Xt(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?S.jsx(Ee.img,{...o,ref:t,src:r}):null});yC.displayName=gC;var vC="AvatarFallback",wC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=pC(vC,n),[a,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&o.imageLoadingStatus!=="loaded"?S.jsx(Ee.span,{...i,ref:t}):null});wC.displayName=vC;function Wb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tB(e,{referrerPolicy:t,crossOrigin:n}){const r=XV(),i=m.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=m.useState(()=>Wb(o,e));return Xt(()=>{l(Wb(o,e))},[o,e]),Xt(()=>{const u=f=>()=>{l(f)};if(!o)return;const c=u("loaded"),d=u("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,n,t]),a}var bC=mC,xC=yC,SC=wC;const nB=m.forwardRef(({className:e,...t},n)=>S.jsx(bC,{ref:n,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));nB.displayName=bC.displayName;const rB=m.forwardRef(({className:e,...t},n)=>S.jsx(xC,{ref:n,className:be("aspect-square h-full w-full",e),...t}));rB.displayName=xC.displayName;const sB=m.forwardRef(({className:e,...t},n)=>S.jsx(SC,{ref:n,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sB.displayName=SC.displayName;const iB={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function _C({size:e="md",className:t,fullScreen:n=!1,label:r}){const i=S.jsxs("div",{className:be("flex flex-col items-center gap-2",t),children:[S.jsx(mO,{className:be("animate-spin text-primary",iB[e])}),r&&S.jsx("span",{className:"text-sm text-muted-foreground",children:r})]});return n?S.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i}):i}function xz({count:e=1}){return S.jsx(S.Fragment,{children:[...Array(e)].map((t,n)=>S.jsx("div",{className:"animate-pulse",children:S.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-muted/50",children:[S.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex-shrink-0"}),S.jsxs("div",{className:"flex-1 space-y-2",children:[S.jsx("div",{className:"h-4 bg-muted rounded w-2/3"}),S.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},n))})}const oB=(e,t)=>{if(!e||!t)return!1;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!0;return!1};class Fy extends m.Component{constructor(){super(...arguments);tf(this,"state",{error:null});tf(this,"resetErrorBoundary",()=>{this.setState({error:null})})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n,r){var i,o;(o=(i=this.props).onError)==null||o.call(i,n,r)}componentDidUpdate(n){this.state.error&&this.props.resetKeys&&oB(n.resetKeys,this.props.resetKeys)&&this.resetErrorBoundary()}render(){const{error:n}=this.state;return n?this.props.fallbackRender?this.props.fallbackRender({error:n,resetErrorBoundary:this.resetErrorBoundary}):this.props.fallback??S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-6",children:S.jsxs("div",{className:"w-full max-w-md rounded-xl border border-border/60 bg-card/60 p-6 space-y-3",children:[S.jsx("h1",{className:"text-lg font-semibold",children:"Something went wrong"}),S.jsx("p",{className:"text-sm text-muted-foreground",children:"The app hit an unexpected error. You can try again, or reload the page."}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",onClick:this.resetErrorBoundary,className:"inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground",children:"Try again"}),S.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"inline-flex h-9 items-center justify-center rounded-md border border-border/70 bg-background px-3 text-sm font-medium",children:"Reload"})]}),!1]})}):this.props.children}}const aB=new Set(["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","Script error."]),lB=e=>{if(e instanceof Error)return e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}};function uB(){const e=m.useRef(null);return m.useEffect(()=>{const t=(i,o)=>{if(!o||aB.has(o))return;const a=Date.now(),l="Please try again or reload the page.",u=`${i}:${l}`,c=e.current;c&&c.key===u&&a-c.at<5e3||(e.current={at:a,key:u},Sg({title:i,description:l}))},n=i=>{const o=i.error instanceof Error?i.error.message:i.message;t("Unexpected error",o||"Unknown error")},r=i=>{const o=lB(i.reason);t("Unexpected error",o||"Unhandled promise rejection")};return window.addEventListener("error",n),window.addEventListener("unhandledrejection",r),()=>{window.removeEventListener("error",n),window.removeEventListener("unhandledrejection",r)}},[]),null}function cB(){return Fn({queryKey:["isAdmin"],queryFn:async()=>{const{data:{user:e}}=await Qe.auth.getUser();if(!e)return!1;const{data:t,error:n}=await Qe.rpc("is_admin",{user_id:e.id});return n?(console.error("Error checking admin status:",n),!1):t===!0},staleTime:5*60*1e3})}function Sz(e,t=20,n=0){return Fn({queryKey:["adminUsers",e,t,n],queryFn:async()=>{let r=Qe.from("profiles").select(`
          *,
          user_roles(role)
        `,{count:"exact"}).range(n,n+t-1).order("created_at",{ascending:!1});e&&(r=r.or(`username.ilike.%${e}%,email.ilike.%${e}%`));const{data:i,error:o,count:a}=await r;if(o)throw o;return{users:i,total:a||0}},staleTime:1*60*1e3})}function _z(){return Fn({queryKey:["adminStats"],queryFn:async()=>{const{count:e}=await Qe.from("profiles").select("*",{count:"exact",head:!0}),t=new Date;t.setDate(t.getDate()-7);const{count:n}=await Qe.from("play_history").select("user_id",{count:"exact",head:!0}).gte("played_at",t.toISOString()),{count:r}=await Qe.from("tracks").select("*",{count:"exact",head:!0}),{count:i}=await Qe.from("play_history").select("*",{count:"exact",head:!0}),{count:o}=await Qe.from("user_interactions").select("*",{count:"exact",head:!0});return{totalUsers:e||0,activeUsers:n||0,totalTracks:r||0,totalPlays:i||0,totalInteractions:o||0}},staleTime:2*60*1e3})}function Ez(e="unresolved"){return Fn({queryKey:["flaggedContent",e],queryFn:async()=>{const{data:t,error:n}=await Qe.from("user_interactions").select(`
          *,
          user:user_id(username, email),
          track:track_id(title, artist)
        `).eq("interaction_type","flag").order("created_at",{ascending:!1});if(n)throw n;return t},staleTime:30*1e3})}function dB(){const{data:e,isLoading:t}=cB(),n=Wl();return t?S.jsx("div",{className:"flex items-center justify-center min-h-screen",children:S.jsx(_C,{})}):e?S.jsx(N2,{}):S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[S.jsx(wO,{className:"w-16 h-16 text-muted-foreground"}),S.jsx("h2",{className:"text-2xl font-bold",children:"Access Denied"}),S.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this area."}),S.jsx(Gr,{onClick:()=>n("/"),children:"Go Home"})]})}const fB=m.lazy(()=>je(()=>import("./Index-Bw3E_9zw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),hB=m.lazy(()=>je(()=>import("./FeedPage--phu7K-Y.js"),__vite__mapDeps([19,20,21,22,23,24,25,26,27,28,17,29,5,30,31,32,33,34,35,36,37,38,15,39,40,41,16,4,18,7,42,11,43,2,44,45,46,47,48,49,50,3]))),pB=m.lazy(()=>je(()=>import("./AuthGatePage-DI6QxhlJ.js"),[])),mB=m.lazy(()=>je(()=>import("./LoginPage-mL9h_KNs.js"),__vite__mapDeps([51,52,38,53,54,9]))),gB=m.lazy(()=>je(()=>import("./SignUpPage-AVSnWLdJ.js"),__vite__mapDeps([55,52,38,53,54,9]))),yB=m.lazy(()=>je(()=>import("./SearchPage-LzZsgymc.js"),__vite__mapDeps([56,16,4,17,18,21,52,25,46,57,47,48,43,13,30,12,33,5,58,6,59]))),vB=m.lazy(()=>je(()=>import("./ComparePage-BkEAysDS.js"),__vite__mapDeps([60,16,4,17,18,43,21,61,10,25,46,6,5,62,36,28,22]))),wB=m.lazy(()=>je(()=>import("./ProfilePage-0nRqAjjE.js"),__vite__mapDeps([63,21,64,16,4,17,18,43,65,48,52,57,49,66,26,38,62,36,28,24,35,67,12,14,5,68,27,40,13,69,58,33,44,31,32]))),bB=m.lazy(()=>je(()=>import("./ConnectionsPage-B8lTaFxF.js"),__vite__mapDeps([70,16,4,17,18,43,53,6,13,68]))),xB=m.lazy(()=>je(()=>import("./FollowingPage-Dpxa__dQ.js"),__vite__mapDeps([71,37,36,42,30,59,64,16,4,17,18,43,65,15,58,31,32]))),SB=m.lazy(()=>je(()=>import("./SpotifyCallbackPage-BIdgjRss.js"),__vite__mapDeps([72,73,50]))),_B=m.lazy(()=>je(()=>import("./PricingPage-DhVIUYy-.js"),__vite__mapDeps([74,1,2,3,4,5,6,7,8,28]))),EB=m.lazy(()=>je(()=>import("./BillingPage-CL8ojiq2.js"),__vite__mapDeps([75,10,25,43,18,32]))),TB=m.lazy(()=>je(()=>import("./AlbumPage-4A9H3TrQ.js"),__vite__mapDeps([76,16,4,17,18,77,52,29,30,33,31,32,78,11,59,27,79,80,15,39,58,42,53,41,69]))),kB=m.lazy(()=>je(()=>import("./ArtistPage-B9i92bRC.js"),__vite__mapDeps([81,66,26,16,4,17,18,77,52,29,30,33,31,32,78,11,59,27,79,80,15,39,58,42,53,41,69]))),CB=m.lazy(()=>je(()=>import("./TrackDetailPage-D2tD5ucd.js"),__vite__mapDeps([82,45,30,46,47,16,4,17,18,21,61,10,25,43,6,5,23,24,26,27,28,29,31,32,33,34,41,66,42,11,53,59]))),PB=m.lazy(()=>je(()=>import("./PlaylistsPage-Ba2SSMZz.js"),__vite__mapDeps([83,64,16,4,17,18,43,10,52,38,24,35,36,84,85,86,15,34,31,32]))),RB=m.lazy(()=>je(()=>import("./PlaylistDetailPage-D9dSBMCr.js"),__vite__mapDeps([87,64,16,4,17,18,43,10,52,38,24,35,36,20,21,22,23,25,26,27,28,29,5,30,31,32,33,34,37,15,39,40,41,7,42,11,2,44,84,85]))),Eh=m.lazy(()=>je(()=>import("./ForumHomePage-Do8cnlKQ.js"),__vite__mapDeps([88,10,43,18,52,17,86,13,78,41,44])).then(e=>({default:e.ForumHomePage}))),AB=m.lazy(()=>je(()=>import("./AdminDashboard-DuFY8m5B.js"),__vite__mapDeps([89,64,16,4,17,18,43,66,26,10,52,25,15,33,90]))),OB=m.lazy(()=>je(()=>import("./AdminPerformanceDashboard-D8U6Vtjs.js"),__vite__mapDeps([91,10,66,26,25,73,58,90,13]))),IB=m.lazy(()=>je(()=>import("./TermsOfServicePage-03W1RlTK.js"),__vite__mapDeps([92,10,93,11,8,7,33,53,80])).then(e=>({default:e.TermsOfServicePage}))),jB=m.lazy(()=>je(()=>import("./PrivacyPolicyPage-Dahv3irB.js"),__vite__mapDeps([94,10,93,11,8,7,33,53,67,9,85])).then(e=>({default:e.PrivacyPolicyPage}))),NB=m.lazy(()=>je(()=>import("./MusicTasteSurvey-CYNobEHO.js"),__vite__mapDeps([95,10,79,5,13,33])).then(e=>({default:e.MusicTasteSurvey}))),DB=m.lazy(()=>je(()=>import("./NotFound-D9Ifqzg7.js"),[])),MB=new RN,LB=()=>S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:S.jsx(_C,{size:"lg"})}),$B=({children:e})=>{const t=Ds();return S.jsx(Fy,{resetKeys:[t.pathname],children:e})},FB=()=>{const e=Ds(),{user:t}=en(),n=e.pathname==="/"||e.pathname==="";return!t&&n?null:S.jsx(Fy,{resetKeys:[e.pathname],fallback:null,onError:r=>{Sg({title:"Player temporarily unavailable",description:"Please reload the page to try again."})},children:S.jsx(NV,{})})},UB=()=>S.jsx(NN,{client:MB,children:S.jsx(fN,{children:S.jsx(IL,{children:S.jsx($L,{children:S.jsx(ML,{children:S.jsxs(FL,{children:[S.jsx(iI,{}),S.jsx(LI,{}),S.jsxs(H2,{basename:"/clademusic/",children:[S.jsx(uB,{}),S.jsx($B,{children:S.jsx(m.Suspense,{fallback:S.jsx(LB,{}),children:S.jsxs(M2,{children:[S.jsx(Se,{path:"/",element:S.jsx(fB,{})}),S.jsx(Se,{path:"/pricing",element:S.jsx(_B,{})}),S.jsx(Se,{path:"/billing",element:S.jsx(EB,{})}),S.jsx(Se,{path:"/feed",element:S.jsx(hB,{})}),S.jsx(Se,{path:"/auth",element:S.jsx(pB,{})}),S.jsx(Se,{path:"/login",element:S.jsx(mB,{})}),S.jsx(Se,{path:"/signup",element:S.jsx(gB,{})}),S.jsx(Se,{path:"/search",element:S.jsx(yB,{})}),S.jsx(Se,{path:"/compare",element:S.jsx(vB,{})}),S.jsx(Se,{path:"/profile",element:S.jsx(wB,{})}),S.jsx(Se,{path:"/following",element:S.jsx(xB,{})}),S.jsx(Se,{path:"/connections/:trackId",element:S.jsx(bB,{})}),S.jsx(Se,{path:"/spotify-callback",element:S.jsx(SB,{})}),S.jsx(Se,{path:"/album/:albumId",element:S.jsx(TB,{})}),S.jsx(Se,{path:"/artist/:artistId",element:S.jsx(kB,{})}),S.jsx(Se,{path:"/track/:trackId",element:S.jsx(CB,{})}),S.jsx(Se,{path:"/playlists",element:S.jsx(PB,{})}),S.jsx(Se,{path:"/playlist/:playlistId",element:S.jsx(RB,{})}),S.jsx(Se,{path:"/forum",element:S.jsx(Eh,{})}),S.jsx(Se,{path:"/forum/:forumName",element:S.jsx(Eh,{})}),S.jsx(Se,{path:"/forum/post/:postId",element:S.jsx(Eh,{})}),S.jsx(Se,{path:"/terms",element:S.jsx(IB,{})}),S.jsx(Se,{path:"/privacy",element:S.jsx(jB,{})}),S.jsx(Se,{path:"/survey",element:S.jsx(NB,{})}),S.jsxs(Se,{element:S.jsx(dB,{}),children:[S.jsx(Se,{path:"/admin",element:S.jsx(AB,{})}),S.jsx(Se,{path:"/admin/performance",element:S.jsx(OB,{})})]}),S.jsx(Se,{path:"*",element:S.jsx(DB,{})})]})})}),S.jsx(FB,{})]})]})})})})})});s;m1(document.getElementById("root")).render(S.jsx(Fy,{children:S.jsx(UB,{})}));export{Kj as $,hz as A,Gr as B,fO as C,V4 as D,pz as E,dz as F,mz as G,aC as H,cz as I,cB as J,SE as K,_C as L,Wi as M,nB as N,rB as O,sc as P,yz as Q,W as R,iC as S,sB as T,uC as U,sz as V,_A as W,mi as X,Oi as Y,f_ as Z,qe as _,en as a,v1 as a$,Ee as a0,ve as a1,Xt as a2,Ul as a3,O4 as a4,HU as a5,Sk as a6,hk as a7,Ed as a8,qj as a9,eT as aA,I$ as aB,ir as aC,hn as aD,dt as aE,Y$ as aF,Ti as aG,CE as aH,Ps as aI,ki as aJ,ck as aK,G2 as aL,bO as aM,lz as aN,Ls as aO,EV as aP,K4 as aQ,vz as aR,wz as aS,LV as aT,$V as aU,FV as aV,ZB as aW,pO as aX,Fj as aY,or as aZ,g1 as a_,Nf as aa,Gj as ab,VA as ac,ot as ad,G4 as ae,S1 as af,HB as ag,_g as ah,hl as ai,Y4 as aj,QB as ak,_O as al,yO as am,SO as an,hV as ao,oz as ap,xz as aq,uz as ar,SV as as,BF as at,_T as au,Pe as av,jr as aw,Tl as ax,OE as ay,zF as az,gz as b,by as b0,qg as b1,d5 as b2,TE as b3,Cg as b4,_z as b5,Ez as b6,Sz as b7,Ds as b8,XB as b9,BB as ba,tx as bb,z1 as bc,mt as c,Kl as d,dO as e,WB as f,mO as g,JB as h,sa as i,S as j,Fn as k,Qe as l,Ci as m,be as n,az as o,V_ as p,z_ as q,m as r,gV as s,pA as t,Wl as u,Hk as v,z4 as w,H4 as x,W4 as y,fz as z};
